mashupApp.controller("mashup.LoginController",["$location","sessionService","cacheService","utility",function(a,b,c,d){"use strict";var e=this,f=function(){return c.getCache("coreSession")};f().then(function(a){e.appSession=a}),e.login=function(){g(e.data.login.name,"coreSession"),h(e.data.login.name,"coreSession"),a.path("/")};var g=function(a,c){var d=b.getUserSessions();d.userName=a,d.appName=c,b.setUserSession(d)},h=function(a,b){"NoCache"===e.appSession&&(e.appSession={sessions:[]},e.appSession.id="mashupSessions");var f=d.localMilToUtcMil((new Date).getTime()),g=d.utcMilToLocalMil(f),h=Date(g);e.appSession.sessions.push({appName:b,userName:a,authTimeUTCMills:f,authTimelocalMills:g,authTimelocalDate:h}),c.putCache("mashupSessions",{name:"mashupSessions",keyPath:"id"},e.appSession)}}]);
//# sourceMappingURL=login.controller.min.js.map