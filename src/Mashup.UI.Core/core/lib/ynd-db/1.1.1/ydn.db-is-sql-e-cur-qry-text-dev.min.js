(function(n,t,i){typeof i.module!="undefined"&&i.module.exports?i.module.exports=t.apply(i):typeof i.define!="undefined"&&i.define==="function"&&i.define.amd?define(n,[],t):i[n]=t()})("ydn",function(){function i(n){return void 0!==n}function ep(n){n=n.split(".");for(var t=c,i;i=n.shift();)if(null!=t[i])t=t[i];else return null;return t}function df(n){var t=typeof n,i;if("object"==t)if(n){if(n instanceof Array)return"array";if(n instanceof Object)return t;if(i=Object.prototype.toString.call(n),"[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof n.length&&"undefined"!=typeof n.splice&&"undefined"!=typeof n.propertyIsEnumerable&&!n.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||"undefined"!=typeof n.call&&"undefined"!=typeof n.propertyIsEnumerable&&!n.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==t&&"undefined"==typeof n.call)return"object";return t}function l(n){return"array"==df(n)}function it(n){var t=df(n);return"array"==t||"object"==t&&"number"==typeof n.length}function e(n){return"string"==typeof n}function si(n){return"boolean"==typeof n}function ft(n){return"number"==typeof n}function ot(n){return"function"==df(n)}function v(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}function yd(n){return n.call.apply(n.bind,arguments)}function pd(n,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function yt(){return yt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?yd:pd,yt.apply(null,arguments)}function wd(n){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function dt(n,t){var u=n.split("."),r=c,f;for((u[0]in r)||!r.execScript||r.execScript("var "+u[0]);u.length&&(f=u.shift());)!u.length&&i(t)?r[f]=t:r=r[f]?r[f]:r[f]={}}function u(n,t){function i(){}i.prototype=t.prototype;n.s=t.prototype;n.prototype=new i;n.prototype.constructor=n;n.uc=function(n,i){return t.prototype[i].apply(n,Array.prototype.slice.call(arguments,2))}}function sp(n){n.prototype.then=n.prototype.then;n.prototype.$goog_Thenable=!0}function ol(n){if(!n)return!1;try{return!!n.$goog_Thenable}catch(t){return!1}}function lt(n){if(Error.captureStackTrace)Error.captureStackTrace(this,lt);else{var t=Error().stack;t&&(this.stack=t)}n&&(this.message=String(n))}function bd(n){for(var t=n.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<t.length;)i+=t.shift()+r.shift();return i+t.join("%s")}function gs(n){return/^[\s\xa0]*$/.test(n)}function hu(n){return rg.test(n)?(-1!=n.indexOf("&")&&(n=n.replace(kd,"&amp;")),-1!=n.indexOf("<")&&(n=n.replace(dd,"&lt;")),-1!=n.indexOf(">")&&(n=n.replace(gd,"&gt;")),-1!=n.indexOf('"')&&(n=n.replace(ng,"&quot;")),-1!=n.indexOf("'")&&(n=n.replace(tg,"&#39;")),-1!=n.indexOf("\x00")&&(n=n.replace(ig,"&#0;")),n):n}function ir(n,t){for(var u,r=t.length,i=0;i<r;i++)if(u=1==r?t:t.charAt(i),n.charAt(0)==u&&n.charAt(n.length-1)==u)return n.substring(1,n.length-1);return n}function vi(n){var f,u;if(n=String(n),n.quote)return n.quote();for(f=['"'],u=0;u<n.length;u++){var t=n.charAt(u),r=t.charCodeAt(0),e=u+1,i;(i=nh[t])||(31<r&&127>r||(t in io?t=io[t]:t in nh?t=io[t]=nh[t]:(r=t,i=t.charCodeAt(0),31<i&&127>i?r=t:(256>i?(r="\\x",16>i||256<i)&&(r+="0"):(r="\\u",4096>i&&(r+="0")),r+=i.toString(16).toUpperCase()),t=io[t]=r)),i=t);f[e]=i}return f.push('"'),f.join("")}function hl(n,t){return n<t?-1:n>t?1:0}function cl(n,t){t.unshift(n);lt.call(this,bd.apply(null,t));t.shift()}function cu(n){throw new cl("Failure"+(n?": "+n:""),Array.prototype.slice.call(arguments,1));}function gf(n,t){var i=iu(n,t,void 0);return 0>i?null:e(n)?n.charAt(i):n[i]}function iu(n,t,i){for(var f=n.length,u=e(n)?n.split(""):n,r=0;r<f;r++)if(r in u&&t.call(i,u[r],r,n))return r;return-1}function cp(n){if(!l(n))for(var t=n.length-1;0<=t;t--)delete n[t];n.length=0}function yi(n){var i=n.length,r,t;if(0<i){for(r=Array(i),t=0;t<i;t++)r[t]=n[t];return r}return[]}function fg(n){gt.splice.apply(n,eg(arguments,1))}function eg(n,t,i){return 2>=arguments.length?gt.slice.call(n,t):gt.slice.call(n,t,i)}function ro(n,t){if(!it(n)||!it(t)||n.length!=t.length)return!1;for(var r=n.length,u=sg,i=0;i<r;i++)if(!u(n[i],t[i]))return!1;return!0}function og(n,t){return n>t?1:n<t?-1:0}function sg(n,t){return n===t}function hg(n,t){var r,i,u,o,f,e;for(r=oit||og,i=0,u=n.length;i<u;)f=i+u>>1,e=r(t,n[f]),0<e?i=f+1:(u=f,o=!e);r=o?i:~i;0>r&&fg(n,-(r+1),0,t)}function pt(n){return-1!=lu.indexOf(n)}function cg(n,t){for(var i in n)t.call(void 0,n[i],i,n)}function yl(n,t){for(var r=it(t),u=r?t:arguments,r=r?0:1;r<u.length&&(n=n[u[r]],i(n));r++);return n}function lp(n){for(var t,i,u,r=1;r<arguments.length;r++){i=arguments[r];for(t in i)n[t]=i[t];for(u=0;u<pl.length;u++)t=pl[u],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function rh(){var i=arguments.length,t,n;if(1==i&&l(arguments[0]))return rh.apply(null,arguments[0]);for(t={},n=0;n<i;n++)t[arguments[n]]=!0;return t}function ap(n){c.setTimeout(function(){throw n;},0)}function lg(){var t=c.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&(t=function(){var n=document.createElement("iframe"),t;n.style.display="none";n.src="";document.documentElement.appendChild(n);t=n.contentWindow;n=t.document;n.open();n.write("");n.close();var r="callImmediate"+Math.random(),i="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,n=yt(function(n){("*"==i||n.origin==i)&&n.data==r&&this.port1.onmessage()},this);t.addEventListener("message",n,!1);this.port1={};this.port2={postMessage:function(){t.postMessage(r,i)}}}),"undefined"!=typeof t&&!pt("Trident")&&!pt("MSIE")){var u=new t,n={},r=n;return u.port1.onmessage=function(){if(i(n.next)){n=n.next;var t=n.vb;n.vb=null;t()}},function(n){r.next={vb:n};r=r.next;u.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("script")?function(n){var t=document.createElement("script");t.onreadystatechange=function(){t.onreadystatechange=null;t.parentNode.removeChild(t);t=null;n();n=null};document.documentElement.appendChild(t)}:function(n){c.setTimeout(n,0)}}function bl(n,t){uh||ag();uo||(uh(),uo=!0);ne.push(new vg(n,t))}function ag(){if(c.Promise&&c.Promise.resolve){var n=c.Promise.resolve();uh=function(){n.then(vp)}}else uh=function(){var n=vp;!ot(c.setImmediate)||c.Window&&c.Window.prototype.setImmediate==c.setImmediate?(wl||(wl=lg()),wl(n)):c.setImmediate(n)}}function vp(){for(var t,n,i;ne.length;)for(t=ne,ne=[],n=0;n<t.length;n++){i=t[n];try{i.a.call(i.b)}catch(r){ap(r)}}uo=!1}function vg(n,t){this.a=n;this.b=t}function au(n,t){this.b=vu;this.f=void 0;this.a=this.c=null;this.d=this.e=!1;try{var i=this;n.call(t,function(n){te(i,fh,n)},function(n){if(!(n instanceof ie))try{if(n instanceof Error)throw n;throw Error("Promise rejected.");}catch(t){}te(i,dr,n)})}catch(r){te(this,dr,r)}}function yp(n,t){var i;if(n.b==vu)if(n.c){if(i=n.c,i.a){for(var r=0,u=-1,e=0,f;f=i.a[e];e++)if((f=f.ra)&&(r++,f==n&&(u=e),0<=u&&1<r))break;0<=u&&(i.b==vu&&1==r?yp(i,t):(r=i.a.splice(u,1)[0],wp(i,r,dr,t)))}}else te(n,dr,t)}function yg(n,t){n.a&&n.a.length||n.b!=fh&&n.b!=dr||pp(n);n.a||(n.a=[]);n.a.push(t)}function pg(n,t,r,u){var f={ra:null,Fb:null,Gb:null};return f.ra=new au(function(n,e){f.Fb=t?function(i){try{var r=t.call(u,i);n(r)}catch(f){e(f)}}:n;f.Gb=r?function(t){try{var f=r.call(u,t);!i(f)&&t instanceof ie?e(t):n(f)}catch(o){e(o)}}:e}),f.ra.c=n,yg(n,f),f.ra}function te(n,t,i){if(n.b==vu){if(n==i)t=dr,i=new TypeError("Promise cannot resolve to itself");else{if(ol(i)){n.b=1;i.then(n.g,n.i,n);return}if(v(i))try{var r=i.then;if(ot(r)){wg(n,i,r);return}}catch(u){t=dr;i=u}}n.f=i;n.b=t;pp(n);t!=dr||i instanceof ie||bg(n,i)}}function wg(n,t,i){function u(t){r||(r=!0,n.i(t))}function f(t){r||(r=!0,n.g(t))}n.b=1;var r=!1;try{i.call(t,f,u)}catch(e){u(e)}}function pp(n){n.e||(n.e=!0,bl(n.j,n))}function wp(n,t,i,r){if(i==fh)t.Fb(r);else{if(t.ra)for(;n&&n.d;n=n.c)n.d=!1;t.Gb(r)}}function bg(n,t){n.d=!0;bl(function(){n.d&&bp.call(null,t)})}function ie(n){lt.call(this,n)}function g(n,t){this.i=[];this.M=t||null;this.b=this.c=!1;this.e=void 0;this.W=this.A=this.j=!1;this.g=0;this.d=null;this.t=0}function kl(n,t,i){n.c=!0;n.e=i;n.b=!t;n.Ya()}function kp(n){if(n.c){if(!n.W)throw new eh;n.W=!1}}function ui(n,t,i,r){return n.i.push([t,i,r]),n.c&&n.Ya(),n}function kg(n,t){t instanceof g?n.D(yt(t.ua,t)):n.D(function(){return t})}function dl(n){return ll(n.i,function(n){return ot(n[1])})}function eh(){lt.call(this)}function dp(n){this.Ja=c.setTimeout(yt(this.b,this),0);this.a=n}function gp(n){var t=fo[n];t&&(c.clearTimeout(t.Ja),delete fo[n])}function t(n){lt.call(this,n);this.name="ydn.error.ArgumentException"}function gl(n){lt.call(this,n);this.name="ydn.error.TypeError"}function yu(n){lt.call(this,n);this.name="ydn.error.NotSupportedException"}function nw(n){lt.call(this,n);this.name="ydn.error.NotImplementedException"}function pu(n){lt.call(this,n);this.name="ydn.error.InvalidOperationException"}function hr(n){Error.captureStackTrace?Error.captureStackTrace(this,hr):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ydn.error.InternalError"}function eo(){}function dg(n){if(n instanceof eo)return n;if("function"==typeof n.Sa)return n.Sa(!1);if(it(n)){var t=0,i=new eo;return i.next=function(){for(;;){if(t>=n.length)throw re;if(t in n)return n[t++];t++}},i}throw Error("Not implemented");}function gg(n,t){if(it(n))try{th(n,t,void 0)}catch(i){if(i!==re)throw i;}else{n=dg(n);try{for(;;)t.call(void 0,n.next(),void 0,n)}catch(r){if(r!==re)throw r;}}}function oo(n){var i,r,t,u;if(this.b={},this.a=[],this.d=this.c=0,t=arguments.length,1<t){if(t%2)throw Error("Uneven number of arguments");for(i=0;i<t;i+=2)tw(this,arguments[i],arguments[i+1])}else if(n){if(n instanceof oo)r=n.sa(),i=n.ab();else{t=[];u=0;for(r in n)t[u++]=r;r=t;t=[];u=0;for(i in n)t[u++]=n[i];i=t}for(t=0;t<r.length;t++)tw(this,r[t],i[t])}}function na(n){var t,i,u,r;if(n.c!=n.a.length){for(t=0,r=0;t<n.a.length;)i=n.a[t],Object.prototype.hasOwnProperty.call(n.b,i)&&(n.a[r++]=i),t++;n.a.length=r}if(n.c!=n.a.length){for(u={},r=t=0;t<n.a.length;)i=n.a[t],Object.prototype.hasOwnProperty.call(u,i)||(n.a[r++]=i,u[i]=1),t++;n.a.length=r}}function tw(n,t,i){Object.prototype.hasOwnProperty.call(n.b,t)||(n.c++,n.a.push(t),n.d++);n.b[t]=i}function rw(){var n=c.document;if(n)return n.documentMode}function cr(n){var t,i,r;if(!(t=ra[n])){t=0;for(var f=sl(String(ia)).split("."),e=sl(String(n)).split("."),o=Math.max(f.length,e.length),u=0;0==t&&u<o;u++){var s=f[u]||"",h=e[u]||"",c=RegExp("(\\d*)(\\D*)","g"),l=RegExp("(\\d*)(\\D*)","g");do{if(i=c.exec(s)||["","",""],r=l.exec(h)||["","",""],0==i[0].length&&0==r[0].length)break;t=hl(0==i[1].length?0:parseInt(i[1],10),0==r[1].length?0:parseInt(r[1],10))||hl(0==i[2].length,0==r[2].length)||hl(i[2],r[2])}while(0==t)}t=ra[n]=0<=t}return t}function nn(n){var t;return t||(t=uw(n||arguments.callee.caller,[])),t}function uw(n,t){var r=[],f,u,i;if(0<=at(t,n))r.push("[...circular reference...]");else if(n&&50>t.length){for(r.push(fw(n)+"("),f=n.arguments,u=0;f&&u<f.length;u++){0<u&&r.push(", ");i=f[u];switch(typeof i){case"object":i=i?"object":"null";break;case"string":break;case"number":i=String(i);break;case"boolean":i=i?"true":"false";break;case"function":i=(i=fw(i))?i:"[fn]";break;default:i=typeof i}40<i.length&&(i=i.substr(0,40)+"...");r.push(i)}t.push(n);r.push(")\n");try{r.push(uw(n.caller,t))}catch(e){r.push("[exception trying to get caller]\n")}}else n?r.push("[...long stack...]"):r.push("[end]");return r.join("")}function fw(n){if(ee[n])return ee[n];if(n=String(n),!ee[n]){var t=/function ([^\(]+)/.exec(n);ee[n]=t?t[1]:"[Anonymous]"}return ee[n]}function fa(n,t,i,r,u){"number"==typeof u||ew++;this.f=r||ds();this.e=n;this.d=t;this.c=i;delete this.b;delete this.a}function oe(n){this.e=n;this.a=this.d=this.b=this.c=null}function nr(n,t){this.name=n;this.value=t}function sw(n){return n.b?n.b:n.c?sw(n.c):(cu("Root logger has no level set."),null)}function hw(){se||(se=new oe(""),hh[""]=se,se.b=ow)}function ch(){return hw(),se}function p(n){var t;if(hw(),!(t=hh[n])){t=new oe(n);var i=n.lastIndexOf("."),r=n.substr(i+1),i=p(n.substr(0,i));i.d||(i.d={});i.d[r]=t;t.c=i;hh[n]=t}return t}function st(n,t,i){n&&n.log(t,i,void 0)}function co(n,t){n&&n.log(sh,t,void 0)}function b(n,t){n&&n.log(lr,t,void 0)}function rr(n,t){n&&n.log(oa,t,void 0)}function f(n,t){n&&n.log(wu,t,void 0)}function o(n,t){n&&n.log(pi,t,void 0)}function fi(n,t){g.call(this,0,t);this.f=[]}function lo(n,t){for(var i=0;i<n.f.length;i++)n.f[i][0].call(n.f[i][1],t)}function bu(n,t){var r,u;for(2==arguments.length&&e(arguments[1])?(r=!0,u=arguments[1].split(".")):u=(r=it(t))?t:arguments,r=r?0:1;r<u.length&&(n=n[u[r]],i(n));r++);return n}function cw(n,t,i){if(n)if(-1==t.indexOf("."))n[t]=i;else{t=t.split(".");for(var u=t.pop(),r;r=t.shift();)v(n[r])||(n[r]={}),n=n[r];n[u]=i}}function lh(n){var r,t,u,i,f;for(n=[n],r=new ah,t=0;void 0!==(i=n.pop());){if(0==t%4&&12<t+4&&(r.write(t),t=0),u=typeof i,i instanceof Array)if(t+=4,0<i.length){for(n.push(ca),u=i.length;u--;)n.push(i[u]);continue}else r.write(t);else if("number"===u)t+=1,r.write(t),aw(r,i);else if(i instanceof Date)t+=2,r.write(t),aw(r,i.valueOf());else if("string"===u){for(t+=3,r.write(t),t=r,u=0;u<i.length;u++)f=i.charCodeAt(u),126>=f?t.write(f+1):16510>=f?(f-=127,t.write(128|f>>8,f&255)):t.write(192|f>>10,f>>2|255,(f|3)<<6);t.write(0)}else if(i===ca)r.write(0);else return"";t=0}return r.trim().toString()}function lw(n){for(var f,e=[],i=e,r=[],o,u,t=new un(n);null!=ku(t);)if(0===t.a)i=r.pop();else{if(null===t.a)break;do{for(o=t.a/4|0,n=t.a%4,f=0;f<o;f++)u=[],i.push(u),r.push(i),i=u;if(0===n&&12<t.a+4)ku(t);else break}while(1);1===n?i.push(vw(t)):2===n?i.push(new Date(vw(t))):3===n?i.push(rn(t)):0===n&&(i=r.pop())}return e[0]}function aw(n,t){var i,u,r,f;if(i=t,f=r=u=0,0!==i)if(isFinite(i)){if(0>i&&(u=1,i=-i),f=0,22250738585072014e-324<=i){for(r=i;1>r;)f--,r*=2;for(;2<=r;)f++,r/=2;r=f+1023}f=r?Math.floor(4503599627370496*(i/Math.pow(2,f)-1)):Math.floor(i/494065645841247e-338)}else r=2047,isNaN(i)?f=0x8000000000000:-Infinity===i&&(u=1);i=u;u=r;r=f;i&&(r=0xfffffffffffff-r,u=2047-u);n.write((i?0:128)|u>>4);n.write((u&15)<<4|0|r/281474976710656);r%=281474976710656;i=0|r/4294967296;n.write(i>>8,i&255);r%=4294967296;i=0|r/65536;n.write(i>>8,i&255);i=r%65536;n.write(i>>8,i&255)}function vw(n){var t=ku(n)|0,u=t>>7?!1:!0,f=u?-1:1,i=(t&127)<<4,t=ku(n)|0,i=i+(t>>4),r;for(u&&(i=2047-i),t=[u?15-(t&15):t&15],r=6;r--;)t.push(u?255-(ku(n)|0):ku(n)|0);for(n=0,r=7;r--;)n=n/256+t[r];return n/=16,0===n&&0===i?0:(n+1)*Math.pow(2,i-1023)*f}function rn(n){for(var f=[],r=0,i=0,u=0,t,e;;){if(t=ku(n),0===t||null==t)break;0===r?(e=t>>6,2>e&&!isNaN(t)?f.push(String.fromCharCode(t-1)):(r=e,i=t<<10,u++)):2===r?(f.push(String.fromCharCode(i+t+127)),r=i=u=0):2===u?(i+=t<<2,u++):(f.push(String.fromCharCode(i|t>>6)),r=i=u=0)}return f.join("")}function un(n){this.a=null;this.b=n;this.c=this.b.length-1;this.index=-1}function ku(n){return n.a=n.index<n.c?parseInt(n.b[++n.index]+n.b[++n.index],16):null}function ah(){this.a=[];this.b=void 0}function fn(n,t){var i=lh(n),r=lh(t);return i>r?1:i==r?0:-1}function bt(n,t,i){fi.call(this,0,i);this.l=n;this.f=[];this.r=[];this.da=[];this.a=null;this.oa="";this.F=0}function ao(n,t,i){if(n.a=t,n.oa=i,o(n.logger,n+" BEGIN"),t){for(i=0;i<n.r.length;i++)n.r[i][0].call(n.r[i][1],t);n.r.length=0}}function yw(n){var t=new bt(n.l);return n.F++,ao(t,n.a,n.oa+"C"+n.F),t}function vo(n){o(n.logger,n+" END");n.a=null}function r(n,t,i){var u=n.da.shift();i=!!i;u?u[0].call(u[1],t,i,function(t,i){r(n,t,i)}):i?n.m(t):n.callback(t)}function du(n,t,i){n.da.push([t,i])}function w(n,t,i){n.a?t.call(i,n.a):n.r.push([t,i])}function k(n){var t="";return n.oa&&(t=n.a?"*":"",t="["+n.oa+t+"]"),n.l+t}function gu(n,t){var i=new bt(n);return r(i,t),i}function gr(){0!=la&&(aa[this[ks]||(this[ks]=++op)]=this);this.da=this.da;this.na=this.na}function wi(n,t){this.type=n;this.b=this.target=t;this.Kb=!0}function ar(n,t){wi.call(this,n,t)}function ur(n,t,i,r,u){wi.call(this,n,t);this.version=i;this.Sb=r;this.Eb=u}function fr(n,t,i){wi.call(this,i||"error",n);this.error=t}function po(n,t){fr.call(this,n,t,"fail")}function bi(n,t,i,r,u){wi.call(this,n,t);this.a=i;this.key=r;this.value=u}function ki(n,t,i,r,u){wi.call(this,n,t);this.a=i;this.keys=r;this.B=u}function ei(n,t,r){var u;if(v(n))u=n.store,t=n.id,null!=n.parent&&(r=new ei(n.parent));else if(i(t))u=n;else if(u=n.lastIndexOf("^|"),t=n,0<u&&(t=n.substr(u),r=new ei(n.substring(0,u))),t=t.split("^:"),u=t[0],t=t[1],!i(t))throw Error("Invalid key value: "+n);this.a=u;this.id=t;this.parent=r||null}function en(n){return l(n.id)?n.id.join("^|"):n.id instanceof Date?+n.id:n.id}function va(n){return null!=n?ft(n)||e(n)||n instanceof Date||l(n)&&ug(n,va):!1}function vh(n){if(it(n)){for(var i=[],t=0,r=n.length;t<r;t++)i[t]=n[t];return i}return n}function a(n,t,i,r){n>t&&(t=n=void 0);null===n&&(n=void 0);null===t&&(t=void 0);this.lower=n;this.upper=t;this.lowerOpen=!!i;this.upperOpen=!!r}function wo(n){return hi(n)}function ya(n){var t;if(l(n))t=yi(n),t.push("￿");else if(e(n))t=n+"￿";else if(ft(n))t=n+22204604925031309e-32,n-=22204604925031309e-32;else return a.only(n);return a.bound(n,t,!1,!0)}function pw(n){return n=n||{},{lower:n.lower,upper:n.upper,lowerOpen:n.lowerOpen,upperOpen:n.upperOpen}}function hi(n){return null!=n?null!=n.upper&&null!=n.lower?di.bound(n.lower,n.upper,!!n.lowerOpen,!!n.upperOpen):null!=n.upper?di.upperBound(n.upper,n.upperOpen):null!=n.lower?di.lowerBound(n.lower,n.lowerOpen):null:null}function nf(n){var t,i;if(n instanceof a)return"";if(null!=n){if(v(n)){for(t in n)if((i=n.hasOwnProperty(t))&&(i=!(0<=at(["lower","upper","lowerOpen","upperOpen"],t))),i)return'invalid attribute "'+t+'" in key range object';return""}return"key range must be an object"}return""}function pa(n){if(!n)return"";var t=n.lowerOpen?"(":"[";return null!=n.lower&&(t+=n.lower+", "),null!=n.upper&&(t+=n.upper),t+(n.upperOpen?")":"]")}function yh(n,t,i,r,u){if(i)if(i.lowerOpen||i.upperOpen||null==i.lower||null==i.upper||0!==ht(i.lower,i.upper)){if(null!=i.lower){var f=i.lowerOpen?" > ":" >= ";r.push(n+f+"?");u.push(ci(i.lower,t))}null!=i.upper&&(f=i.upperOpen?" < ":" <= ",r.push(n+f+"?"),u.push(ci(i.upper,t)))}else r.push(n+" = ?"),u.push(ci(i.lower,t))}function vr(n,r,u,f){var e,o,s,h;if("starts"==n||"^"==n)return ya(r);if("<"==n||"<="==n)e=r,s="<"==n;else if(">"==n||">="==n)o=r,h=">"==n;else if("="==n||"=="==n)e=o=r;else throw new t("invalid op: "+n);if("<"==u||"<="==u)e=f,s="<"==u;else if(">"==u||">="==u)o=f,h=">"==u;else if(i(u))throw new t("invalid op2: "+u);return a.bound(o,e,h,s)}function yr(n,r,u,f,o,s){if(i(o)||(o=l(n)?n.join(", "):n),null!=n&&!e(n)&&!it(n))throw new t("index keyPath for "+o+" must be a string or array, but "+n+" is "+typeof n);if(l(n)&&Object.freeze&&Object.freeze(n),!i(n)&&i(o)&&(n=o),this.keyPath=n,this.f=it(this.keyPath),this.b=o,this.type=ba(r),i(r)){if(!i(this.type))throw new t("type invalid in index: "+this.b);if(l(this.keyPath))throw new t('composite key for store "'+this.b+'" must not specified type');}this.unique=!!u;this.multiEntry=!!f;this.g=e(this.type)?this.type:tf;this.d=e(o)?o:l(n)?this.keyPath.join(","):n;this.c=vi(this.d);this.a=this.f?null:this.keyPath.split(".");this.e=s||null}function ci(n,t){if("DATE"==t){if(n instanceof Date)return+n}else return null!=t?n:lh(n)}function pr(n,t){return"DATE"==t?new Date(n):i(t)?n:lw(n)}function ba(n){if(e(n))return n=at(wa,n),wa[n]}function bo(n,t){return null!=n||null!=t?null!=n?null!=t?it(n)&&it(t)?ro(n,t)?null:"expect: "+n+", but: "+t:le(n,t)?null:"expect: "+n+", but: "+t:"keyPath: "+n+" no longer defined":"newly define "+t:null}function er(n,r,u,f,o,s,h,c){if(!e(n))throw new t("store name must be a string");if(this.c=n,this.keyPath=i(r)?r:null,this.i=it(this.keyPath),null!==this.keyPath&&!e(this.keyPath)&&!this.i)throw new t("keyPath must be a string or array");if(null!=u&&!si(u))throw new t('invalid autoIncrement value in store "'+n+'"');this.b=!!u;var a;if(null!=f){if(a=ba(f),!i(a))throw new t('type "'+f+'" for primary key in store "'+this.c+'" is invalid.');if(this.i)throw new t('composite key for store "'+this.c+'" must not specified type');}if(this.type=null!=a?a:this.b?"INTEGER":void 0,this.f=e(this.keyPath)?this.keyPath.split("."):[],this.a=o||[],this.Z=!!s,this.ga=!!h,this.l=e(this.type)?this.type:tf,this.e=l(this.keyPath)?this.keyPath.join(","):e(this.keyPath)?this.keyPath:"_ROWID_",this.d=vi(this.e),this.j=!!c){if(this.keyPath)throw new t('encrypted store "'+this.c+'" must not use inline key');if(this.b)throw new t('encrypted store "'+this.c+'" must not use key generator');}this.g=[]}function rf(n){var e="name keyPath autoIncrement type indexes dispatchEvents fixed Sync encrypted".split(" "),u,o,r,s,f;for(u in n)if(n.hasOwnProperty(u)&&-1==at(e,u))throw new t('Unknown attribute "'+u+'"');if(e=[],u=n.indexes||[],l(u))for(o=0;o<u.length;o++){r=u[o];s="name unique type keyPath multiEntry generator".split(" ");f=void 0;for(f in r)if(r.hasOwnProperty(f)&&-1==at(s,f))throw new t("Unknown field: "+f+" in "+rt(r));r=new yr(r.keyPath,r.type,r.unique,r.multiEntry,r.name,r.generator);i(r.keyPath)&&r.keyPath===n.keyPath||e.push(r)}return new er(n.name,n.keyPath,n.autoIncrement,"undefined"===n.type||"null"===n.type?void 0:n.type,e,n.dispatchEvents,n.fixed,n.encrypted)}function ka(n,t,i,r,u,f,e){return n=he(n,t,i,r,u,f,e),t="",0!=i&&(t+="SELECT "+n.select),t+=" FROM "+n.K,n.n&&(t+=" WHERE "+n.n),n.group&&(t+=" GROUP BY "+n.group),n.L&&(t+=" ORDER BY "+n.L),t}function he(n,t,i,r,u,f,o){var s={select:"",K:"",n:"",group:"",L:""},h=n.e,v=n.d,a=null;r!==h&&e(r)&&(a=li(n,r));var y=!!a,p=r||h,c=vi(p),w=y?a.type:n.type,l=y&&a.multiEntry;return s.K=ti(n),6===i?s.select="COUNT("+v+")":3===i||1===i||2===i?(s.select=v,null!=r&&r!=h&&(s.select+=", "+c)):s.select="*",r=o?"DISTINCT ":"",h=[],l?(l=vi("ydn.db.me:"+n.getName()+":"+a.getName()),s.select=6===i?"COUNT("+r+l+"."+c+")":3===i||1===i||2===i?"DISTINCT "+ti(n)+"."+v+", "+l+"."+c+" AS "+p:"DISTINCT "+ti(n)+".*, "+l+"."+c+" AS "+p,s.K=l+" INNER JOIN "+ti(n)+" USING ("+v+")",null!=u&&(yh(l+"."+c,w,u,h,t),0<h.length&&(s.n=s.n?s.n+(" AND "+h.join(" AND ")):h.join(" AND ")))):null!=u&&(yh(c,w,u,h,t),0<h.length&&(s.n=s.n?s.n+(" AND "+h.join(" AND ")):h.join(" AND "))),y&&!a.unique&&o&&(s.group=c),n=f?"DESC":"ASC",s.L=c+" "+n,y&&(s.L+=", "+v+" "+n),s}function ww(n,t,i,r,u,f,e,o,s){var h,c,l,v;return null!=u?(h=u.lower,c=u.upper,l=u.lowerOpen,v=u.upperOpen,f?null!=c?(u=ht(o,c),-1==u?(c=o,v=s):0==u&&(v=s||v)):(c=o,v=s):null!=h?(u=ht(o,h),1==u?(h=o,l=s):0==u&&(l=s||l)):(h=o,l=s)):f?(c=o,v=s):(h=o,l=s),u=new a(h,c,!!l,!!v),r=r?li(n,r):null,t=he(n,i,t,r?r.d:n.e,u,f,e),t="SELECT "+t.select+" FROM "+t.K+(t.n?" WHERE "+t.n:"")+(t.group?" GROUP BY "+t.group:"")+" ORDER BY "+t.L,r&&(t+=", "+n.d+(f?"DESC":"ASC")),t}function bw(n,t,i,r,u,f,e,o,s,h){var c=li(n,r),v=c.d;r=c.c;var y=n.d,l=s?" <":" >",l=e?l+" ":l+"= ";return e=ci(f,c.type),o=ci(o,n.type),c="",u?(n=he(n,i,t,v,u,s,h),n.n+=" AND ",c=r+l+"?",i.push(e)):(u=s?a.upperBound(f,!0):a.lowerBound(f,!0),n=he(n,i,t,v,u,s,h),c=n.n,n.n=""),n.n+="("+c+" OR ("+r+" = ? AND "+y+l+"?))",i.push(e),i.push(o),"SELECT "+n.select+" FROM "+n.K+" WHERE "+n.n+(n.group?" GROUP BY "+n.group:"")+" ORDER BY "+n.L}function li(n,t){return gf(n.a,function(n){return n.getName()==t})}function da(n,t){for(var i=0;i<n.a.length;i++)if(!bo(n.a[i].keyPath,t))return n.a[i];return null}function wr(n,t){return t===n.keyPath?!0:ll(n.a,function(n){return n.getName()==t})}function ti(n){return vi(n.c)}function kw(n,t){var r,s,c,f;if(!t)return n;var a=n.b,o=l(n.keyPath)?yi(n.keyPath):n.keyPath,h=n.type,u=ih(n.a,function(n){return n.clone()});for(i(t.type)||"TEXT"!=h||(h=void 0),l(t.keyPath)&&e(o)&&o==t.keyPath.join(",")&&(o=yi(t.keyPath)),r=0,s=t.a.length;r<s;r++)if(t.a[r].f)for(c=t.a[r].getName(),f=u.length-1;0<=f;f--)if(0<=c.indexOf(u[f].getName())){u[f]=t.a[r].clone();break}for(r=0;r<u.length;r++)(s=li(t,u[r].getName()))&&(u[r]=u[r].hint(s));return new er(t.c,o,a,h,u)}function on(n){return!!n.keyPath}function ga(n,t,i){if(t){if(!n.keyPath&&null!=i)return i;if(n.i){i=[];for(var r=0;r<n.keyPath.length;r++)i.push(bu(t,n.keyPath[r]));return i}if(n.keyPath)return yl(t,n.f)}}function nv(n,t,r){for(var f,u=0;u<n.f.length;u++){if(f=n.f[u],u==n.f.length-1){t[f]=r;break}i(t[f])||(t[f]={});t=t[f]}}function tv(n,t,r){var o=[],h=[],f,s,u,c,v;for(r=i(r)?r:ga(n,t),i(r)&&(h.push(n.d),o.push(ci(r,n.type))),f=0;f<n.a.length;f++)if(s=n.a[f],!s.multiEntry&&s.getName()!==n.keyPath&&"_default_"!=s.getName()){if(u=s,c=t,null!=c)if(it(u.keyPath)){for(var a=[],l=0,y=u.keyPath.length;l<y;l++)v=bu(c,u.keyPath[l]),a[l]=v;u=a}else u=bu(c,u.keyPath);else u=void 0;null!=u&&(o.push(ci(u,s.type)),h.push(s.c))}for(n.ga?n.ga&&!n.keyPath&&0==n.a.length&&(e(t)&&-1==t.indexOf(";base64,")?o.push(t):o.push(rt(t)),h.push("_default_")):(o.push(rt(t)),h.push("_default_")),n=[],f=o.length-1;0<=f;f--)n[f]="?";return{xb:h,Lb:n,B:o,key:r}}function ko(n,t){var f,u,r,e;if(!t)return"missing store: "+n.c;if(n.c!=t.c)return"store name, expect: "+n.c+", but: "+t.c;if(f=bo(n.keyPath,t.keyPath),f)return"keyPath, "+f;if(i(n.b)&&i(t.b)&&n.b!=t.b)return"autoIncrement, expect:  "+n.b+", but: "+t.b;if(n.a.length!=t.a.length)return"indexes length, expect:  "+n.a.length+", but: "+t.a.length;if(i(n.type)&&i(t.type)&&(it(n.type)?!ro(n.type,t.type):n.type!=t.type))return"data type, expect:  "+n.type+", but: "+t.type;for(f=0;f<n.a.length;f++)if(u=li(t,n.a[f].getName()),r=n.a[f],u?r.b!=u.b?r="name, expect: "+r.b+", but: "+u.b:(e=bo(r.keyPath,u.keyPath),r=e?"keyPath, "+e:null!=r.unique&&null!=u.unique&&r.unique!=u.unique?"unique, expect: "+r.unique+", but: "+u.unique:null!=r.multiEntry&&null!=u.multiEntry&&r.multiEntry!=u.multiEntry?"multiEntry, expect: "+r.multiEntry+", but: "+u.multiEntry:i(r.type)&&i(u.type)&&(it(r.type)?!ro(r.type,u.type):r.type!=u.type)?"data type, expect: "+r.type+", but: "+u.type:""):r="no index for "+r.b,0<r.length)return'index "'+n.a[f].getName()+'" '+r;return""}function uf(n,t){var e,i,u,f,r;if(t)for(e=0;e<n.a.length;e++)if(i=n.a[e],u=t,i.e&&(f=i.e(u),r=typeof f,"string"==r||"number"==r||f instanceof Date||l(f))){for(r=0;r<i.a.length-1;r++)v(u[i.a[r]])||(u[i.a[r]]={});u[i.a[i.a.length-1]]=f}}function sn(n,t){n.g.push(t)}function ii(n,t,i,r,u){for(var f=0;f<n.g.length;f++)r!==f&&n.g[f].call(u,t,i)}function iv(n){return!e(n)||gs(n)?{}:JSON.parse(n)}function oi(n){var t;try{t=rt(n)}catch(i){t=""}return t?t.substr(0,70)+(70<t.length?"...":""):""}function rt(n){return JSON.stringify(n,void 0,void 0)}function dw(n,i,r){if(!n||gs(n))throw new t("store_name must be provided for primary full text index");if(!i||gs(i))throw new t("index_name must be provided for primary full text index");this.a=n;this.b=i;this.c=r||1}function ph(n,i,r,u){if(this.name=n,this.b=i,this.c=r||"",-1==["","en","fr"].indexOf(this.c))throw new t('Unsupported lang "'+r+" for full text search index "+n);this.d=u||null;this.a=null}function hn(n,t,i){return gf(n.b,function(n){return n.h()==t&&n.b==i})}function cn(n){var i=["name","sources","lang"];for(var r in n)if(n.hasOwnProperty(r)&&-1==at(i,r))throw new t("Unknown field: "+r+" in "+rt(n));if(!l(n.sources))throw new t("indexes require for full text search index "+n.name+", but "+n.sources+" of type "+typeof n.sources+" found.");return i=n.sources.map(function(n){var r=["storeName","keyPath","weight"];for(var i in n)if(n.hasOwnProperty(i)&&-1==at(r,i))throw new t("Unknown field: "+i+" in "+oi(n));return new dw(n.storeName,n.keyPath,n.weight)}),new ph(n.name,i,n.lang)}function tr(n,r){var u,s,o=r,f,c,a;if(v(n)){s=n;u=["version","stores","fullTextCatalogs"];for(f in s)if(s.hasOwnProperty(f)&&-1==at(u,f))throw new t("Unknown field: "+f+" in schema.");if(u=s.version,o=[],c=s.stores||[],!l(c))throw new t("stores must be array");for(f=0;f<c.length;f++){if(a=rf(c[f]),-1!=iu(o,function(n){return n.name==a.getName()}))throw new t('duplicate store name "'+a.getName()+'".');o.push(a)}}else e(n)?u=0==n.length?void 0:parseFloat(n):ft(n)&&(u=n);if(i(u)){if(!ft(u)||0>u)throw new t("Invalid version: "+u+" ("+n+")");isNaN(u)&&(u=void 0)}if(i(r)&&(!l(r)||0<r.length&&!(r[0]instanceof er)))throw new t("stores");if(this.version=u,this.b=!i(this.version),this.stores=o||[],u=[],s&&s.fullTextCatalogs)for(f=0;f<s.fullTextCatalogs.length;f++)o=cn(s.fullTextCatalogs[f]),u[f]=o,h(this,o.getName())||(c=[new yr("k",tf),new yr("v",tf)],o=new er(o.getName(),"id",!1,void 0,c,!1,!1,!1),this.stores.push(o));this.c=u}function rv(n){return ih(n.stores,function(n){return n.getName()})}function h(n,t){return gf(n.stores,function(n){return n.getName()==t})}function ff(n,t){return ll(n.stores,function(n){return n.getName()==t})}function uv(n,t,i,r){var f,e,u;if(!t||n.stores.length!=t.stores.length)return"Number of store: "+n.stores.length+" vs "+t.stores.length;for(f=0;f<n.stores.length;f++)if(e=h(t,n.stores[f].getName()),e){if(i&&(e=kw(e,n.stores[f])),r)for(var s=e,c=n.stores[f],o=0;o<c.a.length;o++)u=c.a[o],wr(s,u.getName())||"BLOB"!=u.type||(u=new yr(u.keyPath,u.type,u.unique,u.multiEntry,u.getName()),s.a.push(u));if(e=ko(n.stores[f],e),0<e.length)return'store: "'+n.stores[f].getName()+'" '+e}else return'missing object store "'+n.stores[f].getName()+'"';return""}function ln(n,t){return gf(n.c,function(n){return n.getName()==t})}function ru(n,t){tr.call(this,n,t)}function fv(n,t){n.stores.push(t)}function uu(n){Error.captureStackTrace?Error.captureStackTrace(this,uu):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ydn.error.ArgumentException"}function go(n){Error.captureStackTrace?Error.captureStackTrace(this,go):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ydn.error.NotSupportedException"}function ev(n){Error.captureStackTrace?Error.captureStackTrace(this,ev):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ydn.error.NotImplementedException"}function ef(n){Error.captureStackTrace?Error.captureStackTrace(this,ef):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ydn.error.InternalError"}function ce(n){Error.captureStackTrace?Error.captureStackTrace(this,ce):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ydn.error.ConstraintError"}function gw(n){Error.captureStackTrace?Error.captureStackTrace(this,gw):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ydn.error.InvalidOperationException"}function or(n){Error.captureStackTrace?Error.captureStackTrace(this,or):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ydn.error.InvalidOperationError"}function le(n,t){var r,u,i,f;if(r=r||{},null!=n&&null!=t){if(it(n)&&it(t)){if(n.length!=t.length)return!1;for(u=0;u<n.length;u++)if(-1==gf(t,function(t){return le(t,n[u])}))return!1;return!0}if(it(n))return 1==n.length&&le(n[0],t);if(it(t))return 1==t.length&&le(t[0],n);if(v(n)&&v(n)){for(i in n)if(n.hasOwnProperty(i)&&!r[i]&&(f=le(n[i],t[i]),!f))return!1;for(i in t)if(t.hasOwnProperty(i)&&!r[i]&&(f=le(n[i],t[i]),!f))return!1;return!0}return n===t}return!1}function nb(n){if(n)for(var t in n)if(n.hasOwnProperty(t))return n[t]}function ut(n,r,u){var o,f,e;u=u||{};o="autoSchema connectionTimeout size mechanisms policy isSerial Encryption".split(" ");for(f in u)if(u.hasOwnProperty(f)&&-1==at(o,f))throw new t('Unknown attribute "'+f+'" in options.');if(u.mechanisms){if(!l(u.mechanisms))throw new t("mechanisms attribute must be an array but "+df(u.mechanisms)+" found.");for(f=0;f<u.mechanisms.length;f++)if(!(0<=at(ov,u.mechanisms[f])))throw new t('Invalid mechanism "'+u.mechanisms[f]+'"');}if(this.r=u.mechanisms||ov,this.i=u.size,this.t=i(u.connectionTimeout)?u.connectionTimeout:3e3,this.b=null,this.d=[],this.Ka=!1,r instanceof tr)e=r;else if(v(r))for(e=u.autoSchema||!i(r.stores)?new ru(r):new tr(r),u=r.stores?r.stores.length:0,f=0;f<u;f++)o=h(e,r.stores[f].name),r.stores[f].Sync&&b(this.logger,"Synchronization option for "+o.getName()+" ignored.");else e=new ru;for(this.c=e,f=0;f<this.c.count();f++)if((this.c.stores[f]||null).j)throw Error("encryption option must be defined");i(n)&&this.l(n);this.f=null;this.e=new g}function tb(n){function r(i,r){i?(f(n.logger,n+": ready."),n.zb=NaN,t.Oa=function(t){n.H(new fr(n,t))},t.nb=function(t){n.H(new po(n,t));n.b=null},t.eb=function(t){n.H(t)},setTimeout(function(){ib(n,r);rb(n)},10),o.callback(r)):(b(n.logger,n+": database connection fail "+r.name),setTimeout(function(){if(ib(n,new po(n,r)),n.d){var t=n.logger;for(t&&t.log(so,"Purging "+n.d.length+" transactions request.",void 0);t=n.d.shift();)t.G&&t.G("error",r)}},10),o.m(r))}for(var e,o=new g,t=null,i=n.r,u=0;u<i.length;u++)if(e=i[u].toLowerCase(),t=n.Va(e)){t=n.Va(e);break}null===t?(i=new ce("No storage mechanism found."),r(!1,new po(n,i))):ui(t.lb(n.g,n.c),function(n){this.b=t;r(!0,new ur("ready",this,parseFloat(t.Rb()),parseFloat(n),null))},function(n){b(this.logger,this+": opening fail");r(!1,n)},n)}function ib(n,t){setTimeout(function(){n.c.b&&n.e.c||(t instanceof fr?n.e.m(t.error):n.e.callback(),n.H(t))},4)}function ns(n){return!!n.b&&n.b.mb()}function rb(n){var t=n.d.shift();t&&(f(n.logger,"pop tx queue["+(n.d.length+1)+"]"),n.transaction(t.Ha,t.cc,t.mode,t.G));n.zb=ds()}function an(n,t,i,r,u){f(n.logger,"push tx queue["+n.d.length+"]");n.d.push({Ha:t,cc:i,mode:r,G:u});100<n.d.length&&0==n.d.length%100&&b(n.logger,"Transaction queue stack size is "+n.d.length+". It is too large, possibility due to incorrect usage.")}function ae(n){Error.captureStackTrace?Error.captureStackTrace(this,ae):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ConstraintError"}function wh(n){Error.captureStackTrace?Error.captureStackTrace(this,wh):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ydn.db.InvalidKeyException"}function bh(n){Error.captureStackTrace?Error.captureStackTrace(this,bh):this.stack=Error().stack||"";n&&(this.message=String(n))}function kh(n){Error.captureStackTrace?Error.captureStackTrace(this,kh):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="InvalidStateError"}function ve(n){Error.captureStackTrace?Error.captureStackTrace(this,ve):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="InvalidAccessError"}function gi(n){Error.captureStackTrace?Error.captureStackTrace(this,gi):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="NotFoundError"}function dh(n,t){Error.captureStackTrace?Error.captureStackTrace(this,dh):this.stack=Error().stack||"";t&&(this.message=String(t));this.message+=" :"+n.message+" ["+n.code+"]";this.name="SQLError"}function gh(n,t){Error.captureStackTrace?Error.captureStackTrace(this,gh):this.stack=Error().stack||"";t&&(this.message=String(t));this.message+=" :"+n.message;this.name="SecurityError"}function nc(n){Error.captureStackTrace?Error.captureStackTrace(this,nc):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ydn.db.SqlParseError"}function of(n){Error.captureStackTrace?Error.captureStackTrace(this,of):this.stack=Error().stack||"";n&&(this.message=String(n));this.name="ydn.db.TimeoutError"}function tc(n,t){this.a=t}function ts(n){this.c=n;this.a=null;this.b=0}function ub(n){return!!n.a&&!n.d}function fu(n,t,i,r,u,f){this.A=n;this.F=t;this.a=this.d=0;this.t=r;this.r=u;this.e=i||sf;this.i=f||0}function fb(n){if(n)if(ot(n.abort))n.abort();else if(ot(n.executeSql))n.executeSql("ABORT",[],null,function(){return!0});else throw new yu;else throw new kh("No active transaction");}function is(n,t,i,r,u,f){fu.call(this,n,t,i,r,u,f);this.c=[];this.f=[];this.g=null;this.b=new ts(t);this.j=f||0;this.l=!1}function sv(n,t,i){if("multi"==n.e)n:if(n=n.b,!n.J||!n.mode||i!=n.mode&&(n.mode!=d||i!=et)||t.length>n.J.length)t=!1;else{for(i=0;i<t.length;i++)if(-1==n.J.indexOf(t[i])){t=!1;break n}t=!0}else if("repeat"==n.e)n:if(n=n.b,n.J&&n.mode&&i==n.mode&&n.J.length==t.length){for(i=0;i<t.length;i++)if(-1==n.J.indexOf(t[i])){t=!1;break n}t=!0}else t=!1;else t="all"==n.e?!0:!1;return t}function vn(n){var t=0<n.c.length?n.c[0].J:null,i=0<n.c.length?n.c[0].mode:null;return null!=t&&null!=i?sv(n,t,i):!1}function yn(n,t,i,r,u){f(n.logger,"push tx queue["+n.c.length+"]");n.c.push({Ha:t,J:i,mode:r,G:u})}function nu(n,t){is.call(this,n,t)}function eu(n,t,i,r){this.d=n;this.b=t;this.a=i;this.e=r;this.c=null}function y(n){var t,i;if(!n.c){if(t=n.d,i=t.Ba(),"indexeddb"==i)t=new sc(0,t.c);else if("websql"==i||"sqlite"==i)t=new cc(0,t.c);else throw new hr("No executor for "+i);n.c=t}return n.c}function eb(n,t){var i=n.o(),u=t instanceof er?t:rf(t),f=t.name,r=h(i.c,f);if(0==ko(u,r).length)(new g).callback(!1);else if(r=r?"update":"add",i.c instanceof ru)fv(i.c,u),i.b?(i.b.close(),i.b=null,tb(i)):(new g).callback(!1);else throw new ce("Cannot "+r+" store: "+f+". Not auto schema generation mode.");}function ct(n,t,i,r){eu.call(this,n,t,i,r)}function ob(n,i){var u=e(i)?i:v(i)?i.name:void 0,r,f;if(!e(u))throw new t("store name must be a string");if(r=h(n.b,u),r){if(n.b.a()&&v(i)&&(f=rf(i),f=ko(r,f)))throw new yu(f);}else{if(!n.b.a())throw new gi(u);r=rf(v(i)?i:{name:u});o(n.logger,"Adding object store: "+u);eb(n,r)}if(!r)throw new gi(u);return r}function pn(n,t){var r=hit(t),i;return f(n.logger,"query "+t),i=n.a.request("search",r,et),w(i,function(){var n=y(this);sit(t,function(r,u,f,o){var s=yw(i);n.O(s,4,r,u,hi(f),100,0,!1,!1);s.ha(function(n){var o=null,f,u;for(n instanceof Array||(o=n,n=[]),f=0;f<n.length;f++){u=n[f];var r=u.id,r=e(r)?lw(r):r,s=r[3];(u=1==this.type&&s!=this.value?null:new ws(this,r[0],r[2],r[1],s,u.k,u.loc))&&t.d.push(u)}if(t.c--,n=0==t.c?!1:t.b[t.b.length-1].g===this.g?!0:null,!0===n?lo(i,t):!1===n&&i.callback(t.e()),o)throw o;},o)})},n),i}function wn(n,i,r){var a=n.e,s,l,f,v,c,u,o;if(e(i)){if(u=h(n.b,i),u){if(!u.keyPath&&!u.b)throw new t('key required for store "'+i+'"');}else throw new gi(i);for(f=0;f<r.length;f++)uf(u,r[f]);s=[i]}else for(l=i,s=[],f=0,v=l.length;f<v;f++){if(c=l[f].h(),u=h(n.b,c),-1==at(s,c)&&s.push(c),!u)throw new gi(c);uf(u,r[f])}return e(i)?(u=h(n.b,i),o=a.request("put:array",s,d),w(o,function(){y(this).V(o,!0,!1,i,r,void 0)},n)):(o=a.request("put:keys",s,d),w(o,function(){y(this).fb(o,r,l)},n)),o}function hv(n,t,i){var r=n.e.request("rm:iter",[t],d);return w(r,function(){y(this).hb(r,t,i||null)},n),r}function cv(n,t,i,r){this.d=n;this.e=t;this.a=yi(i);this.b=r;this.c=[]}function sb(n,t,i){if(n.d)i&&n.c.push(i),t(n.d);else throw new hr("tx committed on ParallelTxExecutor");}function rs(n,t,i,r,u,f){fu.call(this,n,t,i,r,u,f);this.c=this.b=null}function ye(n,t){rs.call(this,n,t,sf)}function kt(n,t,r){ut.call(this,n,t,r);this.la=0;n=!0;t=sf;r&&(i(r.isSerial)&&(n=!!r.isSerial),r.policy&&(t=r.policy));r=ic(this,t,n);this.j=ic(this,"atomic",!1);this.a=this.ka(r,this.j)}function ic(n,i,r,u,f,e){if(r){if("multi"==i||"repeat"==i||"all"==i||i==sf)return new is(n,n.la++,i,u,f,e);if("atomic"==i)return new nu(n,n.la++);throw new t('Invalid requestType "'+i+'"');}if("multi"==i||"repeat"==i||"all"==i||i==sf)return new rs(n,n.la++,i,u,f,e);if("atomic"==i)return new ye(n,n.la++);throw new t('Invalid requestType "'+i+'"');}function nt(n,i,r){var u,f,e;for(kt.call(this,n,i,r),n=this.c,i=0;i<n.c.length;i++){if(r=n.c[i],u=h(n,r.getName()),u){if(!wr(u,"k"))throw new t('full text index store "'+u.getName()+'" must have "keyword" index');if(!wr(u,"v"))throw new t('full text index store "'+u.getName()+'" must have "keyword" index');if("id"!=u.keyPath)throw new t('full text index store "'+u.getName()+'" must use "id" as key path.');}else throw new t('full text index store "'+r.getName()+'" required.');for(u=0;u<r.count();u++)if(f=r.index(u),e=h(n,f.h()),e)this.tb(e,r);else throw new t('full text source store "'+f.h()+'" does not exist for full text index "'+r.getName()+'"');}}function rc(n,r,u,f,o){if(!(r instanceof a))if(e(r)&&i(u))r=vr(r,u,f,o);else if(null!=r){if(!(r instanceof a))if(v(r))r=new a(r.lower,r.upper,r.lowerOpen,r.upperOpen);else throw new t("Invalid key range: "+r+" of type "+typeof r);}else r=null;this.a=r;this.$=n}function ri(n,t,i,r){gr.call(this);this.b=i;this.a=i.getName();this.j=void 0;this.f=!1;this.fa=null;this.e=n;this.rb=t;this.xa=0;this.W=this.A=!1;this.M=r||4;this.ua=this.g=this.c=void 0;this.l=function(){throw new hr;};this.r=function(){throw new hr;};this.Mb=function(){}}function lv(n,t){n.r(t);av(n);n.A=!0}function av(n){n.g=null!=n.g?vh(n.g):void 0;n.c=null!=n.c?vh(n.c):void 0;n.Mb(n.W,n.c,n.g)}function tu(n){n.W=!0;f(n.logger,n+": exit");av(n)}function vv(n,t,i){f(n.logger,n+" restarting");n.A=!1;n.W=!1;n.openCursor(i,t)}function bn(){}function s(n,r,u,f,o,s,h){if(!e(n))throw new TypeError("store name must be a string, but "+n+" found.");if(this.e=n,this.c=r,this.f=h,this.i=!!this.c,i(f)&&!si(f))throw new t("reverse value must be a boolean, but "+typeof f+" found");if(i(o)&&!si(o))throw new t("unique value must be a boolean, but "+typeof o+" found");if(i(s)&&!si(s))throw new t("key_only value must be a boolean, but "+typeof s+" found");if(this.a=i(s)?s:!!e(this.c),n="next",f&&o?n="prevunique":f?n="prev":o&&(n="nextunique"),this.j=n,f=nf(u))throw new t("Invalid key range: "+f);this.b=hi(u);this.d=es;this.r=NaN}function uc(n,i,r){if(3<arguments.length)throw new t("too many argument");s.call(this,n,void 0,i,r,void 0,!0)}function fc(n,i,r,u,f){if(!e(i))throw new t("index name must be string");s.call(this,n,i,r,u,f,!0)}function us(n,i,r){if(3<arguments.length)throw new t("too many argument");s.call(this,n,void 0,i,r,void 0,!1)}function fs(n,i,r,u,f){if(!e(i))throw new t("index name must be string");s.call(this,n,i,r,u,f,!1)}function ec(n,t,i,r){if("transaction"in n)this.g=n,this.c=this.f=null;else if("objectStore"in n){if(this.g=null,this.f=n.db,this.c=n,!this.c.db.objectStoreNames.contains(t))throw new uu('store "'+t+'" not in transaction.');}else throw new uu("storage instance require.");this.i=t;this.j=i;this.l=r;this.b=[];this.a=0;this.d=!1}function kn(n,t){n.a++;t.onsuccess=function(t){if(t=t.target.result){if(ot(n.l)){var i=t.value;n.l(t.primaryKey,null!=n.j?i[n.j]:i)}else b(n.logger,"sink gone, dropping value for: "+t.primaryKey);t&&0<n.b.length?t["continue"](n.b.shift()):(n.a--,0==n.a&&n.S&&n.S())}};t.onerror=function(){b(n.logger,"seeking fail. "+("error"in t?t.error.name+":"+t.error.message:""));n.a--;0==n.a&&n.S&&n.S()}}function dn(n,t){0==n.b.length&&0==n.a?t():n.S=t}function gn(n){if(!n.d){var t=function(t,i){n.c=null;"complete"!==t&&b(n.logger,i.name+":"+i.message);f(n.logger,n+" transaction "+t)},i=function(t){var i=n.b.shift();f(n.logger,n+" transaction started for "+i);t=t.objectStore(n.i);kn(n,t.openCursor(i))};if(n.c)f(n.logger,n+" using existing tx."),i(n.c);else if(n.f)f(n.logger,n+" creating tx from IDBDatabase."),n.e=n.f.transaction([n.i],et),n.e.oncomplete=function(n){t("complete",n)},n.e.onerror=function(n){t("error",n)},n.e.onabort=function(n){t("abort",n)};else if(n.g)f(n.logger,n+" creating tx from ydn.db.con.IStorage."),n.d=!0,n.g.transaction(function(t){n.d=!1;i(t)},[n.i],et,t);else throw new ef("no way to create a transaction provided.");}}function br(n,r,u){if(n&&n instanceof ut?this.za=n:n&&n.db&&(this.za=null,hb(this,n)),!e(r))throw new t("a store name required.");if(this.c=r,i(u)&&!e(u))throw new t("projection index name must be a string.");this.Aa=u;this.ea=null;this.b=[];this.a=[];this.ta=!1}function hb(n,i){if(i.db)n.ea=new ec(i,n.c,n.Aa,yt(n.S,n));else throw new t("Invalid IndexedDB Transaction.");}function yv(n){var t=0<n.a.length;if(t&&!n.ta&&ot(n.kb)){var i=function(){yv(n)},r=n.b.shift(),u=n.a.shift(),t=0<n.a.length,i=n.kb(r,u,t?i:null);t&&!i&&yv(n)}}function sr(n,t){if(null!=n&&!("push"in n))throw new uu('output receiver object must have "push" method.');this.a=n||null;this.g=t;this.e=0;this.b=!1;this.d=n instanceof br&&!!n.Aa}function ntt(n,t,r){var u,e=null!=u,f;if(!i(u))for(u=r[0],e=null!=u,f=1;e&&f<r.length;f++)null!=r[f]&&0==ht(r[f],u)||(e=!1);return e&&(n.e++,n.a&&(n.d?n.a.push(u,void 0):n.a.push(u)),i(n.g)&&n.e>=n.g)?[]:t}function vt(n,t,i,r){eu.call(this,n,t,i,r)}function ttt(n,t,i,r){var e=i.h(),h=i.c||null,s=r||100,u,f;return o(n.logger,"listIter:"+t+" "+i+(r?" limit="+s:"")+""),u=n.a.request("values:iter:index",[e]),f="done"==i.d||i.d==es?[]:[i.g,i.p()],w(u,function(){y(this).O(u,t,e,h,i.Nb(),s,0,i.Q(),i.pa(),f)},n),u.D(function(){null!=f[0]?i.ib("rest",f[0],f[1]):i.ib()}),u}function pe(n,t,u,e,s){var c=[],g=u.a,w=k(u),l=w+" "+t+"ByIterator "+e,h,v,p;0<s&&(l+=" limit "+s);o(n.logger,l);for(var nt=y(n),b=[],d=e.stores(),a=0;a<d.length;a++)b[a]=nt.b(g,w,d[a]);h=e.load(b);h.r=function(n){tu(h);r(u,n,!0)};v=0;p=!1;h.l=function(e){p||(f(n.logger,l+" starting"),p=!0);null!=e?(h.p(),v++,1==t?c.push(e):2==t?c.push(h.p()):3==t?c.push([e,h.p()]):6!=t&&c.push(h.w()),5==t?(tu(h),r(u,c[0])):6==t||!i(s)||v<s?h.qa():(o(n.logger,"success:"+l+" yields "+c.length+" records"),tu(h),r(u,c))):(o(n.logger,"success:"+l+" yields "+c.length+" records"),tu(h),r(u,5==t?c[0]:6==t?v:c))}}function ai(n,t,i){nt.call(this,n,t,i)}function cb(n){if(!e(n))throw new uu;this.I=n;this.c=d;this.b=[];lb(this,n);this.ya=""}function lb(n,t){var i=t.split(/\sFROM\s/i),r,u;if(2==i.length&&(r=i[1],i=i[0].match(/\s*?(SELECT|INSERT|UPDATE|DELETE)\s+(.*)/i),3==i.length)){if(n.d=i[1].toUpperCase(),"SELECT"==n.d)n.c=et;else if("INSERT"==n.d)n.c=d;else if("UPDATE"==n.d)n.c=d;else if("DELETE"==n.d)n.c=d;else return;i=i[2].trim();u=i.match(/^(MIN|MAX|COUNT|AVG|SUM)/i);u?(n.e=u[0].toUpperCase(),i=i.replace(/^(MIN|MAX|COUNT|AVG|SUM)/i,"").trim()):n.e=void 0;"("==i.charAt(0)&&(")"==i.charAt(i.length-1)?i=i.substring(1,i.length-1):new nc("missing closing parentheses"));n.j=i;i=r.search(/(ORDER BY|LIMIT|OFFSET)/i);0<i?(n.a=r.substring(i),r=r.substring(0,i)):n.a="";i=r.search(/WHERE/i);0<i?(n.f=r.substring(i+6).trim(),r=r.substring(0,i)):n.f="";n.b=r.trim().split(",").map(function(n){return n=ir(n,'"'),n=ir(n,"'"),n.trim()})}}function os(n){return"*"==n.j?null:(n=n.j.split(","),n.map(function(n){return ir(n.trim(),'"')}))}function itt(n){function s(n){return iu(u,function(t){return t.$==n})}var u=[],o,e,f,i,r;if(0<n.f.length)for(o=n.f.split("AND"),e=0;e<o.length;e++)if(f=o[e],i=/(.+?)(<=|>=|=|>|<)(.+)/i.exec(f),i){var t=i[1].trim(),t=ir(t,'"'),t=ir(t,"'");if(0<t.length)if(r=i[3].trim(),r=0==r.lastIndexOf('"',0)?ir(r,'"'):0==r.lastIndexOf("'",0)?ir(r,"'"):parseFloat(r),i=new rc(t,i[2],r),t=s(t),0<=t){if(u[t]=u[t].Y(i),!u[t])return n.ya='where clause "'+f+'" conflict',null}else u.push(i);else return n.ya='Invalid clause "'+f+'"',null}else return n.ya='Invalid clause "'+f+'"',null;return u}function ss(n,t,i,r){ri.call(this,n,t,i,r);this.d=null}function pv(n,t){this.a=t}function oc(n,t){this.a=t}function hf(n,t){this.a=t;this.c=n}function wv(n,t){hf.call(this,n,t)}function rtt(n){return function(t,r,u){return i(r)||(r=0),(r*u+t[n])/(u+1)}}function utt(n){return function(t,i){return i+t[n]}}function ftt(n){return function(t,r){var u=t[n];return i(r)?r<u?r:u:u}}function ett(n){return function(t,r){var u=t[n];return i(r)?r>u?r:u:u}}function sc(n,t){this.a=t}function hs(n,t,i,r){ri.call(this,n,t,i,r);this.F=null;this.d=this.i=void 0}function we(n,t){var r,u;n.i=void 0;n.d=void 0;n.t=void 0;i(t)&&(v(t)?(r=pr(t[n.b.e],n.b.type),n.d=r,n.f?(u=li(n.b,n.j),n.i=pr(t[n.j],u.type)):n.i=r,n.t=n.La?r:be(t,n.b)):n.t=t)}function ott(n,t,i){li(n.b,n.j);var h=[],r=n.j,u=n.fa,s=n.i;if(null!=u){var e=u.lower,o=u.upper,c=u.lowerOpen,l=u.upperOpen;n.reverse?o=null!=o&&-1==ht(o,s)?o:s:e=null!=e&&1==ht(e,s)?e:s;u=null!=e&&null!=o?a.bound(e,o,!!c,!!l):null!=e?di.lowerBound(e,!!c):di.upperBound(o,!!l)}else u=n.reverse?di.upperBound(s):di.lowerBound(s);r=he(n.b,h,n.M,r,u,n.reverse,n.unique);i=n.reverse?di.upperBound(i,!1):di.lowerBound(i,!1);i=he(n.b,h,n.M,n.b.e,i,n.reverse,n.unique);r.n=r.n?r.n+(" AND "+i.n):i.n;i="SELECT "+r.select+" FROM "+r.K+(r.n?" WHERE "+r.n:"")+(r.group?" GROUP BY "+r.group:"")+" ORDER BY "+r.L;i+=" LIMIT 1";f(n.logger,n+": continuePrimary:  SQL: "+i+" : "+rt(h));n.e.executeSql(i,h,function(i,r){0<r.rows.length?we(n,r.rows.item(0)):we(n);t.call(n,n.i,n.d,n.t);t=null},function(i,r){return b(n.logger,"get error: "+r.message),lv(n,r),we(n),t.call(n,n.d,n.i,n.t),t=null,!1})}function bv(n,t,i,r,u,e){var o=!r;r=[];n.f&&null!=e&&null!=i?i=bw(n.b,n.M,r,n.F.getName(),n.fa,i,o,e,n.reverse,n.unique):null!=i?(e=n.F?n.F.getName():null,i=ww(n.b,n.M,r,e,n.fa,n.reverse,n.unique,i,o)):(i=ka(n.b,r,n.M,n.f?n.F.d:n.b.e,n.fa,n.reverse,n.unique),n.f&&(i+=", "+n.b.d+" ASC"));i+=" LIMIT 1";0<u&&(i+=" OFFSET "+u);f(n.logger,n+": continue:  SQL: "+i+" : "+rt(r));n.e.executeSql(i,r,function(i,r){0<r.rows.length?we(n,r.rows.item(0)):we(n);t.call(n,n.i,n.d,n.t);t=null},function(i,r){return b(n.logger,"get error: "+r.message),lv(n,r),we(n),t.call(n,n.d,n.i,n.t),t=null,!1})}function kv(n,t){this.a=t}function be(n,t){var r,e,s;if(t.ga&&!t.keyPath&&0==t.a.length&&n._default_){if(r=n._default_,-1==r.indexOf(";base64,"))return iv(r);'"'==r.charAt(0)&&'"'==r.charAt(r.length-1)&&(r=r.substr(1,r.length-2));for(var f=r.split(";base64,"),r=f[0].split(":")[1],f=window.atob(f[1]),u=f.length,e=new Uint8Array(u),o=0;o<u;++o)e[o]=f.charCodeAt(o);return new Blob([e.buffer],{type:r})}for(r=n._default_?iv(n._default_):{},null!=t.keyPath&&(f=pr(n[t.keyPath],t.type),null!=f&&nv(t,r,f)),f=0;f<t.a.length;f++)if(u=t.index(f),e=u.d,"_default_"!=e&&!u.f&&!u.multiEntry&&("DATE"==u.type||t.ga)&&(o=pr(n[e],u.type),i(o)))for(e=r,s=0;s<u.a.length;s++)s==u.a.length-1?e[u.a[s]]=o:v(e[u.a[s]])||(e[u.a[s]]={});return r}function dv(n,t,u,e,o){function p(i){i="ydn.db.me:"+s.getName()+":"+i.getName();i="DELETE FROM  "+vi(i)+v;f(n.logger,k(t)+NaN+i);y.executeSql(i,l)}var y=t.a,s=h(n.a,u),a;u="DELETE FROM "+ti(s);var c=[],l=[],v="";for(null!=o&&(i(e)?(e=li(s,e),yh(e.c,e.type,o,l,c)):yh(s.d,s.type,o,l,c),v=" WHERE "+l.join(" AND ")),u+=v,a=k(t)+" SQL: "+u+" PARAMS: "+c,f(n.logger,a),y.executeSql(u,c,function(i,u){f(n.logger,"success "+a);r(t,u.rowsAffected)},function(i,u){return b(n.logger,"error: "+a+u.message),r(t,u,!0),!1}),o=0,e=s.a.length;o<e;o++)u=s.index(o),u.multiEntry&&p(u)}function hc(n,t){this.a=t}function cf(n,t){this.b=t;this.d=n;this.a=os(t)}function stt(n,t){if(n.a){if(1==n.a.length)return v(t)?yl(t,n.a[0]):void 0;for(var r={},i=0;i<n.a.length;i++)r[n.a[i]]=yl(t,n.a[i]);return r}return be(t,n.d)}function gv(n,t){cf.call(this,n,t)}function cc(n,t){this.a=t}function cs(n,t,i,r){eu.call(this,n,t,i,r)}function ke(n,t,i){nt.call(this,n,t,i)}function ab(n,t){i(n)&&5242880<n&&st(this.logger,lr,"storage size request ignored, use Quota Management API instead");this.q=null;this.va=t||NaN}function att(n,t,i,r){function h(){var n={autoIncrement:!!r.b};return null!=r.keyPath&&(n.keyPath=r.keyPath),t.createObjectStore(r.getName(),n)}var s,f,u,e;if(st(n.logger,wu,"Creating Object Store for "+r.getName()+" keyPath: "+r.keyPath),t.objectStoreNames.contains(r.getName())){for(i=i.objectStore(r.getName()),bo(r.keyPath||"",i.keyPath||"")?(t.deleteObjectStore(r.getName()),st(n.logger,lr,"store: "+r.getName()+" deleted due to keyPath change."),i=h()):si(i.autoIncrement)&&si(r.b)&&i.autoIncrement!=r.b&&(t.deleteObjectStore(r.getName()),st(n.logger,lr,"store: "+r.getName()+" deleted due to autoIncrement change."),i=h()),s=i.indexNames,f=0;f<r.a.length;f++)u=r.index(f),!s.contains(u.getName())&&u.e&&(i.clear(),st(n.logger,lr,"store: "+r.getName()+" cleared since generator index need re-indexing."));for(var c=0,l=0,a=0,f=0;f<r.a.length;f++){if(u=r.index(f),e=!1,s.contains(u.getName())){var o=i.index(u.getName()),v=null!=o.unique&&null!=u.unique&&o.unique!=u.unique,y=null!=o.multiEntry&&null!=u.multiEntry&&o.multiEntry!=u.multiEntry,o=null!=o.keyPath&&null!=u.keyPath&&!!bo(o.keyPath,u.keyPath);(v||y||o)&&(i.deleteIndex(u.getName()),e=!0,c--,a++)}else"BLOB"!=u.type&&(e=!0);e&&(u.unique||u.multiEntry?(e={unique:u.unique,multiEntry:u.multiEntry},i.createIndex(u.getName(),u.keyPath,e)):i.createIndex(u.getName(),u.keyPath),c++)}for(f=0;f<s.length;f++)wr(r,s[f])||(i.deleteIndex(s[f]),l++);st(n.logger,wu,"Updated store: "+i.name+", "+c+" index created, "+l+" index deleted, "+a+" modified.")}else{for(i=h(),f=0;f<r.a.length;f++)u=r.index(f),"BLOB"==u.type?st(n.logger,so,"Index "+u+" of blob data type ignored."):(st(n.logger,wu,"Creating index: "+u),u.unique||u.multiEntry?(e={unique:u.unique,multiEntry:u.multiEntry},i.createIndex(u.getName(),u.keyPath,e)):i.createIndex(u.getName(),u.keyPath));st(n.logger,wu,"Created store: "+i)}}function de(n,t){this.a=i(n)?n:4194304;this.b=t||"websql"}function vtt(n){var s=n.l,i="CREATE TABLE IF NOT EXISTS "+ti(n)+" (",f=n.d,i=i+(f+" "+s+" PRIMARY KEY "),t,u;n.b&&(i+=" AUTOINCREMENT ");n.ga&&(n.keyPath||0!=n.a.length)||(i+=" ,_default_ BLOB");for(var e=[],h=[f],o=0,c=n.a.length;o<c;o++)if(t=n.index(o),u="",t.multiEntry){var u="ydn.db.me:"+n.getName()+":"+t.getName(),r=t.unique?" UNIQUE ":"",t="CREATE TABLE IF NOT EXISTS "+vi(u)+" ("+f+" "+s+", "+t.c+" "+t.g+r+")";e.push(t)}else t.unique&&(u=" UNIQUE "),r=t.c,-1==h.indexOf(r)&&(i+=", "+r+" "+t.g+u,h.push(r));return e.unshift(i+")"),e}function ytt(n,t,i,r,u){function h(n){t.executeSql(n,[],function(){o++;o==e.length&&(r(!0),r=null)},function(t,u){o++;o==e.length&&(r(!1),r=null);var f="SQLError creating table: "+i.getName()+" "+u.message+' for executing "'+n;throw new dh(u,f);})}var o=0,e=vtt(i),s="Create";if(u){if(u=ko(i,u),0==u.length){f(n.logger,"same table "+i.getName()+" exists.");r(!0);r=null;return}s="Modify";b(n.logger,"table: "+i.getName()+" has changed by "+u+" ALTER TABLE cannot run in WebSql, dropping old table.");e.unshift("DROP TABLE IF EXISTS "+vi(i.getName()))}for(f(n.logger,s+" table: "+i.getName()+": "+e.join(";")),n=0;n<e.length;n++)h(e[n])}function vb(n,t,i){nt.call(this,n,t,i)}function yb(){this.a=ds()}function lf(){this.a=ry}function bb(n){return n instanceof lf&&n.constructor===lf&&n.a===ry?"":(cu("expected object of type Const, got '"+n+"'"),"type_error:Const")}function af(){this.a="";this.b=uy}function kb(n){var t=new af;return t.a=n,t}function lc(){this.a=fy}function ac(){this.a=ey}function ge(){this.a="";this.c=hy;this.b=null}function ls(n){return n instanceof ge&&n.constructor===ge&&n.c===hy?n.a:(cu("expected object of type SafeHtml, got '"+n+"'"),"type_error:SafeHtml")}function nk(n){if(n instanceof ge)return n;var t=null;return n.cb&&(t=n.ia()),vs(hu(n.ja?n.aa():String(n)),t)}function oy(n){if(n instanceof ge)return n;n=nk(n);var t;return t=ls(n).replace(/  /g," &#160;").replace(/(\r\n|\r|\n)/g,"<br>"),vs(t,n.ia())}function sy(n,t,r){var o,s,a,u,f,h,c,e;if(!tk.test(n))throw Error("Invalid tag name <"+n+">.");if(n.toLowerCase()in wtt)throw Error("Tag name <"+n+"> is not allowed for SafeHtml.");if(o=null,s="<"+n,t)for(a in t){if(!tk.test(a))throw Error('Invalid attribute name "'+a+'".');if(u=t[a],null!=u){if(h=n,f=a,u instanceof lf)u=bb(u);else if("style"==f.toLowerCase()){if(!v(u))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof u+" given: "+u);if(!(u instanceof af)){h="";c=void 0;for(c in u){if(!/^[-_a-zA-Z0-9]+$/.test(c))throw Error("Name allows only [-_a-zA-Z0-9], got: "+c);e=u[c];null!=e&&(e instanceof lf?e=bb(e):gb.test(e)||(cu("String value allows only [-.%_!# a-zA-Z0-9], got: "+e),e="zClosurez"),h+=c+":"+e+";")}u=h?kb(h):db}u instanceof af&&u.constructor===af&&u.b===uy?u=u.a:(cu("expected object of type SafeStyle, got '"+u+"'"),u="type_error:SafeStyle")}else{if(/^on/i.test(f))throw Error('Attribute "'+f+'" requires goog.string.Const value, "'+u+'" given.');if(f.toLowerCase()in ptt)if(u instanceof ac)u instanceof ac&&u.constructor===ac&&u.a===ey?u="":(cu("expected object of type TrustedResourceUrl, got '"+u+"'"),u="type_error:TrustedResourceUrl");else if(u instanceof lc)u instanceof lc&&u.constructor===lc&&u.a===fy?u="":(cu("expected object of type SafeUrl, got '"+u+"'"),u="type_error:SafeUrl");else throw Error('Attribute "'+f+'" on tag "'+h+'" requires goog.html.SafeUrl or goog.string.Const value, "'+u+'" given.');}u.ja&&(u=u.aa());f=f+'="'+hu(String(u))+'"';s=s+(" "+f)}}return i(r)?l(r)||(r=[r]):r=[],!0===wb[n.toLowerCase()]?s+=">":(o=as(r),s+=">"+ls(o)+"<\/"+n+">",o=o.ia()),(n=t&&t.dir)&&(o=/^(ltr|rtl|auto)$/i.test(n)?0:null),vs(s,o)}function as(){function t(r){l(r)?th(r,t):(r=nk(r),i+=ls(r),r=r.ia(),0==n?n=r:0!=r&&n!=r&&(n=null))}var n=0,i="";return th(arguments,t),vs(i,n)}function vs(n,t){var i=new ge;return i.a=n,i.b=t,i}function vf(n){this.e=n||"";this.f=pb}function ik(n){return n=new Date(n.f),yf(n.getFullYear()-2e3)+yf(n.getMonth()+1)+yf(n.getDate())+" "+yf(n.getHours())+":"+yf(n.getMinutes())+":"+yf(n.getSeconds())+"."+yf(Math.floor(n.getMilliseconds()/10))}function yf(n){return 10>n?"0"+n:String(n)}function rk(n,t){var i=(n.f-t)/1e3,r=i.toFixed(3),u=0;if(1>i)u=2;else for(;100>i;)u++,i*=10;for(;0<u--;)r=" "+r;return r}function vc(n){vf.call(this,n)}function uk(n,t){var i,r,u,f;switch(t.e.value){case ea.value:i="dbg-sh";break;case sh.value:i="dbg-sev";break;case lr.value:i="dbg-w";break;case so.value:i="dbg-i";break;default:i="dbg-f"}return r=[],r.push(n.e," "),n.a&&r.push("[",ik(t),"] "),r.push("[",rk(t,n.f.get()),"s] "),r.push("[",t.c,"] "),r=oy(r.join("")),u=cy,n.b&&t.b&&(u=as(sy("br"),oy(t.a||""))),f=oy(t.d),i=sy("span",{"class":i},as(f,u)),n.c?as(r,i,sy("br")):as(r,i)}function ly(n){vf.call(this,n)}function fk(){this.e=yt(this.f,this);this.a=new ly;this.a.a=!1;this.a.b=!1;this.b=this.a.c=!1;this.c="";this.d={}}function yc(n,t,i){n[t]?n[t](i):n.log(i)}function btt(n,t){cg(t,function(t,i){"style"==i?n.style.cssText=t:"class"==i?n.className=t:"for"==i?n.htmlFor=t:i in ay?n.setAttribute(ay[i],t):0==i.lastIndexOf("aria-",0)||0==i.lastIndexOf("data-",0)?n.setAttribute(i,t):n[i]=t})}function ktt(n,t,i){function f(i){i&&t.appendChild(e(i)?n.createTextNode(i):i)}for(var r,u=2;u<i.length;u++)r=i[u],!it(r)||v(r)&&0<r.nodeType?f(r):th(dtt(r)?yi(r):r,f)}function dtt(n){if(n&&"number"==typeof n.length){if(v(n))return"function"==typeof n.item||"string"==typeof n.item;if(ot(n))return"function"==typeof n.item}return!1}function pc(n){this.a=n||c.document||document}function sk(n,t){var i,r;return i=n.a,r=t&&"*"!=t?t.toUpperCase():"",i.querySelectorAll&&i.querySelector&&r?i.querySelectorAll(r+""):i.getElementsByTagName(r||"*")}function hk(n){ni&&i(n.cssText)?n.cssText=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}":n.innerHTML=".dbg-sev{color:#F00}.dbg-w{color:#C40}.dbg-sh{font-weight:bold;color:#000}.dbg-i{color:#444}.dbg-f{color:#999}.dbg-ev{color:#0A0}.dbg-m{color:#990}.logmsg{border-bottom:1px solid #CCC;padding:2px}.logsep{background-color: #8C8;}.logdiv{border:1px solid #CCC;background-color:#FCFCFC;font:medium monospace}"}function vy(n){this.e=yt(this.f,this);this.b=new vc;this.c=this.b.a=!1;this.a=n;this.d=this.a.ownerDocument||this.a.document;n=(n=this.a)?new pc(9==n.nodeType?n:n.ownerDocument||n.document):hp||(hp=new pc);var t=null,i=n.a;ni&&i.createStyleSheet?(t=i.createStyleSheet(),hk(t)):(i=sk(n,"head")[0],i||(t=sk(n,"body")[0],i=n.b("head"),t.parentNode.insertBefore(i,t)),t=n.b("style"),hk(t),i.appendChild(t));this.a.className+=" logdiv"}function py(n){return py[" "](n),n}function ys(n,t){if(wi.call(this,n?n.type:""),this.b=this.target=null,this.clientY=this.clientX=0,this.a=this.state=null,n){this.type=n.type;this.target=n.target||n.srcElement;this.b=t;var i=n.relatedTarget;if(i&&ue)try{py(i.nodeName)}catch(r){}this.clientX=void 0!==n.clientX?n.clientX:n.pageX;this.clientY=void 0!==n.clientY?n.clientY:n.pageY;this.state=n.state;this.a=n;n.defaultPrevented&&this.preventDefault()}}function ou(n,t){if(gr.call(this),this.d=t,this.b=[],n>this.d)throw Error("[goog.structs.SimplePool] Initial cannot be greater than max");for(var i=0;i<n;i++)this.b.push(this.a())}function lk(){this.a=[];this.c=new oo;this.d=new oo;this.f=1;this.e=new ou(0,4e3);this.e.a=function(){return new vk};this.g=new ou(0,50);this.g.a=function(){return new ak};var n=this;this.b=new ou(0,2e3);this.b.a=function(){return String(n.f++)};this.b.c=function(){}}function ak(){this.time=this.count=0}function vk(){}function gtt(n,t,i){var r=[];return-1==t?r.push("    "):r.push(yk(n.b-t)),r.push(" ",pk(n.b-0)),0==n.a?r.push(" Start        "):1==n.a?(r.push(" Done "),r.push(yk(n.e-n.startTime)," ms ")):r.push(" Comment      "),r.push(i,n),0<n.d&&r.push("[VarAlloc ",n.d,"] "),r.join("")}function yk(n){n=Math.round(n);var t="";return 1e3>n&&(t=" "),100>n&&(t="  "),10>n&&(t="   "),t+n}function pk(n){return n=Math.round(n),String(100+n/1e3%60).substring(1,3)+"."+String(1e3+n%1e3).substring(1,4)}function nit(n,t,i,r,u){this.ba=n;this.a=null;this.src=t;this.type=i;this.Da=!!r;this.Ia=u;this.key=++wk;this.ma=this.Ca=!1}function bc(n){n.ma=!0;n.ba=null;n.a=null;n.src=null;n.Ia=null}function kc(n){this.src=n;this.a={};this.b=0}function by(n,t){var i=t.type,r,u,f;i in n.a&&(r=n.a[i],u=at(r,t),(f=0<=u)&&gt.splice.call(r,u,1),f&&(bc(t),0==n.a[i].length&&(delete n.a[i],n.b--)))}function ky(n,t,i,r){for(var f,u=0;u<n.length;++u)if(f=n[u],!f.ma&&f.ba==t&&f.Da==!!i&&f.Ia==r)return u;return-1}function np(n,t,i,r,u){if(l(t))for(var f=0;f<t.length;f++)np(n,t[f],i,r,u);else i=ip(i),n&&n[no]?n.T.add(String(t),i,!1,r,u):kk(n,t,i,!1,r,u)}function kk(n,t,i,r,u,f){if(!t)throw Error("Invalid event type");var o=!!u,e=dc(n);e||(n[dy]=e=new kc(n));i=e.add(t,i,r,u,f);i.a||(r=tit(),i.a=r,r.src=n,r.ba=i,n.addEventListener?n.addEventListener(t.toString(),r,o):n.attachEvent(nd(t.toString()),r),bk++)}function tit(){var t=iit,n=yy?function(i){return t.call(n.src,n.ba,i)}:function(i){return i=t.call(n.src,n.ba,i),i?void 0:i};return n}function dk(n,t,i,r,u){if(l(t))for(var f=0;f<t.length;f++)dk(n,t[f],i,r,u);else i=ip(i),n&&n[no]?n.T.add(String(t),i,!0,r,u):kk(n,t,i,!0,r,u)}function tp(n,t,i,r,u){if(l(t))for(var f=0;f<t.length;f++)tp(n,t[f],i,r,u);else(i=ip(i),n&&n[no])?(n=n.T,t=String(t).toString(),t in n.a&&(f=n.a[t],i=ky(f,i,r,u),-1<i&&(bc(f[i]),gt.splice.call(f,i,1),0==f.length&&(delete n.a[t],n.b--)))):n&&(n=dc(n))&&(t=n.a[t.toString()],n=-1,t&&(n=ky(t,i,!!r,u)),(i=-1<n?t[n]:null)&&gk(i))}function gk(n){var t,i,r;ft(n)||!n||n.ma||(t=n.src,t&&t[no]?by(t.T,n):(i=n.type,r=n.a,t.removeEventListener?t.removeEventListener(i,r,n.Da):t.detachEvent&&t.detachEvent(nd(i),r),bk--,(i=dc(t))?(by(i,n),0==i.b&&(i.src=null,t[dy]=null)):bc(n)))}function nd(n){return n in gy?gy[n]:gy[n]="on"+n}function td(n,t,i,r){var f=1,u;if((n=dc(n))&&(t=n.a[t.toString()]))for(t=t.concat(),n=0;n<t.length;n++)u=t[n],u&&u.Da==i&&!u.ma&&(f&=!1!==id(u,r));return Boolean(f)}function id(n,t){var i=n.ba,r=n.Ia||n.src;return n.Ca&&gk(n),i.call(r,t)}function iit(n,t){var r,u;if(n.ma)return!0;if(!yy){var i=t||ep("window.event"),f=new ys(i,this),e=!0;if(!(0>i.keyCode||void 0!=i.returnValue)){n:{if(r=!1,0==i.keyCode)try{i.keyCode=-1;break n}catch(o){r=!0}(r||void 0==i.returnValue)&&(i.returnValue=!0)}for(i=[],r=f.b;r;r=r.parentNode)i.push(r);for(r=n.type,u=i.length-1;0<=u;u--)f.b=i[u],e&=td(i[u],r,!0,f);for(u=0;u<i.length;u++)f.b=i[u],e&=td(i[u],r,!1,f)}return e}return id(n,new ys(t,this))}function dc(n){return n=n[dy],n instanceof kc?n:null}function ip(n){return ot(n)?n:(n[gc]||(n[gc]=function(t){return n.handleEvent(t)}),n[gc])}function pf(){gr.call(this);this.T=new kc(this);this.b=this;this.a=null}function nl(n,t,i,r){var f,e,u,o,s;if(t=n.T.a[String(t)],!t)return!0;for(t=t.concat(),f=!0,e=0;e<t.length;++e)u=t[e],u&&!u.ma&&u.Da==i&&(o=u.ba,s=u.Ia||u.src,u.Ca&&by(n.T,u),f=!1!==o.call(s,r)&&f);return f&&0!=r.Kb}function tl(n){return n.f||(n.f=new pf),n.f}function il(n,t){sr.call(this,n,t)}function rl(n,t){sr.call(this,n,t)}function ps(n,t){sr.call(this,n,t)}function rd(n){this.b=n||[]}function ud(){}function fd(n){this.b=n}function ed(n){this.data=n;this.a=0}function od(n,t){for(var e,f,s,r=0,i=0,o=n.length,u=0;u<o;++u){n:{if(i=n.charCodeAt(u),e=new ed(vd),ft(i))i=e.next(i);else{for(f=0,s=i.length;f<s;++f)if(!1===e.next(i[f])){i=!1;break n}i=!0}}i||((i=u-r)&&t(r,i),r=u+1)}(i=o-r)&&t(r,i)}function su(n,t){this.f=t;this.value=n}function wf(n,t,i,r,u,f){su.call(this,r,u);this.a=n;this.d=t;this.e=i;this.Ma=f||[]}function ul(n,t,i,r,u){su.call(this,t,i);this.g=r;this.a=u;this.type=n;this.ub=1}function to(n,t){wf.call(this,t.h(),t.d,t.p(),t.w(),t.f,[]);this.i=n;this.b=[t]}function eit(n,t){for(var r=t.b[0],i=0;i<n.b.length;i++)if(n.b[i].d==r.d&&n.b[i].value==r.value)return;n.b.push(r)}function oit(n,t){var i=n.c(),r=t.c();return i<=r?1:-1}function hd(n){var u=[],t,r;for(n=n.split(/\s+/),r=0;r<n.length;r++){t=n[r];for(var f=t.length-1,e=Array(f),i=0;i<f;i++)e[i]=t.substring(i,i+2);t=e;u.push.apply(u,t)}return u}function ws(n,t,i,r,u,f,e){wf.call(this,t,i,r,u,f,e);this.b=n}function fl(n,t){this.a=n;this.b=t;this.d=[];this.c=0}function sit(n,t){for(var i,u,r,e,o=n.a.getName(),f=0;f<n.b.length;f++)r=n.b[f],e=r.type,.4==e||.6==e?(u="v",i=r.w().toLowerCase(),i=ya(i)):(u="v",i=r.w().toLowerCase(),i=a.only(i)),t(o,u,i,r),n.c++,.6==e&&(u="k",i=r.f,i=a.only(i),t(o,u,i,r),n.c++)}function hit(n){for(var r,t=[n.a.getName()],i=0;i<n.a.count();i++)r=n.a.index(i).h(),-1==t.indexOf(r)&&t.push(r);return t}function cit(n){if(this.a=n,"en"==n.c){n=n.d||["stop","stemmer","metaphone"];for(var i=[],t=0;t<n.length;t++)if("metaphone"==n[t])i.push(rit);else if("stemmer"==n[t])i.push(uit);else if("stop"==n[t])i.push(fit);else throw Error('Invalid normalizer "'+n[t]+'" for English lang');n=i}else n=[];this.b=n}function cd(n,t){for(var r,i=0;i<n.b.length;i++)if(r=n.b[i].a(t),r)t=r;else return null;return t}function lit(n,t){var f=[],r=[],s,i;for(od(t,function(n,i){f.push(t.substr(n,i));r.push(n)}),s=[],i=0;i<f.length;i++)s[i]=cd(n,f[i]);for(var o=[],c=0,i=0;i<f.length;i++){var u=f[i],l=s[i],a="*"==t.charAt(r[i]+u.length),h=a?r[i]+u.length+1:r[i]+u.length,h='"'==t.charAt(r[i]-1)&&'"'==t.charAt(h),v="-"==t.charAt(h?r[i]-2:r[i]-1),e=.8;a?e=.4:h?e=1:v?e=0:null!=l&&(e=.6);u=new ul(e,u,l,r[i],1/(i+2));o.push(u);c+=u.c()}for(i=0;i<o.length;++i)o[i].ub=1/c;return o}function ait(n,t,i,r){var f=[],l=[],s,o,u,h,c,e;for(od(t,function(n,i){f.push(t.substr(n,i));l.push(n)}),s=[],u=0;u<f.length;u++)s[u]=cd(n,f[u]);for(n=i.h(),i=i.b,o=[],u=0;u<f.length;u++)h=f[u],c=s[u],null!=c&&(e=gf(o,function(n){return n.w()==h}),e||(e=new wf(n,i,r,h,c),o.push(e)),e.Ma.push(l[u]));return o}function vit(n,t,i,r){for(var o,s,u=[],f=0;f<n.a.count();f++)o=n.a.index(f),o.h()==t&&(s=bu(r,o.b),e(s)&&(u=u.concat(ait(n,s,o,i))));return u}function el(n,t,i){this.db=n;this.b=t;this.type=i||0;this.c=null}function bs(n,t,i,r){this.d=n;this.a=t||null;this.f=!!i;this.e=!!r;this.b=[];this.c=[]}function ld(n,t){for(var i=t.length-1;0<=i;i--)if(t[i]==n.b[n.b.length-1])t=t.slice(0,i);else break;return n.c=t,null}function rp(n,t){if((0!=n.b.length||0!=n.c.length)&&up(n)&&!ad(n))throw new ae('Require index "'+n.b.concat(n.c).join(", ")+'" not found in store "'+n.d.getName()+'"');var i=new s(n.d.getName(),bf(n),n.a,n.f,n.e,!!t);return i.r=n.b.length,i}function ad(n){var t=n.b.concat(n.c),i=da(n.d,t);return i||t[t.length-1]==n.d.keyPath&&(i=da(n.d,t.slice(0,t.length-1)))?i:null}function bf(n){if((n=ad(n)))return n.getName()}function up(n){return 0<n.b.length?!0:1==n.c.length?n.c[0]!=n.d.keyPath:1<n.c.length?!0:!1}function kf(n,t,i,r){el.call(this,n,t,i);this.a=r}function yit(n){for(var i=[],t=0;t<n.a.length;t++)i[t]=rp(n.a[t]);return i}function pit(n){for(var t=0;t<n.a.length;t++)if(0<n.a[t].b.length)return!0;return!1}function tt(n,t,i,r){el.call(this,n,t,i);this.a=r}function fp(n){return rp(n.a,!(2==n.type||3==n.type||1==n.type))}var n,c=this,ks="closure_uid_"+(1e9*Math.random()>>>0),op=0,ds=Date.now||function(){return+new Date},hp,sl,nh,io,lu,al,vl,pl,wl,uh,uo,ne,bp,fo,re,ta,ia,ra,ua,oh,ee,ew,hh,se,ca,ht,yo,la,aa,di,tf,wa,ov,sf,es,ny,ty,iy,kr,pb,wb,ry,uy,db,gb,fy,ey,hy,cy,ek,ok,ay,yy,ck,wy,wc,no,wk,gc,sd,vd;u(lt,Error);lt.prototype.name="CustomError";sl=String.prototype.trim?function(n){return n.trim()}:function(n){return n.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};var kd=/&/g,dd=/</g,gd=/>/g,ng=/"/g,tg=/'/g,ig=/\x00/g,rg=/[\x00&<>"']/;nh={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0b":"\\x0B",'"':'\\"',"\\":"\\\\"};io={"'":"\\'"};u(cl,lt);cl.prototype.name="AssertionError";var gt=Array.prototype,at=gt.indexOf?function(n,t,i){return gt.indexOf.call(n,t,i)}:function(n,t,i){if(i=null==i?0:0>i?Math.max(0,n.length+i):i,e(n))return e(t)&&1==t.length?n.indexOf(t,i):-1;for(;i<n.length;i++)if(i in n&&n[i]===t)return i;return-1},th=gt.forEach?function(n,t,i){gt.forEach.call(n,t,i)}:function(n,t,i){for(var f=n.length,u=e(n)?n.split(""):n,r=0;r<f;r++)r in u&&t.call(i,u[r],r,n)},ih=gt.map?function(n,t,i){return gt.map.call(n,t,i)}:function(n,t,i){for(var u=n.length,f=Array(u),o=e(n)?n.split(""):n,r=0;r<u;r++)r in o&&(f[r]=t.call(i,o[r],r,n));return f},ll=gt.some?function(n,t,i){return gt.some.call(n,t,i)}:function(n,t,i){for(var f=n.length,u=e(n)?n.split(""):n,r=0;r<f;r++)if(r in u&&t.call(i,u[r],r,n))return!0;return!1},ug=gt.every?function(n,t,i){return gt.every.call(n,t,i)}:function(n,t,i){for(var f=n.length,u=e(n)?n.split(""):n,r=0;r<f;r++)if(r in u&&!t.call(i,u[r],r,n))return!1;return!0};n:{if(al=c.navigator,al&&(vl=al.userAgent,vl)){lu=vl;break n}lu=""}pl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");uo=!1;ne=[];[].push(function(){uo=!1;ne=[]});var vu=0,fh=2,dr=3;au.prototype.then=function(n,t,i){return pg(this,ot(n)?n:null,ot(t)?t:null,i)};sp(au);au.prototype.g=function(n){this.b=vu;te(this,fh,n)};au.prototype.i=function(n){this.b=vu;te(this,dr,n)};au.prototype.j=function(){for(var t,n;this.a&&this.a.length;)for(t=this.a,this.a=[],n=0;n<t.length;n++)wp(this,t[n],this.b,this.f);this.e=!1};bp=ap;u(ie,lt);ie.prototype.name="cancel";n=g.prototype;n.Ea=function(n,t){this.j=!1;kl(this,n,t)};n.callback=function(n){kp(this);kl(this,!0,n)};n.m=function(n){kp(this);kl(this,!1,n)};n.D=function(n,t){return ui(this,n,null,t)};n.sb=function(n,t){return ui(this,null,n,t)};n.ha=function(n,t){return ui(this,n,n,t)};n.then=function(n,t,i){var r,u,f=new au(function(n,t){r=n;u=t});return ui(this,r,function(n){u(n)}),f.then(n,t,i)};sp(g);g.prototype.ua=function(n){var t=new g;return ui(this,t.callback,t.m,t),n&&(t.d=this,this.t++),t};g.prototype.Ya=function(){var t;this.g&&this.c&&dl(this)&&(gp(this.g),this.g=0);this.d&&(this.d.t--,delete this.d);for(var n=this.e,e=!1,r=!1;this.i.length&&!this.j;){var u=this.i.shift(),f=u[0],o=u[1],u=u[2];if(f=this.b?o:f)try{t=f.call(u||this.M,n);i(t)&&(this.b=this.b&&(t==n||t instanceof Error),this.e=n=t);ol(n)&&(this.j=r=!0)}catch(s){n=s;this.b=!0;dl(this)||(e=!0)}}this.e=n;r&&(r=yt(this.Ea,this,!0),t=yt(this.Ea,this,!1),n instanceof g?(ui(n,r,t),n.A=!0):n.then(r,t));e&&(n=new dp(n),fo[n.Ja]=n,this.g=n.Ja)};u(eh,lt);eh.prototype.message="Deferred has already fired";eh.prototype.name="AlreadyCalledError";dp.prototype.b=function(){delete fo[this.Ja];throw this.a;};fo={};u(t,lt);u(gl,lt);u(yu,lt);u(nw,lt);u(pu,lt);u(hr,Error);hr.prototype.name="ydn.error.InternalError";re="StopIteration"in c?c.StopIteration:Error("StopIteration");eo.prototype.next=function(){throw re;};eo.prototype.Sa=function(){return this};n=oo.prototype;n.yb=function(){return this.c};n.ab=function(){na(this);for(var t=[],n=0;n<this.a.length;n++)t.push(this.b[this.a[n]]);return t};n.sa=function(){return na(this),this.a.concat()};n.clear=function(){this.b={};this.d=this.c=this.a.length=0};n.get=function(n,t){return Object.prototype.hasOwnProperty.call(this.b,n)?this.b[n]:t};n.forEach=function(n,t){for(var u,f,r=this.sa(),i=0;i<r.length;i++)u=r[i],f=this.get(u),n.call(t,f,u,this)};n.clone=function(){return new oo(this)};n.Sa=function(n){na(this);var t=0,i=this.a,u=this.b,f=this.d,e=this,r=new eo;return r.next=function(){for(;;){if(f!=e.d)throw Error("The map has changed since the iterator was created");if(t>=i.length)throw re;var r=i[t++];return n?r:u[r]}},r};var iw=pt("Opera")||pt("OPR"),ni=pt("Trident")||pt("MSIE"),ue=pt("Gecko")&&-1==lu.toLowerCase().indexOf("webkit")&&!(pt("Trident")||pt("MSIE")),fe=-1!=lu.toLowerCase().indexOf("webkit");fe&&pt("Mobile");pt("Macintosh");pt("Windows");pt("Linux");ta=c.navigator||null;ta&&(ta.appVersion||"").indexOf("X11");pt("Android");!pt("iPhone")||pt("iPod")||pt("iPad");pt("iPad");ia=function(){var n="",t;return iw&&c.opera?(n=c.opera.version,ot(n)?n():n):(ue?t=/rv\:([^\);]+)(\)|;)/:ni?t=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:fe&&(t=/WebKit\/(\S+)/),t&&(n=(n=t.exec(lu))?n[1]:""),ni&&(t=rw(),t>parseFloat(n))?String(t):n)}();ra={};ua=c.document;oh=ua&&ni?rw()||("CSS1Compat"==ua.compatMode?parseInt(ia,10):5):void 0;ee={};fa.prototype.b=null;fa.prototype.a=null;ew=0;nr.prototype.toString=function(){return this.name};var ea=new nr("SHOUT",1200),sh=new nr("SEVERE",1e3),lr=new nr("WARNING",900),so=new nr("INFO",800),ow=new nr("CONFIG",700),oa=new nr("FINE",500),pi=new nr("FINER",400),wu=new nr("FINEST",300),tn=[new nr("OFF",Infinity),ea,sh,lr,so,ow,oa,pi,wu,new nr("ALL",0)],ho=null;oe.prototype.getName=function(){return this.e};oe.prototype.log=function(n,t,i){var f,r,u;if(n.value>=sw(this).value)for(ot(t)&&(t=t()),n=this.f(n,t,i,oe.prototype.log),t="log:"+n.d,c.console&&(c.console.timeStamp?c.console.timeStamp(t):c.console.markTimeline&&c.console.markTimeline(t)),c.msWriteProfilerMark&&c.msWriteProfilerMark(t),t=this;t;){if(i=t,f=n,i.a)for(r=0,u=void 0;u=i.a[r];r++)u(f);t=t.c}};oe.prototype.f=function(n,t,i,r){var o=new fa(n,String(t),this.e),v,s,u,h,l,a,f;if(i){v=r||arguments.callee.caller;o.b=i;try{if(h=ep("window.location.href"),e(i))u={message:i,name:"Unknown error",lineNumber:"Not available",fileName:h,stack:"Not available"};else{f=!1;try{l=i.lineNumber||i.vc||"Not available"}catch(p){l="Not available";f=!0}try{a=i.fileName||i.filename||i.sourceURL||c.$googDebugFname||h}catch(w){a="Not available";f=!0}u=!f&&i.lineNumber&&i.fileName&&i.stack&&i.message&&i.name?i:{message:i.message||"Not available",name:i.name||"UnknownError",lineNumber:l,fileName:a,stack:i.stack||"Not available"}}s="Message: "+hu(u.message)+'\nUrl: <a href="view-source:'+u.fileName+'" target="_new">'+u.fileName+"<\/a>\nLine: "+u.lineNumber+"\n\nBrowser stack:\n"+hu(u.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+hu(nn(v)+"-> ")}catch(y){s="Exception trying to expose exception! You win, we lose. "+y}o.a=s}return o};hh={};se=null;u(fi,g);fi.prototype.na=function(n,t){return this.f.push([n,t]),this};fi.prototype.callback=function(n){this.f.length=0;fi.s.callback.call(this,n)};fi.prototype.m=function(n){this.f.length=0;fi.s.m.call(this,n)};fi.prototype.xa=function(){return this};var sa={READ_ONLY:"readonly",READ_WRITE:"readwrite",VERSION_CHANGE:"versionchange"},et=sa.READ_ONLY,d=sa.READ_WRITE,ha=sa.VERSION_CHANGE,wt=c.indexedDB||c.mozIndexedDB||c.webkitIndexedDB||c.moz_indexedDB||c.msIndexedDB;g.prototype.done=g.prototype.D;g.prototype.fail=g.prototype.sb;g.prototype.always=g.prototype.ha;fi.prototype.then=fi.prototype.then;ca={};ah.prototype.write=function(){for(var n=0;n<arguments.length;n++)this.b=arguments[n].toString(16),this.a.push(2===this.b.length?this.b:this.b="0"+this.b)};ah.prototype.trim=function(){for(var n=this.a.length;"00"===this.a[--n];);return this.a.length=++n,this};ah.prototype.toString=function(){return this.a.length?this.a.join(""):""};u(bt,fi);n=bt.prototype;n.oa="";n.logger=p("ydn.db.Request");n.Vb=function(){return!!this.a};n.abort=function(){if(o(this.logger,this+" aborting "+this.a),this.a)if(ot(this.a.abort))this.a.abort();else if(ot(this.a.executeSql))this.a.executeSql("ABORT",[],function(){},function(){return!0});else throw new yu;else throw new kh(this+" No active transaction");};n.callback=function(n){o(this.logger,this+" SUCCESS");bt.s.callback.call(this,n)};n.m=function(n){o(this.logger,this+" ERROR");bt.s.m.call(this,n)};n.state=function(){return this.c?this.b?"rejected":"resolved":"pending"};n.toString=function(){return"Request:"+k(this)};n.Ya=function(){var t,r;for(this.g&&this.c&&dl(this)&&(gp(this.g),this.g=0),this.d&&(this.d.t--,delete this.d),t=this.e,r=!1;this.i.length&&!this.j;){var u=this.i.shift(),n=u[0],f=u[1],u=u[2];(n=this.b?f:n)&&(n=n.call(u||this.M,t),i(n)&&(this.b=this.b&&(n==t||n instanceof Error),this.e=t=n),ol(t)&&(this.j=r=!0))}this.e=t;r&&(r=yt(this.Ea,this,!0),n=yt(this.Ea,this,!1),t instanceof g?(ui(t,r,n),t.A=!0):t.then(r,n))};n.toJSON=function(){var n=(this.oa||"").match(/B(\d+)T(\d+)(?:Q(\d+?))?(?:R(\d+))?/)||[];return{method:this.l?this.l.split(":"):[],branchNo:parseFloat(n[1]),transactionNo:parseFloat(n[2]),queueNo:parseFloat(n[3]),requestNo:parseFloat(n[4])}};ht=wt&&wt.cmp?yt(wt.cmp,wt):fn;yo=[];la=0;aa={};gr.prototype.da=!1;gr.prototype.Wa=function(){if(!this.da&&(this.da=!0,this.U(),0!=la)){var n=this[ks]||(this[ks]=++op);delete aa[n]}};gr.prototype.U=function(){if(this.na)for(;this.na.length;)this.na.shift()()};wi.prototype.Wa=function(){};wi.prototype.preventDefault=function(){this.Kb=!1};u(ar,wi);ar.prototype.h=function(){return this.a};u(ur,ar);n=ur.prototype;n.name="ReadyEvent";n.version=NaN;n.Sb=NaN;n.Eb=null;n.rc=function(){return this.version};n.Xb=function(){return this.Sb};n.Wb=function(){return this.Eb};u(fr,ar);fr.prototype.toString=function(){return this.name+":"+(this.error?this.error:"")};fr.prototype.name="ErrorEvent";fr.prototype.error=null;fr.prototype.c=function(){return this.error};u(po,fr);po.prototype.name="FailEvent";u(bi,ar);bi.prototype.name="RecordEvent";bi.prototype.c=function(){return this.key};bi.prototype.w=function(){return this.value};u(ki,ar);ki.prototype.name="StoreEvent";ki.prototype.sa=function(){return this.keys};ki.prototype.ab=function(){return this.B};n=ei.prototype;n.toJSON=function(){var n={store:this.a,id:this.id};return this.parent&&(n.parent=this.parent.toJSON()),n};n.valueOf=function(){return(this.parent?this.parent.valueOf()+"^|":"")+this.a+"^:"+this.id};n.toString=function(){return this.valueOf().replace("^|","|").replace("^:",":")};n.h=function(){return this.a};n.jc=function(){return this.id};n.kc=function(){return this.parent};a.prototype.lower=void 0;a.prototype.upper=void 0;a.prototype.toJSON=function(){return pw(this)};a.only=function(n){return new a(n,n,!1,!1)};a.bound=function(n,t,i,r){return new a(n,t,i,r)};a.upperBound=function(n,t){return new a(void 0,n,void 0,!!t)};a.lowerBound=function(n,t){return new a(n,void 0,!!t,void 0)};a.prototype.Y=function(n){var t=this.lower,i=this.upper,r=this.lowerOpen,u=this.upperOpen;return null!=n.lower&&(null==this.lower||n.lower>=this.lower)&&(t=n.lower,r=n.lowerOpen||this.lowerOpen),null!=n.upper&&(null==this.upper||n.upper<=this.upper)&&(i=n.upper,u=n.upperOpen||this.upperOpen),a.bound(t,i,r,u)};di=c.IDBKeyRange||c.webkitIDBKeyRange||a;tf="TEXT";wa=["BLOB","DATE","INTEGER","NUMERIC",tf];n=yr.prototype;n.getName=function(){return this.b};n.toJSON=function(){return{name:this.b,keyPath:this.keyPath,type:this.type,unique:this.unique,multiEntry:this.multiEntry}};n.clone=function(){var n=l(this.keyPath)?yi(this.keyPath):this.keyPath;return new yr(n,this.type,this.unique,this.multiEntry,this.b,this.e)};n.hint=function(n){if(!n)return this;var r=l(this.keyPath)?yi(this.keyPath):this.keyPath,t=this.type;return i(n.type)||"TEXT"!=t||(t=void 0),new yr(r,t,this.unique,this.multiEntry,n.b)};n.toString=function(){var n=this.multiEntry?"MultiEntry":"";return this.a&&1<this.a.length&&(n+="Compound"),n+"Index:"+this.b};n=er.prototype;n.Z=!1;n.ga=!1;n.toJSON=function(){for(var t=[],n=0;n<this.a.length;n++)t.push(this.a[n].toJSON());return{name:this.c,keyPath:this.keyPath,autoIncrement:this.b,type:this.type,indexes:t}};n.clone=function(){return rf(this.toJSON())};n.index=function(n){return this.a[n]||null};n.getName=function(){return this.c};n.toString=function(){return"Store:"+this.c+"["+this.a.length+"index]"};p("ydn");dw.prototype.h=function(){return this.a};ph.prototype.getName=function(){return this.name};ph.prototype.count=function(){return this.b.length};ph.prototype.index=function(n){return this.b[n]};tr.prototype.toJSON=function(){var t=ih(this.stores,function(n){return n.toJSON()}),n={};return n.stores=t,i(this.version)&&(n.version=this.version),n};tr.prototype.b=!1;tr.prototype.a=function(){return!1};tr.prototype.count=function(){return this.stores.length};u(ru,tr);ru.prototype.a=function(){return!0};u(uu,Error);u(uu,Error);go.prototype.name="ydn.error.NotSupportedException";u(ev,Error);u(ef,Error);ef.prototype.name="ydn.InternalError";u(ce,Error);ce.prototype.name="ydn.error.ConstraintError";u(uu,Error);u(or,Error);ut.prototype.logger=p("ydn.db.con.Storage");ut.prototype.A=function(n){var t,r;return i(n)&&(t=function(t){n(t.toJSON());n=void 0},this.b?this.b.X(t):(r=this,this.transaction(function(n){r.b.X(t,n)},null,et))),this.c?this.c.toJSON():null};ut.prototype.l=function(n){if(this.b)throw new pu("Already connected with "+this.g);this.g=n;tb(this)};ut.prototype.getName=function(){return this.g};ov="indexeddb sqlite websql localstorage sessionstorage userdata memory".split(" ");n=ut.prototype;n.Va=function(){return null};n.Ba=function(){if(this.b)return this.b.Qb()};n.Na=function(n,t){this.e.ha(n,t)};n.close=function(){this.b&&(this.b.close(),this.b=null,f(this.logger,this+" closed"))};n.oc=function(){return this.b?this.b.Pb():null};n.zb=NaN;n.Ka=!1;n.transaction=function(n,r,u,f){var s=r,o,c,h;if(e(r))s=[r];else if(null!=r)if(it(r)){if(0==r.length)throw new t("number of store names must more than 0");for(o=0;o<r.length;o++)if(!e(r[o]))throw new t("store name at "+o+" must be string but found "+typeof r[o]);}else throw new t("store names must be an array");else s=null;this.b&&this.b.mb()&&!this.Ka?(c=this,h=i(u)?u:et,h==ha&&(this.Ka=!0),this.b.Xa(function(t){n(t);n=null},s,h,function(n,t){ot(f)&&(f(n,t),f=void 0);h==ha&&(c.Ka=!1);rb(c)})):an(this,n,s,u,f)};n.tb=function(n){b(this.logger,"Full text indexer option for "+n.getName()+" ignored.")};n.H=function(){};n.toString=function(){return"Storage:"+this.b};ut.prototype.close=ut.prototype.close;ut.prototype.getType=ut.prototype.Ba;ut.prototype.getName=ut.prototype.getName;ut.prototype.getSchema=ut.prototype.A;ut.prototype.onReady=ut.prototype.Na;ut.prototype.setName=ut.prototype.l;ut.prototype.transaction=ut.prototype.transaction;ut.prototype.db=ut.prototype.oc;dt("ydn.db.version","1.1.1");dt("ydn.db.cmp",ht);dt("ydn.db.deleteDatabase",function(n,t){for(var u,r,i=0;i<yo.length;i++)r=yo[i](n,t),r&&(u=r);return u||gu("IDBVersionChangeEvent ",null)});ur.prototype.name=ur.prototype.name;ur.prototype.getVersion=ur.prototype.rc;ur.prototype.getOldVersion=ur.prototype.Xb;ur.prototype.getOldSchema=ur.prototype.Wb;fr.prototype.getError=fr.prototype.c;bt.prototype.abort=bt.prototype.abort;bt.prototype.canAbort=bt.prototype.Vb;fi.prototype.progress=fi.prototype.na;fi.prototype.promise=fi.prototype.xa;u(ae,Error);ae.prototype.name="ConstraintError";ae.prototype.toString=function(){return this.name+": "+this.message};u(wh,Error);wh.prototype.toString=function(){return this.name+": "+this.message};u(bh,Error);bh.prototype.name="ydn.db.InternalError";u(kh,Error);u(ve,Error);u(gi,Error);gi.prototype.name="NotFoundError";gi.prototype.toString=function(){return this.name+": "+this.message};u(dh,Error);dh.prototype.toString=function(){return this.name+": "+this.message};u(gh,Error);gh.prototype.toString=function(){return this.name+": "+this.message};u(nc,Error);u(of,Error);tc.prototype.logger=p("ydn.db.crud.req.RequestExecuto");tc.prototype.toString=function(){return"RequestExecutor"};ts.prototype.logger=p("ydn.db.tr.Mutex");ts.prototype.J=null;ts.prototype.G=null;ts.prototype.toString=function(){return"Mutex:"+("B"+this.c+"T"+this.b)+(this.a?"*":"")};fu.prototype.logger=p("ydn.db.tr.Thread");fu.prototype.type=function(){return this.A.Ba()};fu.prototype.o=function(){return this.A};fu.prototype.C=function(){return"B"+this.F+"T"+this.d};sf="single";u(is,fu);n=is.prototype;n.logger=p("ydn.db.tr.Serial");n.abort=function(){o(this.logger,this+": aborting");fb(this.g)};n.ca=function(n,r,u,o){var c=e(r)?[r]:r,h,l,s,a;if(it(c)){if(0==c.length)throw new t("number of store names must more than 0");for(h=0;h<c.length;h++){if(!e(c[h]))throw new t("store name at "+h+" must be string but found "+c[h]+" of type "+typeof c[h]);if(this.M&&!(0<=at(this.M,c[h])))throw new t('store name "'+h+c[h]+'" in scope of '+this);}}else throw new t("store names must be an array");if(l=i(u)?u:et,s=this,this.b.a||!ns(this.o())&&this.l)yn(this,n,r,l,o);else{if(a=this.C(),o&&this.f.push(o),this.j&&this.d>=this.j)throw new pu("Exceed maximum number of transactions of "+this.j);this.l=!0;this.o().transaction(function(t){var i=s.b;for(i.a=t,i.d=!1,i.J=r,i.mode=l,i.b++,i.G=null,a=s.C(),rr(s.logger,a+" BEGIN "+rt(r)+" "+l),n(s),n=null;vn(s);)t=s.c.shift(),t.G&&s.f.push(t.G),f(s.logger,"pop tx queue"+(s.c.length+1)+" reusing T"+s.d),t.Ha()},c,l,function(n,t){rr(s.logger,a+" "+n);var i=s.b;for(i.a?(i.a=null,i.J=null,i.mode=null,ot(i.G)&&i.G(n,t),i.G=null):b(i.logger,i+" has no TX to be unlocked for "+n),i=0;i<s.f.length;i++)s.f[i](n,t);s.f.length=0;(i=s.c.shift())&&s.ca(i.Ha,i.J,i.mode,i.G);s.a=0})}};n.C=function(){var n=this.b;return"B"+n.c+"T"+n.b};n.request=function(n,t,i,r){function e(n,t){vo(f);r&&r(n,t)}var f=new bt(n),u;return n=i||et,u=this,ub(this.b)&&sv(this,t,n)?(t=this.b.a,this.a++,ao(f,t,this.C()+"R"+this.a),this.f.push(e)):u.ca(function(){var n=u.b.a;u.a++;ao(f,n,u.C()+"R"+u.a)},t,n,e),f};n.R=function(n,t,i,r,u){var f,e,s;r=r||et;f=this;ub(f.b)&&sv(this,i,r)?(s=f.b.a,f.a++,e=f.C()+"R"+f.a,o(f.logger,e+" BEGIN"),t(s,e,function(t,i){f.g=s;i?(o(f.logger,e+" ERROR"),n.m(t)):(o(f.logger,e+" SUCCESS"),n.callback(t));f.g=null}),o(f.logger,e+" END"),t=null):f.ca(function(){var i=f.b.a;f.a++;e=f.C()+"R"+f.a;o(f.logger,e+" BEGIN");t(i,e,function(t,r){f.g=i;r?(o(f.logger,e+" ERROR"),n.m(t)):(o(f.logger,e+" SUCCESS"),n.callback(t));f.g=null});o(f.logger,e+" END");t=null},i,r,u)};n.getName=function(){return this.o().getName()};n.toString=function(){return"Serial:"+this.C()+(this.g?"*":"")};u(nu,is);nu.prototype.logger=p("ydn.db.tr.AtomicSerial");nu.prototype.request=function(n,t,i){var f,e,o,u=nu.s.request.call(this,n,t,i,function(n,t){if(vo(u),f)"complete"!=n&&(o=!0,e=t),f(e,o);else{var i=new of;r(u,i,!0)}});return du(u,function(n,t,i){o=t;e=n;f=i}),u};nu.prototype.R=function(n,t,i,r,u){var f,e,o=new g;ui(o,function(n){e=!1;f=n},function(n){e=!0;f=n});nu.s.R.call(this,o,t,i,r,function(t,i){if("complete"!=t)n.m(i);else if(!0===e)n.m(f);else if(!1===e)n.callback(f);else{var r=new of;n.m(r)}u&&(u(t,i),u=void 0)})};nu.prototype.toString=function(){return"Atomic"+nu.s.toString.call(this)};n=eu.prototype;n.logger=p("ydn.db.tr.DbOperator");n.sc=function(){return this.a.d};n.abort=function(){this.a.abort()};n.o=function(){return this.d};n.toString=function(){return"TxStorage:"+this.o().getName()};u(ct,eu);n=ct.prototype;n.logger=p("ydn.db.crud.DbOperator");n.count=function(n,r,u,f){var s,c,d,p,a,k;if(null!=n)if(l(n)){if(i(u)||i(r))throw new t("too many arguments.");for(c=n,a=0;a<c.length;a++)if(!ff(this.b,c[a]))throw new t('store name "'+c[a]+'" at '+a+" not found.");o(this.logger,"countStores: "+rt(c));s=this.a.request("count",c);w(s,function(){y(this).Ua(s,c)},this)}else if(e(n)){if(a=h(this.b,n),!a)throw new t('store name "'+n+'" not found.');if(i(f)&&!si(f))throw new t('unique value "'+f+'" must be boolean, but found '+typeof f+".");if(c=[n],e(r))if(d=r,v(u)){if(k=nf(u),k)throw new t("invalid key range: "+oi(u)+" "+k);p=hi(u)}else{if(null!=u)throw new t("invalid key range: "+oi(u)+" of type "+typeof u);p=null}else if(v(r)||null==r)if(v(r)){if(k=nf(r))throw new t("invalid key range: "+oi(r)+" "+k);p=hi(r)}else{if(null!=r)throw new t("key range must be  an object but found "+oi(r)+" of type "+typeof r);p=null}else throw new t('invalid second argument for count "'+oi(u)+'" of type '+typeof r);o(this.logger,"countKeyRange: "+n+" "+(d?d:"")+rt(p));s=this.a.request("count",c);ii(a,s,arguments);w(s,function(){y(this).Fa(s,c[0],p,d,!!f)},this)}else throw new t("Invalid store name or store names.");else b(this.logger,"count method requires store name(s)"),a=rv(this.b),s=this.a.request("count",a),du(s,function(n,t,i){if(t)i(n,!0);else{for(var r=t=0;r<n.length;r++)t+=n[r];i(t,!1)}},this),w(s,function(){y(this).Ua(s,c)},this);return s};n.get=function(n,r){var v=this,u,l,f,c,a;if(n instanceof ei){var p=n,s=p.h(),c=h(this.b,s);if(!c){if(this.b.a())return ns(this.o())?gu("get",void 0):(u=new bt("get"),this.o().Na(function(){ui(v.get(n,r),function(n){u.callback(n)},function(n){u.m(n)})}),u);throw new t("Store: "+s+" not found.");}l=p.id;o(this.logger,"getByKey: "+s+":"+l);u=this.a.request("get:key",[s]);ii(c,u,arguments,void 0,this);w(u,function(){y(this).Za(u,s,l)},this)}else if(e(n)&&i(r)){if(f=n,c=h(this.b,f),!c){if(this.b.a())return ns(this.o())?gu("get",void 0):(u=new bt("get"),this.o().Na(function(){ui(v.get(n,r),function(n){u.callback(n)},function(n){u.m(n)})}),u);throw new t('Store name "'+f+'" not found.');}a=r;o(this.logger,"getById: "+f+":"+a);u=this.a.request("get",[f]);ii(c,u,arguments,void 0,this);w(u,function(){y(this).Za(u,f,a)},this)}else throw new t("get require valid input arguments.");return u};n.$b=function(n,r,u,f,e){var k=h(this.b,n),c,l,p,b=null,a,s;if(v(r)){if(a=nf(r),a)throw new t("invalid key range: "+r+" "+a);b=hi(r)}else if(null!=r)throw new t('expect key range object, but found "'+oi(r)+'" of type '+typeof r);if(i(u))if(ft(u))c=u;else throw new t("limit must be a number, but "+u+" is "+typeof u);else c=100;if(i(f))if(ft(f))l=f;else throw new t("offset must be a number, but "+f+" is "+typeof f);else l=0;if(i(e))if(si(e))p=e;else throw new t("reverse must be a boolean, but "+e+" is "+typeof e);return o(this.logger,"keysByKeyRange: "+n),s=this.a.request("keys",[n]),ii(k,s,arguments),w(s,function(){y(this).O(s,2,n,null,b,c,l,p,!1)},this),s};n.keys=function(n,r,u,f,s,c,l){var b,k,g=null,nt=!1,tt=!1,a=n,p=h(this.b,a),v,it,d;if(!e(a))throw new t("store name must be a string, but "+a+" of type "+typeof a+" is not.");if(!this.b.a()){if(!p)throw new t('store name "'+a+'" not found.');if(e(r)&&!li(p,r))throw new t('index "'+r+'" not found in store "'+a+'".');}if(this.b.a()&&!p)return gu("keys",[]);if(e(r)){if(it=r,d=nf(u),d)throw new t("invalid key range: "+u+" "+d);if(g=hi(u),ft(f))b=f;else{if(i(f))throw new t("limit must be a number");b=100}if(ft(s))k=s;else{if(i(s))throw new t("offset must be a number");k=0}if(i(c))if(si(c))nt=c;else throw new t("reverse must be a boolean");if(i(l))if(si(l))tt=l;else throw new t("unique must be a boolean");o(this.logger,"keysByIndexKeyRange: "+a);v=this.a.request("keys:iter:index",[a]);ii(p,v,arguments);w(v,function(){y(this).O(v,2,a,it,g,b,k,nt,tt)},this)}else v=this.$b(a,r,u,f,s);return v};n.B=function(n,r,u,f,s,c,a){var tt=this,v,b,p,g,d;if(e(n)){if(b=n,p=h(this.b,b),!p){if(this.b.a())return ns(this.o())?gu("values",[]):(v=new bt("values"),this.o().Na(function(){ui(tt.B(n,r,u,f,s,c),function(n){v.callback(n)},function(n){v.m(n)})}),v);throw new gi(b);}if(l(r)){if(i(u)||i(f))throw new t("too many input arguments");g=r;o(this.logger,"listByIds: "+b+" "+g.length+" ids");v=this.a.request("values:array",[b]);ii(p,v,arguments,void 0,this);w(v,function(){y(this).Bb(v,b,g)},this)}else v=e(r)?this.ec(b,r,u,f,s,c,a):this.fc(b,r,u,f,s)}else if(l(n))if(n[0]instanceof ei){for(var p=[],k=n,nt=0;nt<k.length;nt++){if(d=k[nt].h(),!ff(this.b,d)){if(this.b.a())return p=[],p[k.length-1]=void 0,gu("get",p);throw new t("Store: "+d+" not found.");}0<=at(p,d)||p.push(d)}o(this.logger,"listByKeys: "+rt(p)+" "+k.length+" keys");v=this.a.request("values:keys",p);w(v,function(){y(this).Cb(v,k)},this)}else throw new t("first argumentmust be array of ydn.db.Key, but "+n[0]+" of "+typeof n[0]+" found.");else throw new t("first argument "+n+" is invalid.");return v};n.fc=function(n,r,u,f,e){var k=h(this.b,n),c,l,b,a=null,p,s;if(v(r)){if(p=nf(r),p)throw new t("invalid key range: "+r+" "+p);a=hi(r)}else if(null!=r)throw new t('expect key range object, but found "'+oi(r)+'" of type '+typeof r);if(i(u))if(ft(u))c=u;else throw new t("limit must be a number, but "+u+" is "+typeof u);else c=100;if(i(f))if(ft(f))l=f;else throw new t("offset must be a number, but "+f+" is "+typeof f);else l=0;if(i(e))if(si(e))b=e;else throw new t("reverse must be a boolean, but "+e+" is "+typeof e);return o(this.logger,(a?"listByKeyRange: ":"listByStore: ")+n),s=this.a.request("values",[n]),ii(k,s,arguments),w(s,function(){y(this).O(s,4,n,null,a,c,l,b,!1)},this),s};n.ec=function(n,r,u,f,e,s,c){var b=h(this.b,n),a,v,k,d,p,g,l;if(!wr(b,r))throw new t('index "'+r+'" not found in store "'+n+'"');if(p=nf(u),p)throw new t("invalid key range: "+u+" "+p);if(g=hi(u),i(f))if(ft(f))a=f;else throw new t("limit must be a number.");else a=100;if(i(e))if(ft(e))v=e;else throw new t("offset must be a number.");else v=0;if(si(s))k=s;else if(i(s))throw new t("reverse must be a boolean, but "+s);if(i(c))if(si(c))d=c;else throw new t("unique must be a boolean");return o(this.logger,"listByIndexKeyRange: "+n+":"+r),l=this.a.request("values:iter:index",[n]),ii(b,l,arguments),w(l,function(){y(this).O(l,4,n,r,g,a,v,k,d)},this),l};n.add=function(n,r,u){var s=e(n)?n:v(n)?n.name:void 0,f,c;if(!e(s))throw new t("store name "+s+" must be a string, but "+typeof s);if(f=h(this.b,s),f){if(this.b.a()&&v(n)&&(n=rf(n),n=ko(f,n)))throw new yu(n);}else{if(!this.b.a())throw new t('store name "'+s+'" not found.');f=rf(v(n)?n:{name:s});o(this.logger,"Adding object store: "+s);eb(this,f)}if(!f)throw new t('store name "'+s+'" not found.');if(e(f.keyPath)&&i(u))throw new t("key must not be provided while the store uses in-line key.");if(!f.keyPath&&!f.b&&!i(u))throw new t("out-of-line key must be provided.");if(l(r)){for(o(this.logger,"addObjects: "+s+" "+r.length+" objects"),n=0;n<r.length;n++)uf(f,r[n]);c=this.a.request("add:array",[s],d);w(c,function(){y(this).V(c,!1,!1,s,r,u)},this);f.Z&&c.D(function(n){n=new ki("created",this.o(),f.getName(),n,r);this.o().H(n)},this)}else if(v(r))n="store: "+s+" key: "+ga(f,r,u),o(this.logger,"addObject: "+n),uf(f,r),c=this.a.request("add",[s],d),w(c,function(){y(this).V(c,!1,!0,s,[r],[u])},this),f.Z&&c.D(function(n){n=new bi("created",this.o(),f.getName(),n,r);this.o().H(n)},this);else throw new t("record must be an object or array list of objects, but "+r+" of type "+typeof r+" found.");return c};n.load=function(n,t,i){var f=i||",",r=ob(this,n).getName(),u;return n=this.a.request("load",[r]),u=this,this.a.R(n,function(n,i,e){y(u).Hb(n,i,e,r,t,f)},[r],d),n};n.put=function(n,r,u){var s,et=this,k,ut,f,b,tt,st,g,nt,ot;if(n instanceof ei){var p=n,a=p.h(),it=h(this.b,a);if(!it)throw new t('store "'+a+'" not found.');if(it.keyPath){if(k=ga(it,r),null!=k){if(0!=ht(k,p.id))throw new t("Inline key must be "+p+" but "+k+" found.");}else nv(it,r,p.id);return this.put(a,r)}return this.put(a,r,p.id)}if(l(n)){if(i(u))throw new t("too many arguments");if(ut=n,!i(r))throw new t("record values required");for(var ft=r,p=[],a=0,it=ut.length;a<it;a++){if(k=ut[a].h(),-1==at(p,k)&&p.push(k),f=h(this.b,k),!f)throw new t('store "'+k+'" not found.');f.keyPath&&nv(f,ft[a],ut[a].id)}for(o(this.logger,"putByKeys: to "+rt(p)+" "+ft.length+" objects"),a=0;a<ft.length;a++)uf(f,ft[a]);s=this.a.request("put:keys",p,d);ii(f,s,arguments);w(s,function(){y(et).fb(s,ft,ut)},this)}else if(e(n)||v(n)){if(f=ob(this,n),b=f.getName(),f.keyPath&&i(u))throw new t("key must not be provided while the store uses in-line key.");if(!f.keyPath&&!f.b&&!i(u))throw new t("out-of-line key must be provided.");if(l(r)){for(tt=r,st=u,o(this.logger,"putObjects: "+b+" "+tt.length+" objects"),a=0;a<tt.length;a++)uf(f,tt[a]);s=this.a.request("put:array",[b],d);ii(f,s,arguments);w(s,function(){y(this).V(s,!0,!1,b,tt,st)},this);f.Z&&s.D(function(n){n=new ki("updated",this.o(),b,n,tt);this.o().H(n)},this)}else if(v(r))g=r,nt=u,o(this.logger,"putObject: "+b+" "+(i(nt)?nt:"(without-key)")),i(c.Blob)&&g instanceof Blob&&f.ga&&!f.keyPath&&0==f.a.length&&fe?(s=new bt("put"),p=new FileReader,p.onload=function(n){var i=n.target.result,t=et.a.request("put",[b],d);ii(f,t,[b,g,nt]);w(t,function(){y(et).V(t,!0,!0,b,[i],[nt])},this);ui(t,function(n){s.callback(n)},function(n){s.m(n)})},p.onerror=function(n){s.m(n)},p.onabort=function(n){s.m(n)},p.readAsDataURL(g)):(uf(f,g),s=this.a.request("put",[b],d),ot=[b,g,nt],ii(f,s,ot),w(s,function(){var n=i(nt)?[ot[2]]:void 0;y(et).V(s,!0,!0,b,[ot[1]],n)},this)),f.Z&&s.D(function(n){n=new bi("updated",this.o(),b,n,g);this.o().H(n)},this);else throw new t("put record value must be Object or array of Objects");}else throw new t("the first argument of put must be store name, store schema or array of keys.");return s};n.clear=function(n,r,u){var f,s,c;if(i(u))throw new t("too many input arguments");if(e(n)){if(u=h(this.b,n),!u)throw new t('store name "'+n+'" not found.');if(v(r)){if(s=hi(r),null===s)throw new t("clear method requires a valid non-null KeyRange object.");o(this.logger,"clearByKeyRange: "+n+":"+rt(s));f=this.a.request("clear",[n],d);ii(u,f,[n,s]);w(f,function(){y(this).wb(f,n,s)},this)}else{if(i(r))throw new t("clear method requires a valid KeyRange object as second argument, but found "+r+" of type "+typeof r);o(this.logger,"clearByStore: "+n);f=this.a.request("clear",[n],d);w(f,function(){y(this).Ta(f,[n])},this)}}else if(!i(n)||l(n)&&e(n[0]))c=n||rv(this.b),o(this.logger,"clearByStores: "+rt(c)),f=this.a.request("clear",c,d),w(f,function(){y(this).Ta(f,c)},this);else throw new t('first argument "'+n+'" is invalid.');return f};n.Ra=function(n,r,u){var f,p,c,b,a,k,s,g,nt;if(e(n)){if(s=h(this.b,n),!s)throw new t('store name "'+n+'" not found.');if(i(u))if(e(r)){if(p=li(s,r),!p)throw new t("index: "+r+" not found in "+n);if(v(u)||null===u)c=hi(u),o(this.logger,"removeByIndexKeyRange: "+n+":"+p.getName()+" "+n),f=this.a.request("rm:iter:index",[n],d),w(f,function(){y(this).Ib(f,n,p.getName(),c)},this);else throw new t("key range "+u+' is invalid type "'+typeof u+'".');}else throw new t('index name "'+r+'" must be a string, but '+typeof r+" found.");else if(e(r)||ft(r)||it(r)||r instanceof Date)o(this.logger,"removeById: "+n+":"+r),f=this.a.request("rm",[n],d),b=[n,r],ii(s,f,b),w(f,function(){y(this).gb(f,n,b[1])},this),s.Z&&f.D(function(t){t=1==t?r:void 0;t=new bi("deleted",this.o(),n,t,void 0);this.o().H(t)},this);else if(v(r))c=hi(r),o(this.logger,"removeByKeyRange: "+n+":"+rt(c)),f=this.a.request("rm:iter",[n],d),ii(s,f,[n,c]),w(f,function(){y(this).hb(f,n,c)},this),s.Z&&f.D(function(t){var i=[];i.length=t;t=new ki("deleted",this.o(),n,i,void 0);this.o().H(t)},this);else throw new t('Invalid key or key range "'+r+'" of type '+typeof r);}else if(n instanceof ei)a=n.h(),s=h(this.b,a),f=this.a.request("rm",[a],d),k=[a,n.id],ii(s,f,k),w(f,function(){y(this).gb(f,a,k[1])},this);else if(l(n)){for(u=[],s=0,g=n.length;s<g;s++){if(!(n[s]instanceof ei))throw new t("key list element at "+s+" of "+g+' must be yn.db.Key, but "'+oi(n[s])+'" ('+df(n[s])+") is not ydn.db.Key.");nt=n[s].h();-1==at(u,nt)&&u.push(nt)}if(1>u.length)throw new t('at least one valid key required in key list "'+oi(n)+'"');f=this.a.request("rm:keys",u,d);w(f,function(){y(this).Jb(f,n)},this)}else throw new t('first argument requires store name, key (ydn.db.Key) or list of keys (array) , but "'+oi(n)+'" ('+df(n)+") found.");return f};n.toString=function(){return"DbOperator:"+this.o().getName()};cv.prototype.d=null;cv.prototype.toString=function(){return"ParallelTxExecutor: txNo:"+this.e+" mode:"+this.b+" scopes:"+rt(this.a)};u(rs,fu);n=rs.prototype;n.logger=p("ydn.db.tr.Parallel");n.abort=function(){o(this.logger,this+": aborting");fb(this.c)};n.Tb=function(n,t){var i,r;if("multi"==this.e)n:if(i=this.b,!i.a||!i.b||t!=i.b&&(i.b!=d||t!=et)||n.length>i.a.length)i=!1;else{for(r=0;r<n.length;r++)if(-1==i.a.indexOf(n[r])){i=!1;break n}i=!0}else if("repeat"==this.e)n:if(i=this.b,i.a&&i.b&&t==i.b&&i.a.length==n.length){for(r=0;r<n.length;r++)if(-1==i.a.indexOf(n[r])){i=!1;break n}i=!0}else i=!1;else i="all"==this.e?!0:!1;return i};n.ca=function(n,t,r,u){function h(i){f.d++;o=new cv(i,f.d,t,e);s=f.C();rr(f.logger,s+" BEGIN "+rt(t)+" "+e);f.b=o;sb(f.b,n,u)}function c(n,t){if(rr(f.logger,s+" "+n),o){for(var i=o,r=0;r<i.c.length;r++)i.c[r](n,t);i.c.length=0;i.d=null;i.a=null;i.c=null}f.a=0}var s,e,f,o;if(this.t&&(t=this.t),this.r&&(r=this.r),e=i(r)?r:et,f=this,this.b&&this.b.d&&this.Tb(t,e))sb(this.b,n,u);else{if(this.i&&this.d>=this.i)throw new pu("Exceed maximum number of transactions of "+this.i);this.o().transaction(h,t,e,c)}};n.request=function(n,t,i,r){var u=new bt(n),f=this;return this.ca(function(n){f.a++;ao(u,n,f.C()+"R"+f.a)},t,i||et,function(n,t){vo(u);r&&r(n,t)}),u};n.R=function(n,t,i,r,u){var f=this,e;this.ca(function(i){f.a++;e=f.C()+"R"+f.a;o(f.logger,e+" BEGIN");t(i,e,function(t,r){f.c=i;e=f.C()+"R"+f.a;r?(o(f.logger,e+" ERROR"),n.m(t)):(o(f.logger,e+" SUCCESS"),n.callback(t));f.c=null});t=null;o(f.logger,e+" END")},i,r,u)};n.toString=function(){return"Parallel:"+this.e+":"+this.C()+(this.c?"*":"")};u(ye,rs);n=ye.prototype;n.logger=p("ydn.db.tr.AtomicParallel");n.Tb=function(){return!1};n.request=function(n,t,i){var f,e,s,h=this,u=ye.s.request.call(this,n,t,i,function(n,t){if(vo(u),o(h.logger,"transaction "+n),f)"complete"!=n&&(s=!0,e=t),f(e,s);else{var i=new of;r(u,i,!0)}});return du(u,function(n,t,i){s=t;e=n;f=i}),u};n.R=function(n,t,i,r,u){var f,e,o=new g;ui(o,function(n){e=!1;f=n},function(n){e=!0;f=n});ye.s.R.call(this,o,t,i,r,function(t,i){if("complete"!=t)n.m(i);else if(!0===e)n.m(f);else if(!1===e)n.callback(f);else{var r=new of;n.m(r)}u&&(u(t,i),u=void 0)})};n.toString=function(){return"Atomic"+ye.s.toString.call(this)};u(kt,ut);n=kt.prototype;n.la=0;n.Ub=function(n,t,i,r,u,f){n=n||sf;var e;return"readonly"==r?e=et:"readwrite"==r&&(e=d),n=ic(this,n,t,i,e,u),this.ka(n,f?null:this.j)};n.ka=function(n,t){return new eu(this,this.c,n,t)};n.bc=function(n,i,u){var h,o;if(3<arguments.length)throw new t("too many input arguments, run accept not more than 3 input arguments, but "+arguments.length+" found.");if(this.la++,h=i||rv(this.c),o=et,u)if("readwrite"==u)o=d;else if("readonly"!=u)throw new t('Invalid transaction mode "'+u+'"');var e=ic(this,"all",!1,h,o,1),c=this.ka(e,this.j),s=new bt("run"),l=this;return e.ca(function(t){f(l.logger,"executing run in transaction on "+e);ao(s,t,e.C()+"R0");n(c)},h,o,function(n){vo(s);r(s,e.d,"complete"!==n)}),s};n.tc=function(){return this.a?this.a.a.d:NaN};u(nt,kt);n=nt.prototype;n.ka=function(n,t){return new ct(this,this.c,n,t)};n.add=function(n,t,i){return this.a.add(n,t,i)};n.count=function(n,t,i,r){return this.a.count(n,t,i,r)};n.get=function(n,t){return this.a.get(n,t)};n.keys=function(n,t,i,r,u,f,e){return this.a.keys(n,t,i,r,u,f,e)};n.B=function(n,t,i,r,u,f){return this.a.B(n,t,i,r,u,f)};n.load=function(n,t,i){return this.a.load(n,t,i)};n.put=function(n,t,i){return this.a.put(n,t,i)};n.clear=function(n,t,i){return this.a.clear(n,t,i)};n.Ra=function(n,t,i){return this.a.Ra(n,t,i)};n.toString=function(){var n="Storage:"+this.getName();return ns(this)&&(n+=" ["+this.Ba()+"]"),n};kt.prototype.branch=kt.prototype.Ub;kt.prototype.getTxNo=kt.prototype.tc;eu.prototype.getTxNo=eu.prototype.sc;kt.prototype.run=kt.prototype.bc;nt.prototype.branch=nt.prototype.Ub;nt.prototype.add=nt.prototype.add;nt.prototype.get=nt.prototype.get;nt.prototype.keys=nt.prototype.keys;nt.prototype.values=nt.prototype.B;nt.prototype.put=nt.prototype.put;nt.prototype.clear=nt.prototype.clear;nt.prototype.remove=nt.prototype.Ra;nt.prototype.count=nt.prototype.count;ct.prototype.add=ct.prototype.add;ct.prototype.get=ct.prototype.get;ct.prototype.keys=ct.prototype.keys;ct.prototype.values=ct.prototype.B;ct.prototype.put=ct.prototype.put;ct.prototype.clear=ct.prototype.clear;ct.prototype.remove=ct.prototype.Ra;ct.prototype.count=ct.prototype.count;dt("ydn.db.Key",ei);ei.prototype.id=ei.prototype.jc;ei.prototype.parent=ei.prototype.kc;ei.prototype.storeName=ei.prototype.h;dt("ydn.db.KeyRange",a);a.upperBound=a.upperBound;a.lowerBound=a.lowerBound;a.bound=a.bound;a.only=a.only;a.starts=ya;ar.prototype.store_name=ar.prototype.a;ar.prototype.getStoreName=ar.prototype.h;bi.prototype.name=bi.prototype.name;bi.prototype.getKey=bi.prototype.c;bi.prototype.getValue=bi.prototype.w;ki.prototype.name=ki.prototype.name;ki.prototype.getKeys=ki.prototype.sa;ki.prototype.getValues=ki.prototype.ab;rc.prototype.$="";rc.prototype.Y=function(n){return this.$!=n.$?null:(n=null!=this.a&&null!=n.a?this.a.Y(n.a):this.a||n.a,new rc(this.$,n))};u(ri,gr);n=ri.prototype;n.pb=function(n,r,u,f,o){if(i(r)){n=this.b;var s,h=r;if(l(r)?(s=da(n,r),h=r.join(", ")):s=li(n,r),!s)throw new t('require index "'+h+'" not found in store "'+n.getName()+'"');this.j=s.getName()}this.f=e(this.j);this.fa=u||null;this.xa=0;this.W=this.A=!1;this.reverse="prev"==f||"prevunique"==f;this.unique="nextunique"==f||"prevunique"==f;this.N=f;this.La=o;this.ua=this.g=this.c=void 0};n.N="";n.fa=null;n.unique=!1;n.reverse=!1;n.La=!0;n.logger=p("ydn.db.core.req.AbstractCursor");n.P=function(n,t,i){null==n&&(o(this.logger,this+" finished."),this.A=!0);this.c=n;this.g=t;this.ua=i;this.xa++;this.A?(f(this.logger,this+" DONE."),this.l(),av(this)):(f(this.logger,this+" new cursor position {"+(this.f?this.c+", "+this.g:this.c)+"}"),this.l(this.c))};n.U=function(){this.e=null};n.toString=function(){return"Cursor:"+this.a+(i(this.j)?":"+this.j:"")+"["+(this.e?"":"~")+this.rb+"]"};n.open=function(n,t,i,r){this.e=n;this.rb=t;this.A=this.W=!1;this.c=i;this.g=r;this.openCursor(this.c,this.g)};n.yb=function(){return this.xa};n.qc=function(){return this.c};n.p=function(){return this.f?this.g:this.c};n.w=function(){return this.La?this.p():this.ua};n.Qa=function(){};n.qa=function(){};u(s,bn);s.prototype.a=!0;u(uc,s);u(fc,s);u(us,s);u(fs,s);es="init";n=s.prototype;n.logger=p("ydn.db.Iterator");n.h=function(){return this.e};n.gc=function(){return this.c};n.Nb=function(){return this.b?this.b instanceof di?this.b:di.bound(this.b.lower,this.b.upper,this.b.lowerOpen,this.b.upperOpen):null};n.ic=function(){return this.a};n.Zb=function(){return this.i};n.clone=function(){var n=new s(this.e,this.c,this.b,this.Q(),this.pa(),this.a,this.f);return n.r=this.r,n};n.unique=function(n){return new s(this.e,this.c,this.b,this.Q(),n,this.a,this.f)};n.toJSON=function(){return{store:this.e,index:this.c,keyRange:this.b?pw(this.b):null,direction:this.j}};n.toString=function(){var n=i(this.f)?":"+this.f.join(","):i(this.c)?":"+this.c:"",n=n+pa(this.b),t;return this.d!=es&&(n+=this.d+"{"+this.g,this.i&&(n+=", "+this.l),n+="}"),t=this.i?"Index":"",t=t+(this.a?"Key":"Value"),t+"Iterator:"+this.e+n};n.Ob=function(n,t){var i=new s(this.e,this.c,this.b,this.Q(),this.pa(),this.a,this.f);return i.g=n,i.l=t,i.d="rest",i};n.reverse=function(){return new s(this.e,this.c,this.b,!this.Q(),this.pa(),this.a,this.f)};n.Q=function(){return"prev"===this.j||"prevunique"===this.j};n.pa=function(){return"nextunique"===this.j||"prevunique"===this.j};n.Yb=function(){return this.d};n.load=function(n){n=n[0];n.pb(this.e,this.f||this.c,this.b,this.j,this.a);this.d="busy";var t=this;return n.Mb=function(n,i,r){t.g=i;t.l=r;t.d=n?"rest":"done"},n.openCursor(this.g,this.l),n};n.hc=function(){return this.g};n.p=function(){return this.l};n.ib=function(n,t,i){n=n||es;"busy"==this.d?b(this.logger,this+": resetting state to "+n+" ignore during iteration"):(this.g=t,this.l=i,this.d=n)};n.stores=function(){return[this.e]};ec.prototype.logger=p("ydn.db.con.IdbCursorStream");ec.prototype.d=!1;n=br.prototype;n.logger=p("ydn.db.Streamer");n.za=null;n.kb=null;n.ea=null;n.dc=function(n){this.kb=n};n.ta=!1;n.nc=function(n){if(this.ea){this.ta=!0;var t=this;dn(this.ea,function(){n(t.b,t.a);t.b=[];t.a=[];t.ta=!1})}else n(this.b,this.a),this.b=[],this.a=[]};n.S=function(n,t){this.b.push(n);this.a.push(t);yv(this)};n.push=function(n,t){if(this.ta)throw new or("push not allowed after a collection is started");if(2<=arguments.length)this.S(n,t);else{if(!this.ea){if(!this.za)throw new or("Database connection is not setup.");var i=this.za.Ba();if(i)if("indexeddb"===i)this.ea=new ec(this.za,this.c,this.Aa,yt(this.S,this));else throw new ev(i);else throw new or("Database is not connected.");}i=this.ea;i.b.push(n);gn(i)}};n.h=function(){return this.c};n.toString=function(){return"Streamer:"+this.c+(this.Aa||"")};sr.prototype.logger=p("ydn.db.algo.AbstractSolver");sr.prototype.f=function(n,t){var r,i;for(this.b=t[0].Q(),i=0;i<t.length;i++){if(!(t[i]instanceof s))throw new gl("item at iterators "+i+" is not an iterator.");if(0<i&&this.b!=t[i].Q())throw new gl("iterator at "+i+" must "+(this.b?"be reverse":"not be reverse"));}if(this.a instanceof br&&hb(this.a,n),this.d&&(i=t[0].f)&&1<i.length&&i[i.length-1]!=this.a.Aa)throw new or("Output streamer projection field must be same as postfix field in the iterator");for(r="{",i=0;i<t.length;i++)0<i&&(r+=", "),r+=t.toString();return r+="}",this.b&&(r+=" reverse"),rr(this.logger,this+" begin "+r),!1};sr.prototype.c=function(){return[]};u(vt,ct);n=vt.prototype;n.logger=p("ydn.db.core.DbOperator");n.get=function(n,r){var u,c,f,e;if(n instanceof s){if(u=n.h(),c=h(this.b,u),!c)throw new t('store "'+u+'" not found.');if(f=n.c,i(f)&&!wr(c,f))throw new t('index "'+f+'" not found in store "'+u+'".');return o(this.logger,"getByIterator:"+n),e=this.a.request("get:iter",[u]),w(e,function(){pe(this,5,e,n,1)},this),e}return vt.s.get.call(this,n,r)};n.keys=function(n,r,u,f,e,h,c){var l,a;if(n instanceof s){if(l=100,ft(r)){if(l=r,1>l)throw new t("limit must be a positive value, but "+r);}else if(i(r))throw new t("limit must be a number,  but "+r);if(i(u))throw new t("offset must not be specified");return o(this.logger,"keysByIterator:"+n),a=this.a.request("keys:iter",[n.h()]),w(a,function(){n.i?pe(this,1,a,n,l):pe(this,2,a,n,l)},this),a}return vt.s.keys.call(this,n,r,u,f,e,h,c)};n.count=function(n,r,u,f){if(n instanceof s){if(i(r)||i(u))throw new t("too many arguments.");o(this.logger,"countIterator:"+n);var e=this.a.request("count",[n.h()]);return w(e,function(){pe(this,6,e,n)},this),e}return vt.s.count.call(this,n,r,u,f)};n.B=function(n,r,u,f,e,h){var c,l;if(n instanceof s){if(ft(r)){if(c=r,1>c)throw new t("limit must be a positive value, but "+c);}else if(i(r))throw new t("limit must be a number, but "+r);if(i(u))throw new t("offset must not be specified");return o(this.logger,"listByIterator:"+n),l=this.a.request("values:iter",[n.h()]),w(l,function(){n.a?pe(this,2,l,n,c):pe(this,4,l,n,c)},this),l}return vt.s.B.call(this,n,r,u,f,e,h)};n.ob=function(n,r,u){var h,p,a,c,e;if(!l(r))throw new t("iterators argument must be an array, but "+r+" of type "+typeof r+" found");for(e=0;e<r.length;e++)if(!(r[e]instanceof s))throw new t("Iterator at "+e+" must be cursor range iterator.");for(u=u||et,h=[],e=0;e<r.length;e++)for(p=r[e].stores(),a=0;a<p.length;a++)0<=at(h,p[a])||h.push(p[a]);return o(this.logger,this+": scan for "+r.length+" iterators on "+h),c=this,e=this.a.request("scan",h),this.a.R(e,function(t,u,e){function b(){for(var f=0,n=0;n<r.length;n++){var i=r[n],e=[y(c).b(t,u,i.h())],i=i.load(e);i.r=nt;i.l=wd(tt,f);s[n]=i;a[f]=n;f++}g=r.length}function nt(n){for(var t=0;t<s.length;t++)tu(s[t]);cp(s);o(c.logger,k+" error");e(n,!0)}function tt(t,u){var y,f,ut,rt,ft;if(d)throw new ef;w++;var b=w===g,nt=a[t],tt=r[nt],it=s[nt],nt=it.p(),it=it.w();if(h[t]=u,p[t]=tt.i?tt.a?nt:it:tt.a?u:it,b){if(y=n instanceof sr?n.c(h,p):n(h,p),b=[],tt=[],nt=[],it=[],l(y))for(f=0;f<y.length;f++)!0===y[f]?nt[f]=1:!1===y[f]?it[f]=!0:tt[f]=y[f];else if(null===y)b=[];else if(i(y))if(v(y)){b=["advance","continue","continuePrimary","restart"];for(f in y)if(!(0<=at(b,f)))throw new pu('Unknown attribute "'+f+'" in cursor advancement object');b=y.continuePrimary||[];tt=y["continue"]||[];nt=y.advance||[];it=y.restart||[]}else throw new pu("scan callback output");else for(b=[],f=0;f<r.length;f++)i(a[f])&&(nt[f]=1);for(f=w=y=0;f<r.length;f++)null!=b[f]||i(tt[f])||null!=it[f]||null!=nt[f]||w++;for(f=0;f<r.length;f++)if(null!=b[f]||i(tt[f])||null!=it[f]||null!=nt[f]){if(ut=a[f],!i(ut))throw new gw(f+" is not an iterator.");if(ut=r[ut],rt=s[f],null==h[f]){if(ft=f+"/"+r.length,null!=nt[f])throw new or(rt+" "+ft+" must not advance "+nt[f]+" steps");if(i(tt[f]))throw new or(rt+" "+ft+" must not continue to key "+tt[f]);if(null!=b[f])throw new or(rt+" "+ft+" must not continue to primary key "+b[f]);}if(h[f]=void 0,p[f]=void 0,null!=it[f])vv(rt);else if(i(tt[f]))rt.qa(tt[f]);else if(null!=b[f])rt.Qa(b[f]);else if(null!=nt[f])rt.advance(1);else throw new ef(ut+": has no action");y++}if(0==y){for(y=0;y<s.length;y++)tu(s[y]);d=!0;cp(s);o(c.logger,"success "+k);e(void 0)}}}var k=u+" "+c+" scanning";f(c.logger,k);var d=!1,g,a=[],h=[],p=[],s=[],w=0;n instanceof sr?n.f(t,r,function(){b()})||b():b()},h,u),e};n.open=function(n,i,u,f){var l,c,a,e;if(!(i instanceof s))throw new t("Second argument must be cursor range iterator.");for(l=i.stores(),c=0;c<l.length;c++)if(!h(this.b,l[c]))throw new t('Store "'+l[c]+'" not found.');return u=u||et,a=this,e=this.a.request("open",i.stores(),u),o(this.logger,"open:"+u+" "+i),w(e,function(t){var h=k(e),u;o(a.logger,h+" iterating "+i);for(var c=i.stores(),l=[],s=0;s<c.length;s++)l[s]=y(a).b(t,h,c[s]);u=i.load(l);u.r=function(n){r(e,n,!0)};u.l=function(t){null!=t?(t=n.call(f,u),!0===t?vv(u):v(t)?!0===t.restart?vv(u,t["continue"],t.continuePrimary):null!=t["continue"]?u.qa(t["continue"]):null!=t.continuePrimary?u.Qa(t.continuePrimary):(tu(u),r(e,void 0)):null===t?(tu(u),r(e,void 0)):null!=t?u.qa(t):u.advance(1)):(tu(u),r(e,void 0))}},this),e};n.map=function(n,i){for(var e=this,u=n.stores(),r,o=0;r=u[o];o++)if(!r)throw new t('Store "'+r+'" not found.');return r=this.a.request("map",u),f(this.logger,"map:"+n),this.a.R(r,function(t,r,u){var o;f(e.logger,r+" iterating "+n);for(var h=n.stores(),c=[],s=0;s<h.length;s++)c[s]=y(e).b(t,r,h[s]);o=n.load(c);o.r=function(n){u(n,!1)};o.l=function(t){if(null!=t){var r;r=n.i?n.a?t:o.p():n.a?t:o.w();i(r);o.advance(1)}else u(void 0),i=null}},u,et),r};n.reduce=function(n,i,r){for(var f,h=this,e=n.stores(),u,s=0;u=e[s];s++)if(!u)throw new t('Store "'+u+'" not found.');return u=this.a.request("reduce",e),f=v(r)?iv(rt(r)):r,o(this.logger,"reduce:"+n),this.a.R(u,function(t,r,u){for(var e,l,s=n.stores(),c=[],o=0;o<s.length;o++)c[o]=y(h).b(t,r,s[o]);e=n.load(c);e.r=function(n){u(n,!0)};l=0;e.l=function(t){if(null!=t){var r;r=n.i?n.a?t:e.p():n.a?t:e.w();f=i(f,r,l++);e.advance(1)}else u(f)}},e,et),u};u(ai,nt);n=ai.prototype;n.ka=function(n,t){return new vt(this,this.c,n,t)};n.open=function(n,t,i,r){return this.a.open(n,t,i,r)};n.pc=function(n,t){return this.a.ob(n,t)};n.map=function(n,t){return this.a.map(n,t)};n.reduce=function(n,t,i){return this.a.reduce(n,t,i)};n=cb.prototype;n.I="";n.Ab=NaN;n.Db=NaN;n.jb=!1;n.ya="";n.toJSON=function(){return{sql:this.I}};n.toString=function(){return"query:"+this.I};u(ss,ri);n=ss.prototype;n.logger=p("ydn.db.core.req.IDBCursor");n.Ga=function(n){(n=n.target.result)?this.P(n.key,n.primaryKey,n.value):this.P()};n.openCursor=function(n,t){function c(n,t,i){u.d=h;u.d.onsuccess=yt(u.Ga,u);u.P(n,u.f?t:void 0,i);h=null}var o=this+" opening ",h,u;null!=n&&(o+="{"+n,o=null!=t?o+(";"+t+"}"):o+"}");f(this.logger,o);var r=this.fa,o=this.e.objectStore(this.a),s=e(this.j)?o.index(this.j):null;if(i(n))var l=s?!i(t):!0,v=r?r.lower:void 0,y=r?r.upper:void 0,p=r?!!r.lowerOpen:!1,r=r?!!r.upperOpen:!1,r=wo(this.reverse?new a(v,n,p,l):new a(n,y,l,r));h=this.La?s?null!=this.N?s.openKeyCursor(r,this.N):null!=r?s.openKeyCursor(r):s.openKeyCursor():null!=this.N?o.openCursor(r,this.N):null!=r?o.openCursor(r):o.openCursor():s?null!=this.N?s.openCursor(r,this.N):null!=r?s.openCursor(r):s.openCursor():null!=this.N?o.openCursor(r,this.N):null!=r?o.openCursor(r):o.openCursor();u=this;h.onerror=function(n){var t=h.error;n.preventDefault();lv(u,t)};null!=n?h.onsuccess=function(i){if(i=i.target.result){var f=wt.cmp(i.key,n),r=u.reverse?-1:1;f==r?c(i.key,i.primaryKey,i.value):f==-r?i["continue"](n):null!=t?wt.cmp(i.primaryKey,t)==r?c(i.key,i.primaryKey,i.value):i["continue"]():i["continue"]()}else c()}:(u.d=h,u.d.onsuccess=yt(u.Ga,u))};n.bb=function(){return!!this.d};n.update=function(n){var i=this.d.result,t;if(i)return t=new g,n=i.update(n),n.onsuccess=function(n){t.callback(n.target.result)},n.onerror=function(n){n.preventDefault();t.m(n)},t;throw new ve("cursor gone");};n.clear=function(){var n=this.d.result,t;if(n)return t=new g,n=n["delete"](),n.onsuccess=function(){t.callback(1)},n.onerror=function(n){n.preventDefault();t.m(n)},t;throw new ve("cursor gone");};n.advance=function(n){var t=this.d.result;1==n?t["continue"]():t.advance(n)};n.Qa=function(n){var i=this.d.result,r=wt.cmp(n,i.primaryKey),t;if(r!=(this.reverse?-1:1))throw new hr('continuing primary key "'+n+'" must '+(this.reverse?"lower":"higher")+' than current primary key "'+i.primaryKey+'"');t=this;this.d.onsuccess=function(u){(i=u.target.result)?(r=wt.cmp(i.primaryKey,n),0==r||1==r&&!t.reverse||-1==r&&t.reverse)?(t.d.onsuccess=yt(t.Ga,t),t.P(i.key,t.f?i.primaryKey:void 0,i.value)):i["continue"]():(t.d.onsuccess=yt(t.Ga,t),t.P())};i["continue"]()};n.qa=function(n){var t=this.d.result;null!=n?t["continue"](n):t["continue"]()};n.U=function(){ss.s.U.call(this);this.d=null};n.toString=function(){return"IDB"+ss.s.toString.call(this)};u(pv,tc);n=pv.prototype;n.logger=p("ydn.db.crud.req.IndexedDb");n.Ua=function(n,t){function i(f){var e=n.a.objectStore(t[f]).count();e.onsuccess=function(e){u[f]=e.target.result;f++;f==t.length?r(n,u):i(f)};e.onerror=function(t){t.preventDefault();r(n,e.error,!0)}}var u=[];0==t.length?r(n,[]):i(0)};n.V=function(n,t,i,u,e,o){function l(c){var b,w;null==e[c]&&((f(y.logger,"empty object at "+c+" of "+e.length),h++,h==e.length)?r(n,s,a):(w=c+10,w<e.length&&l(w)));w=e[c];b=o&&null!=o[c]?t?v.put(w,o[c]):v.add(w,o[c]):t?v.put(w):v.add(w);b.onsuccess=function(t){h++;s[c]=t.target.result;h==e.length?r(n,i?s[0]:s,a):(t=c+10,t<e.length&&l(t))};b.onerror=function(t){h++;var o=b.error;f(y.logger,k(n)+p+' request to "'+u+'" cause '+o.name+' for object "'+oi(e[c])+'" at index '+c+" of "+e.length+" objects.");s[c]=o;a=!0;t.preventDefault();h==e.length?r(n,i?s[0]:s,a):(t=c+10,t<e.length&&l(t))}}var s=[],h=0,a=!1,y=this,p=t?"put":"add",v=n.a.objectStore(u),c;if(f(this.logger,k(n)+" "+p+" "+e.length+' objects to store "'+u+'"'),0<e.length)for(c=0;10>c&&c<e.length;c++)l(c);else r(n,[])};n.fb=function(n,t,i){function h(f){var a=i[f],v=a.h(),l=n.a.objectStore(v),e;e=null===l.keyPath?l.put(t[f],a.id):l.put(t[f]);e.onsuccess=function(i){o++;u[f]=i.target.result;o==t.length?r(n,u,s):(i=f+10,i<t.length&&h(i))};e.onerror=function(i){o++;b(c.logger,"request result "+i.name+' error when put keys to "'+v+'" for object "'+oi(t[f])+'" at index '+f+" of "+t.length+" objects.");u[f]=e.error;s=!0;i.preventDefault();o==t.length?r(n,u,s):(i=f+10,i<t.length&&h(i))}}var u=[],o=0,s=!1,c=this,e;if(f(this.logger,k(n)+" putByKeys: of "+t.length+" objects"),0<t.length)for(e=0;10>e&&e<t.length;e++)h(e);else r(n,u,s)};n.Hb=function(n,t,i,r,u,e){function v(){var a={},r=u.indexOf("\n",o),w=!1,f,n,t,h;for(-1==r?(w=!0,f=u.substring(o)):(f=u.substring(o,r),o=r+1),r=f.split(e),n=0;n<s.length;n++)t=r[n],c[n]&&(c[n]==tf?t=ir(t,'"'):"INTEGER"==c[n]?t=parseInt(t,10):"NUMERIC"==c[n]&&(t=parseFloat(t))),a[s[n]]=t;h=p.put(a);h.onsuccess=function(n){y.push(n.target.result);w?i(y):v()};h.onerror=function(n){"DataError"==n.name&&(n=new wh(l+": "+f.substring(0,70)));n.preventDefault();i(h.error,!0)}}var l=h(this.a,r),p=n.objectStore(r),y=[],o=u.indexOf("\n"),s=u.substr(0,o).split(e),c=[],a;for(n=0;n<s.length;n++)a=li(l,s[n]),a?c[n]=a.type:s[n]==l.keyPath&&(c[n]=l.type);o++;f(this.logger,t+" Loading data  of "+s.length+"-fields record to "+r);v()};n.gb=function(n,t,i){var e=n.a.objectStore(t),u;f(this.logger,k(n)+" clearById: "+t+" "+i);u=e.openCursor(di.only(i));u.onsuccess=function(t){if(t=t.target.result){var i=t["delete"]();i.onsuccess=function(){r(n,1)};i.onerror=function(){r(n,i.error,!0)}}else r(n,0)};u.onerror=function(t){t.preventDefault();r(n,u.error,!0)}};n.Jb=function(n,t){function u(f){if(f++,f>=t.length)0<i.length?r(n,i,!0):r(n,o);else{t[f].h()!=e&&(e=t[f].h(),s=n.a.objectStore(e));var h=s["delete"](t[f].id);h.onsuccess=function(){o++;u(f)};h.onerror=function(n){n.preventDefault();i[f]=h.error;u(f)}}}var o=0,e,s,i;f(this.logger,k(n)+" removeByKeys: "+t.length+" keys");i=[];u(-1)};n.hb=function(n,t,i){var e=n.a.objectStore(t),u=e.count(i);f(this.logger,k(n)+" clearByKeyRange: "+t+" "+i);u.onsuccess=function(t){var f=t.target.result,u=e["delete"](i);u.onsuccess=function(){r(n,f)};u.onerror=function(){r(n,u.error,!0)}};u.onerror=function(t){t.preventDefault();r(n,u.error,!0)}};n.wb=function(n,t,i){var e=n.a.objectStore(t),u;f(this.logger,k(n)+" "+t+" "+i);u=e["delete"](i);u.onsuccess=function(){r(n,void 0)};u.onerror=function(t){t.preventDefault();r(n,u.error,!0)}};n.Ib=function(n,t,i,u){var h=n.a.objectStore(t).index(i);f(this.logger,k(n)+" clearByIndexKeyRange: "+t+":"+i+" "+u);var e=[],o=h.openCursor(u),s=0;o.onsuccess=function(t){var i=t.target.result,u;i?(u=i["delete"](),u.onsuccess=function(){s++;i["continue"]()},u.onerror=function(n){e.push(u.error);n.preventDefault();i["continue"]()}):0<e.length?r(n,e,!0):r(n,s)};o.onerror=function(t){t.preventDefault();r(n,o.error,!0)}};n.Ta=function(n,t){var o=t.length,i=0,u,e;for(f(this.logger,k(n)+" clearByStores: "+t),u=0;u<o;u++)e=n.a.objectStore(t[u]).clear(),e.onsuccess=function(){i++;i==o&&r(n,i)},e.onerror=function(t){i++;t.preventDefault();i==o&&r(n,e.error,!0)}};n.Za=function(n,t,i){var s=this,u,o;f(this.logger,k(n)+t+":"+i);u=n.a.objectStore(t);o=u.get(i);o.onsuccess=function(t){var o;if(f(s.logger,k(n)+" record "+i+(null!=t.target.result?" ":" not ")+" exists."),o=t.target.result,!u.keyPath&&0==u.indexNames.length&&fe&&e(o)&&0<=o.indexOf(";base64,")){'"'==o.charAt(0)&&'"'==o.charAt(o.length-1)&&(o=o.substr(1,o.length-2));o=o.split(";base64,");t=o[0].split(":")[1];for(var o=window.atob(o[1]),c=o.length,l=new Uint8Array(c),h=0;h<c;++h)l[h]=o.charCodeAt(h);r(n,new Blob([l.buffer],{type:t}))}else r(n,t.target.result)};o.onerror=function(t){t.preventDefault();r(n,o.error,!0)}};n.Bb=function(n,t,i){function s(t){var c,f;null==i[t]&&((o++,e[t]=void 0,o==u)?r(n,e):(c=t+10,c<u&&s(c)));f=h.get(i[t]);f.onsuccess=function(i){o++;e[t]=i.target.result;o==u?r(n,e):(i=t+10,i<u&&s(i))};f.onerror=function(t){o++;t.preventDefault();r(n,f.error,!0)}}var e=[];e.length=i.length;var o=0,h=n.a.objectStore(t),u=i.length;if(f(this.logger,k(n)+" "+t+":"+u+" ids"),0<u)for(t=0;10>t&&t<u;t++)s(t);else r(n,[])};n.Cb=function(n,t){function o(i){var s=t[i],f=n.a.objectStore(s.h()).get(s.id);f.onsuccess=function(f){u++;e[i]=f.target.result;u==t.length?r(n,e):(f=i+10,f<t.length&&o(f))};f.onerror=function(t){u++;t.preventDefault();r(n,f.error,!0)}}var e=[],u,i;if(e.length=t.length,u=0,f(this.logger,k(n)+" "+t.length+" ids"),0<t.length)for(i=0;10>i&&i<t.length;i++)o(i);else r(n,[])};n.Fa=function(n,t,i,u,e){if(u&&e)throw new pu("unique count not available in IndexedDB");e=n.a.objectStore(t);t=k(n)+" "+t+(u?":"+u:"")+(i?":"+rt(i):"");f(this.logger,t);var o;null!=u?(u=e.index(u),o=null!=i?u.count(i):u.count()):o=null!=i?e.count(i):e.count();o.onsuccess=function(t){r(n,t.target.result)};o.onerror=function(t){t.preventDefault();r(n,o.error,!0)}};n.O=function(n,t,u,e,o,s,h,c,l,v){var y=[],w=n.a.objectStore(u),b=c?l?"prevunique":"prev":l?"nextunique":"next",d,p;if(u=k(n)+" "+t+" "+u+(e?":"+e:"")+(o?rt(o):""),c&&(u+=" reverse"),l&&(u+=" unique"),v&&i(v[0])){l=e?!i(v[1]):!0;var g=v[0],nt=o?o.lower:void 0,tt=o?o.upper:void 0,it=o?!!o.lowerOpen:!1;o=o?!!o.upperOpen:!1;o=wo(c?new a(nt,g,it,l):new a(g,tt,l,o));u+=" starting from "+rt(v[0]);i(v[1])&&(u+=", "+rt(v[1]))}f(this.logger,u);d=1==t||2==t||3==t?e?w.index(e).openKeyCursor(o,b):w.openCursor(o,b):e?w.index(e).openCursor(o,b):w.openCursor(o,b);p=!1;d.onsuccess=function(u){if(u=u.target.result){if(!p){if(0<h){p=!0;u.advance(h);return}if(v&&e&&i(v[0]))if(i(v[1])){var o=wt.cmp(u.key,v[0]),f=c?-1:1;if(0==o){if(o=wt.cmp(u.primaryKey,v[1]),0==o){p=!0;u["continue"]();return}if(o==f)p=!0;else{u["continue"]();return}}else p=!0}else p=!0;else p=!0}1==t?y.push(u.key):2==t?y.push(u.primaryKey):3==t?(f={},e&&(f[e]=u.key),w.keyPath?f[w.keyPath]=u.primaryKey:f._ROWID_=u.primaryKey,y.push(f)):4==t?y.push(u.value):y.push([u.key,u.primaryKey,u.value]);y.length<s?u["continue"]():(v&&(v[0]=vh(u.key),v[1]=vh(u.primaryKey)),r(n,y))}else v&&(v[0]=void 0,v[1]=void 0),r(n,y)};d.onerror=function(t){t.preventDefault();r(n,d.error,!0)}};u(oc,pv);oc.prototype.logger=p("ydn.db.core.req.IndexedDb");oc.prototype.b=function(n,t,i,r){return i=h(this.a,i),new ss(n,t,i,r)};hf.prototype.logger=p("ydn.db.sql.req.nosql.Node");hf.prototype.toJSON=function(){return{sql:this.a}};hf.prototype.toString=function(){return"idb.Node:"};hf.prototype.b=function(n,t){var h=yi(this.a.b)[0],r=this.a.g,f=this.a.Ab,f=isNaN(f)?100:f,e=this.a.Db,e=isNaN(e)?0:e,l=this.a.i,s=os(this.a),u=null,a=this.a.jb,c;if(0==r.length)u=null;else if(1==r.length)u=hi(r[0].a);else throw new yu("too many conditions.");null===s||du(n,function(n,t,i){var r=n;t||(r=n.map(function(n){var r=s.length,i,t;if(1==r)return bu(n,s[0]);for(i={},t=0;t<r;t++)i[s[t]]=bu(n,s[t]);return i}));i(r,t)});r=0<r.length?r[0].$:void 0;c=k(n)+" executing on"+h;r&&(c+=":"+r);c+=" "+pa(u);o(this.logger,c);l&&l!=this.c.keyPath?t.O(n,4,h,l,u,f,e,a,!1):i(r)&&r!=this.c.keyPath?t.O(n,4,h,r,u,f,e,a,!1):t.O(n,4,h,null,u,f,e,a,!1)};u(wv,hf);wv.prototype.b=function(n,t){var l,e=yi(this.a.b)[0],f=this.a.g,h=null,a,u,v,c,y;if(0==f.length)h=null;else if(1==f.length)h=hi(f[0].a);else throw new yu("too many conditions.");var s=this.a.e,f=0<f.length?f[0].$:void 0,u=k(n)+" executing "+s+" on "+e;if(f&&(u+=":"+f),u+=" "+pa(h),o(this.logger,u),"COUNT"==s)h?t.Fa(n,e,h,f,!1):t.Fa(n,e,null,void 0,!1);else{if(u=os(this.a),!u||0==u.length)throw new or("field name require for reduce operation: "+s);if(u=u[0],"MIN"==s)a=ftt(u);else if("MAX"==s)a=ett(u);else if("AVG"==s)l=0,a=rtt(u);else if("SUM"==s)l=0,a=utt(u);else throw new go(s);v=i(f)?new fs(e,f,h):new us(e,h);e=t.b(n.a,k(n),e,4);c=v.load([e]);c.r=function(t){r(n,t,!0)};y=0;c.l=function(t){null!=t?(t=v.a?c.p():c.w(),l=a(t,l,y),c.advance(1),y++):r(n,l)}}};u(sc,oc);sc.prototype.logger=p("ydn.db.sql.req.IndexedDb");sc.prototype.executeSql=function(n,t,i){var r,u,f,e;if(i){for(r=0;r<i.length;r++)t.I=t.I.replace("?",i[r]);lb(t,t.I)}if(t.g=itt(t),t.g?(i=t.a.length,(r=/OFFSET\s+(\d+)/i.exec(t.a))&&(t.Db=parseInt(r[1],10),i=t.a.search(/OFFSET/i)),(r=/LIMIT\s+(\d+)/i.exec(t.a))&&(t.Ab=parseInt(r[1],10),r=t.a.search(/LIMIT/i),r<i&&(i=r)),(i=/ORDER BY\s+(.+)/i.exec(t.a.substr(0,i)))?(i=i[1].trim(),(r=i.match(/(ASC|DESC)/i))?(t.jb="DESC"==r[0].toUpperCase(),i=i.replace(/\s+(ASC|DESC)/i,"")):t.jb=!1,t.i=ir(ir(i,'"'),"'")):t.i=void 0,i=""):i=t.ya,i)throw new nc(i);if(i=yi(t.b),1==i.length){if(r=h(this.a,i[0]),!r)throw new gi(i[0]);if(u=os(t),u)for(f=0;f<u.length;f++)if(!wr(r,u[f]))throw new gi('Index "'+u[f]+'" not found in '+i[0]);e=t.e?new wv(r,t):new hf(r,t);e.b(n,this)}else throw new go(t.I);};u(hs,ri);n=hs.prototype;n.logger=p("ydn.db.core.req.WebsqlCursor");n.p=function(){return this.d};n.pb=function(n,t,i,r,u){hs.s.pb.call(this,n,t,i,r,u);this.F=e(t)?li(this.b,t):null};n.w=function(){return this.t};n.bb=function(){return!!this.e};n.update=function(n){var t,i,r;if(!this.bb())throw new ve;return t=new g,i=this.p(),n=tv(this.b,n,i),r="REPLACE INTO "+ti(this.b)+" ("+n.xb.join(", ")+") VALUES ("+n.Lb.join(", ")+")",f(this.logger,this+': update "'+r+'" : '+rt(n.B)),this.e.executeSql(r,n.B,function(){t.callback(i)},function(n,i){return t.m(i),!1}),t};n.advance=function(n){var t=this.i,i=this.d,r=!0;null==this.i||this.f&&null==this.d||(--n,r=!1);bv(this,function(n,r,u){var f=null!=t&&null!=n&&0==ht(t,n),e;if(this.f){if(e=null!=r&&null!=i&&0==ht(r,i),f&&e)throw new hr("current: "+t+";"+i+" next: "+n+";"+r);}else if(f)throw new hr("current: "+t+" next: "+n);this.P(n,r,u)},this.i,r,n,this.d)};n.qa=function(n){null!=n?bv(this,this.P,n,!0):this.advance(1)};n.openCursor=function(n,t){bv(this,this.P,n,!1,0,t)};n.clear=function(){if(!this.bb())throw new ve;var n=new g,t=this.b.e,t="DELETE FROM "+ti(this.b)+" WHERE "+t+" = ?",i=[this.p()];return f(this.logger,this+': clear "'+t+'" : '+rt(i)),this.e.executeSql(t,i,function(t,i){n.callback(i.rowsAffected)},function(t,i){return n.m(i),!1}),n};n.Qa=function(n){var t=ht(n,this.d);if(0==t||1==t&&this.reverse||-1==t&&!this.reverse)throw new or(this+" to continuePrimaryKey  from "+this.d+" to "+n+" on "+this.N+" direction is wrong");ott(this,this.P,n)};n.toString=function(){return"WebSql"+hs.s.toString.call(this)};u(kv,tc);n=kv.prototype;n.logger=p("ydn.db.crud.req.WebSql");n.Hb=function(){throw new nw("putData");};n.V=function(n,t,u,e,s,c){function w(t,e){var nt,h;null==s[t]&&((f(a.logger,"empty object at "+t+" of "+s.length),v++,v==s.length)?(o(a.logger,d+" success "+d),r(n,y,p)):(nt=t+2,nt<s.length&&w(nt,e)));h=i(c)?tv(l,s[t],c[t]):tv(l,s[t]);nt=g+ti(l)+" ("+h.xb.join(", ")+") VALUES ("+h.Lb.join(", ")+");";f(a.logger,k(n)+" SQL: "+nt+" PARAMS: "+h.B+" REQ: "+t+" of "+s.length);e.executeSql(nt,h.B,function(o,c){function ft(t,i){var r="ydn.db.me:"+l.getName()+":"+t.getName(),r=g+vi(r)+" ("+l.d+", "+t.c+") VALUES (?, ?)",u=[ci(nt,l.type),ci(i,t.type)];f(a.logger,k(n)+" multiEntry "+r+" "+u);e.executeSql(r,u,function(){},function(n,t){return b(a.logger,"multiEntry index insert error: "+t.message),!1})}var nt,d,ut,tt;for(v++,nt=i(h.key)?h.key:c.insertId,1>c.rowsAffected&&(p=!0,nt=new ae(nt+" no-op")),d=0,ut=l.a.length;d<ut;d++)if(tt=l.index(d),tt.multiEntry)for(var it=bu(s[t],tt.keyPath),et=(it?it.length:0)||0,rt=0;rt<et;rt++)ft(tt,it[rt]);u?r(n,nt):(y[t]=nt,v==s.length?r(n,y,p):(d=t+2,d<s.length&&w(d,o)))},function(i,e){if(v++,p=!0,6==e.code?e.name="ConstraintError":b(a.logger,"error: "+e.message+" "+d),u)r(n,e,!0);else if(y[t]=e,v==s.length)f(a.logger,"success "+d),r(n,y,p);else{var o=t+2;o<s.length&&w(o,i)}return!1})}var l,g;t=!t;l=h(this.a,e);g=t?"INSERT INTO ":"INSERT OR REPLACE INTO ";e=n.a;var a=this,y=[],v=0,d=k(n)+" inserting "+s.length+" objects.",p=!1;if(0<s.length)for(t=0;2>t&&t<s.length;t++)w(t,e);else o(this.logger,"success"),r(n,[])};n.fb=function(n,t,i){var v,y;if(0==i.length)r(n,[]);else{for(var c=[],o=0,l=0,a=this,p=function(u,e){var y=[];f(a.logger,"put "+e.length+" objects to "+u);for(var s=on(h(a.a,u)),p=s?void 0:[],v=0;v<e.length;v++)y.push(t[e[v]]),s||p.push(i[e[v]].id);s=yw(n);ui(s,function(t){for(var i=0;i<e.length;i++)c[e[i]]=t[i];o++;o==l&&r(n,c)},function(){o++;o==l&&r(n,c,!0)});a.V(s,!1,!1,u,y,p)},s="",u=[],w=[],e=0;e<i.length;e++)v=i[e].h(),y=i[e].id,v!=s?(l++,0<u.length&&p(s,u),u=[e],w=[y],s=v):(u.push(e),w.push(y));0<u.length&&p(s,u)}};n.Za=function(n,t,i){var c=n.a,e=h(this.a,t),s=this,u;t=e.d;i=[ci(i,e.type)];t="SELECT * FROM "+ti(e)+" WHERE "+t+" = ?";u=k(n)+" SQL: "+t+" PARAMS: "+i;f(this.logger,u);c.executeSql(t,i,function(t,i){if(0<i.rows.length){var f=i.rows.item(0);null!=f?(f=be(f,e),r(n,f)):(o(s.logger,"success no result: "+u),r(n,void 0))}else o(s.logger,"success no result: "+u),r(n,void 0)},function(t,i){return b(s.logger,"error: "+u+" "+i.message),r(n,i,!0),!1})};n.Bb=function(n,t,i){function c(t,o){var v=s.d,a=[ci(i[t],s.type)],h="SELECT * FROM "+ti(s)+" WHERE "+v+" = ?";f(l.logger,"SQL: "+h+" PARAMS: "+a);o.executeSql(h,a,function(f,o){if(e++,0<o.rows.length){var h=o.rows.item(0);null!=h&&(u[t]=be(h,s))}else u[t]=void 0;e==i.length?r(n,u):(h=t+10,h<i.length&&c(h,f))},function(f,o){if(e++,b(l.logger,"error: "+h+" "+o.message),e==i.length)r(n,u);else{var s=t+10;s<i.length&&c(s,f)}return!1})}var a=n.a,l=this,u=[],e=0,s=h(this.a,t);if(0<i.length)for(t=0;10>t&&t<i.length;t++)c(t,a);else o(l.logger,"success"),r(n,[])};n.Cb=function(n,t){function o(i,c){var v=t[i],l=v.h(),a=h(u.a,l),l=en(v),v=a.d,l=[ci(l,a.type)],y="SELECT * FROM "+ti(a)+" WHERE "+v+" = ?";f(u.logger,"SQL: "+y+" PARAMS: "+l);c.executeSql(y,l,function(h,c){if(s++,0<c.rows.length){var l=c.rows.item(0);null!=l&&(e[i]=be(l,a))}else e[i]=void 0;s==t.length?(f(u.logger,"success "+y),r(n,e)):(l=i+10,l<t.length&&o(l,h))},function(t,i){return r(n,i,!0),!1})}var c=n.a,u=this,e=[],s=0,i;if(0<t.length)for(i=0;10>i&&i<t.length;i++)o(i,c);else f(this.logger,"success"),r(n,[])};n.Ta=function(n,t){function u(e,o){function y(n){n="ydn.db.me:"+s.getName()+":"+n.getName();n="DELETE FROM  "+vi(n);f(i.logger,"SQL: "+n);o.executeSql(n,[])}var s=h(i.a,t[e]),l="DELETE FROM  "+ti(s),c,v,a;for(f(i.logger,"SQL: "+l+" PARAMS: []"),o.executeSql(l,[],function(o){e==t.length-1?(f(i.logger,"success "+l),r(n,t.length)):u(e+1,o)},function(t,i){return r(n,i,!0),!1}),c=0,v=s.a.length;c<v;c++)a=s.index(c),a.multiEntry&&y(a)}var e=n.a,i=this;0<t.length?u(0,e):(f(this.logger,"success"),r(n,0))};n.Jb=function(n,t){function i(c){var p;if(c>=t.length)r(n,o,s);else{var l=h(u.a,t[c].h()),a=ci(t[c].id,l.type),w=" WHERE "+l.d+" = ?",v="DELETE FROM "+ti(l)+w,d=k(n)+" SQL: "+v+" PARAMS: "+[a];e.executeSql(v,[a],function(){o++;i(c)},function(n,t){return b(u.logger,"error: "+d+t.message),s=!0,i(c),!1});c++;for(var v=function(t){t="ydn.db.me:"+l.getName()+":"+t.getName();t="DELETE FROM  "+vi(t)+w;f(u.logger,k(n)+NaN+t);e.executeSql(t,[a])},y=0,g=l.a.length;y<g;y++)p=l.index(y),p.multiEntry&&v(p)}}var e=n.a,u=this,o=0,s=!1;f(this.logger,k(n)+" removeByKeys: "+t.length+" keys");i(0)};n.gb=function(n,t,i){function l(t){t="ydn.db.me:"+u.getName()+":"+t.getName();t="DELETE FROM  "+vi(t)+c;f(a.logger,k(n)+NaN+t);s.executeSql(t,[e])}var s=n.a,u=h(this.a,t),e=ci(i,u.type),a=this,c=" WHERE "+u.d+" = ?",o;for(t="DELETE FROM "+ti(u)+c,f(this.logger,k(n)+" SQL: "+t+" PARAMS: "+[e]),s.executeSql(t,[e],function(t,i){r(n,i.rowsAffected)},function(t,i){return r(n,i,!0),!1}),t=0,i=u.a.length;t<i;t++)o=u.index(t),o.multiEntry&&l(o)};n.wb=function(n,t,i){dv(this,n,t,void 0,i)};n.hb=function(n,t,i){dv(this,n,t,void 0,i)};n.Ib=function(n,t,i,r){dv(this,n,t,i,r)};n.Ua=function(n,t){function i(s){var h="SELECT COUNT(*) FROM "+vi(t[s]);f(o.logger,"SQL: "+h+" PARAMS: []");e.executeSql(h,[],function(f,e){var o=e.rows.item(0);u[s]=parseInt(o["COUNT(*)"],10);s++;s==t.length?r(n,u):i(s)},function(t,i){return r(n,i,!0),!1})}var e=n.a,o=this,u=[];0==t.length?(f(this.logger,"success"),r(n,0)):i(0)};n.Fa=function(n,t,i,u,e){var o=[];t=ka(h(this.a,t),o,6,u,i,!1,e);f(this.logger,k(n)+" SQL: "+t+" PARAMS: "+o);n.a.executeSql(t,o,function(t,i){var u=i.rows.item(0);r(n,nb(u))},function(t,i){return r(n,i,!0),!1})};n.O=function(n,t,u,e,s,c,l,a,v,y){var et=this,w=[],p=h(this.a,u),k=p.e,d=p.type,g=d,nt=null!=e&&e!==k?li(p,e):null,tt=e||k,it,ut;nt&&(g=nt.type);u=[];y&&i(y[0])?(it=y[0],nt&&i(y[1])?(e=y[1],s=bw(p,t,u,nt.getName(),s,it,!0,e,a,v)):s=ww(p,t,u,e,s,a,v,it,!0)):s=ka(p,u,t,tt,s,a,v);ft(c)&&(s+=" LIMIT "+c);ft(l)&&(s+=" OFFSET "+l);ut=n+" SQL: "+s+" ;params= "+rt(u);f(this.logger,ut);n.a.executeSql(s,u,function(i,u){for(var s=u.rows.length,f,e=0;e<s;e++)f=u.rows.item(e),2==t?w[e]=pr(f[k],d):1==t?w[e]=pr(f[tt],g):3==t?w[e]=[pr(f[tt],g),pr(f[k],d)]:null!=f&&(w[e]=be(f,p));o(et.logger,"success "+n);y&&f&&(y[0]=pr(f[tt],g),y[1]=pr(f[k],d));r(n,w)},function(t,i){return b(et.logger,"error: "+ut+i.message),r(n,i,!0),!1})};u(hc,kv);hc.prototype.logger=p("ydn.db.core.req.WebSql");hc.prototype.b=function(n,t,i,r){return i=h(this.a,i),new hs(n,t,i,r)};cf.prototype.logger=p("ydn.db.sql.req.websql.Node");cf.prototype.toJSON=function(){return{sql:this.b.I}};cf.prototype.toString=function(){return"websql.Node:"};cf.prototype.c=function(n,t,i){var r=this,u=[];t.executeSql(this.b.I,i,function(t,i){for(var e,s,o=i.rows.length,f=0;f<o;f++)e=i.rows.item(f),v(e)&&(s=stt(r,e)),u.push(s);n(u)},function(t,i){return b(r.logger,"Sqlite error: "+i.message),n(i,!0),!0})};u(gv,cf);gv.prototype.c=function(n,t,i){var r=this;t.executeSql(this.b.I,i,function(t,i){var r=i.rows.length;if(1==r)r=nb(i.rows.item(0)),n(r);else if(0==r)n(void 0);else throw new bh;},function(t,i){return b(r.logger,"Sqlite error: "+i.message),n(i,!0),!0})};u(cc,hc);cc.prototype.logger=p("ydn.db.sql.req.WebSql");cc.prototype.executeSql=function(n,t,i){var o=yi(t.b),u,f,e,s;if(1==o.length){if(u=h(this.a,o[0]),!u)throw new gi(o[0]);if(f=os(t),f)for(e=0;e<f.length;e++)if(!wr(u,f[e]))throw new gi('Index "'+f[e]+'" not found in '+o[0]);s=t.e?new gv(u,t):new cf(u,t);s.c(function(t,i){r(n,t,i)},n.a,i)}else throw new go(t.I);};u(cs,vt);cs.prototype.executeSql=function(n,i){for(var e,u,r=new cb(n),s=yi(r.b),f=0;f<s.length;f++)if(e=h(this.b,s[f]),!e)throw new t("store: "+e+" not exists.");return o(this.logger,"executeSql: "+n+" params: "+i),u=this.a.request("sql",yi(r.b),r.c),w(u,function(){y(this).executeSql(u,r,i||[])},this),u};u(ke,ai);ke.prototype.ka=function(n,t){return new cs(this,this.c,n,t)};ke.prototype.executeSql=function(n,t){return this.a.executeSql(n,t)};iy=ty=ny=!1;kr=lu;kr&&(-1!=kr.indexOf("Firefox")?ny=!0:-1!=kr.indexOf("Camino")||-1!=kr.indexOf("iPad")||-1!=kr.indexOf("iPhone")||-1!=kr.indexOf("iPod")||(-1!=kr.indexOf("Chrome")?ty=!0:-1!=kr.indexOf("Android")||-1!=kr.indexOf("Safari")&&(iy=!0)));var htt=ny,ctt=ty,ltt=iy;n=ab.prototype;n.lb=function(n,t){function h(n,i,u){for(o(r.logger,(u?"changing":"upgrading")+" version to "+n.version+" from "+s),u=0;u<t.stores.length;u++)att(r,n,i,t.stores[u]);i=n.objectStoreNames;var f=i.length;for(u=0;u<f;u++)ff(t,i[u])||(n.deleteObjectStore(i[u]),o(r.logger,"store: "+i[u]+" deleted."))}function u(n,t){l.c?b(r.logger,"database already set."):i(t)?(b(r.logger,t?t.message:"Error received."),r.q=null,l.m(t)):(r.q=n,r.q.onabort=function(n){f(r.logger,r+": abort");r.Oa(n.target.error)},r.q.onerror=function(n){f(r.logger,r+": error");r.Oa(n.target.error)},r.q.onversionchange=function(n){if(f(r.logger,r+" closing connection for onversionchange to: "+n.version),r.q&&(r.q.onabort=null,r.q.onblocked=null,r.q.onerror=null,r.q.onversionchange=null,r.eb(n),!n.defaultPrevented)){r.q.close();r.q=null;var t=Error();t.name=n.type;r.nb(t)}},l.callback(parseFloat(s)))}var r=this,l=new g,s=void 0,a=t.version,e;return st(this.logger,pi,"Opening database: "+n+" ver: "+(t.b?"auto":a)),e=i(a)?wt.open(n,a):wt.open(n),e.onsuccess=function(f){var e=f.target.result,o;i(s)||(s=e.version);st(r.logger,pi,"Database: "+e.name+", ver: "+e.version+" opened.");t.b?r.X(function(i){var o,l,s,f,a;if(t instanceof ru)for(o=0;o<i.stores.length;o++)ff(t,i.stores[o].getName())||fv(t,i.stores[o].clone());i=uv(t,i,!1,!0);0<i.length?(st(r.logger,pi,"Schema change require for difference in "+i),l=ft(e.version)?e.version+1:1,"IDBOpenDBRequest"in c?(e.close(),s=wt.open(n,l),s.onupgradeneeded=function(n){n=n.target.result;st(r.logger,pi,"re-open for version "+n.version);h(n,s.transaction,!1)},s.onsuccess=function(n){u(n.target.result)},s.onerror=function(){st(r.logger,pi,r+": fail.");u(null)}):(f=e.setVersion(l+""),f.a=function(n){b(r.logger,"migrating from "+e.version+" to "+l+" failed.");u(null,n)},f.onsuccess=function(){f.transaction.oncomplete=a;h(e,f.transaction,!0)},a=function(){var t=wt.open(n);t.onsuccess=function(n){n=n.target.result;st(r.logger,pi,r+": OK.");u(n)};t.onerror=function(){st(r.logger,pi,r+": fail.");u(null)}},null!=f.transaction&&(f.transaction.oncomplete=a))):u(e)},void 0,e):t.version>e.version?(o=e.setVersion(t.version),o.a=function(n){b(r.logger,"migrating from "+e.version+" to "+t.version+" failed.");u(null,n)},o.onsuccess=function(){h(e,o.transaction,!0)}):(t.version==e.version?st(r.logger,pi,"database version "+e.version+" ready to go"):b(r.logger,"connected database version "+e.version+" is higher than requested version."),r.X(function(n){n=uv(t,n,!1,!0);0<n.length?(st(r.logger,pi,n),u(null,new ce("different schema: "+n))):u(e)},void 0,e))},e.onupgradeneeded=function(n){n=n.target.result;s=NaN;st(this.logger,pi,"upgrade needed for version "+n.version);h(n,e.transaction,!1)},e.onerror=function(f){co(r.logger,'open request to database "'+n+'" '+(i(t.version)?" with version "+t.version:"")+" cause error of "+e.error.name);u(null,f)},e.onblocked=function(i){co(r.logger,"database "+n+" "+t.version+" block, close other connections.");u(null,i)},ft(this.va)&&!isNaN(this.va)&&setTimeout(function(){"done"!=e.readyState&&(co(r.logger,r+": database state is still "+e.readyState),u(null,new of("connection timeout after "+r.va)))},this.va),l};n.va=18e4;n.nb=function(){};n.Oa=function(){};n.eb=function(){};n.Qb=function(){return"indexeddb"};n.Pb=function(){return this.q||null};n.mb=function(){return!!this.q};n.logger=p("ydn.db.con.IndexedDb");n.q=null;n.Rb=function(){if(this.q)return parseFloat(this.q.version)};n.X=function(n,t,r){var u,e;if(r=r||this.q,i(t)){if(null===t){if(0==r.objectStoreNames.length){n(new tr(r.version));return}throw new ef;}r=t.db}else{for(t=[],u=r.objectStoreNames.length-1;0<=u;u--)t[u]=r.objectStoreNames[u];if(0==t.length){n(new tr(r.version));return}t=r.transaction(t,et)}for(var s=r.objectStoreNames,h=[],l=s.length,u=0;u<l;u++){for(var f=t.objectStore(s[u]),c=[],o=0,a=f.indexNames.length;o<a;o++)e=f.index(f.indexNames[o]),c[o]=new yr(e.keyPath,void 0,e.unique,e.multiEntry,e.name);h[u]=new er(f.name,f.keyPath,f.autoIncrement,void 0,c)}t=new tr(r.version,h);n(t)};n.Xa=function(n,t,i,r){var f=this.q,u;if(!t)for(t=[],u=f.objectStoreNames.length-1;0<=u;u--)t[u]=f.objectStoreNames[u];0==t.length?n(null):(t=f.transaction(t,i),t.oncomplete=function(n){r("complete",n)},t.onabort=function(n){r("abort",n)},n(t),n=null)};n.close=function(){st(this.logger,wu,this+" closing connection");this.q.close()};n.toString=function(){return"IndexedDB:"+(this.q?this.q.name+":"+this.q.version:"")};yo.push(function(n,t){if(!wt||t&&"indexeddb"!=t)return null;var r=wt.deleteDatabase(n),i=new bt("IDBVersionChangeEvent ");return r.onblocked=function(n){lo(i,n)},r.onerror=function(n){i.m(n)},r.onsuccess=function(n){i.callback(n)},i});n=de.prototype;n.lb=function(n,t){function y(t,i){var l=t.version?parseInt(t.version,10):0,r=i.b?isNaN(l)?1:l+1:i.version,e,c;rr(u.logger,n+": changing version from "+t.version+" to "+r);e=!1;c=0;t.changeVersion(t.version,r+"",function(n){u.X(function(t){var f,r;for(e=!0,f=0;f<i.count();f++)r=h(t,(i.stores[f]||null).getName()),r=r?kw(r,i.stores[f]||null):null,ytt(u,n,i.stores[f]||null,function(n){n&&c++},r);for(f=0;f<t.count();f++)r=t.stores[f]||null,ff(i,r.getName())||(i instanceof ru?fv(i,r):(r="DROP TABLE "+ti(r),o(u.logger,r),n.executeSql(r,[],function(){},function(n,t){throw t;})))},n,t)},function(i){co(u.logger,"SQLError "+i+" "+i.code+"("+i.message+") while changing version from "+t.version+" to "+r+" on "+n);throw i;},function(){if(e){var r=".";c!=i.stores.length&&(r=" but unexpected stores exists.");f(u.logger,n+":"+t.version+" ready"+r);s(t)}else b(u.logger,n+": changing version voided.")})}function s(n,t){i(t)?(u.u=null,a.m(t)):(u.u=n,a.callback(parseFloat(l)))}var u=this,l=NaN,a=new g,r=null,e;try{"sqlite"==this.b?c.sqlitePlugin?(r=c.sqlitePlugin.openDatabase(n,"",n,this.a),r.readTransaction||(r.readTransaction=r.transaction),r.changeVersion=function(n,t,i,u,f){r.transaction(i,u,f)}):(b(this.logger,"sqlitePlugin not found."),r=null,this.Pa=Error("sqlitePlugin not found.")):r=c.openDatabase(n,"",n,this.a)}catch(v){if("SECURITY_ERR"==v.name)b(this.logger,"SECURITY_ERR for opening "+n),r=null,this.Pa=new gh(v);else throw v;}return r?(l=r.version||"",e="database "+n+(0==l.length?"":" version "+r.version),null!=t.version&&t.version==r.version?(rr(u.logger,"Existing "+e+" opened as requested."),s(r)):this.X(function(n){(n=uv(t,n,!0,!1))?(0==l?rr(u.logger,"New "+e+" created."):t.b?rr(u.logger,"Existing "+e+" opened and schema change for "+n):rr(u.logger,"Existing "+e+" opened and  schema change to version "+t.version+" for "+n),y(r,t)):(rr(u.logger,"Existing "+e+" with same schema opened."),s(r))},null,r)):s(null,this.Pa),a};n.Qb=function(){return this.b};n.Pa=null;n.u=null;n.Pb=function(){return this.u||null};n.logger=p("ydn.db.con.WebSql");n.nb=function(){};n.Oa=function(){};n.Rb=function(){if(this.u)return parseFloat(this.u.version)};n.X=function(n,t,i){function h(n,t){throw t;}function s(t,i){var p,h,s,tt,v,it,d;if(i&&i.rows){for(p=0;p<i.rows.length;p++)if(h=i.rows.item(p),"__WebKitDatabaseInfoTable__"!=h.name&&"sqlite_sequence"!=h.name&&"table"==h.type){s="sql"in h?h.sql:void 0;f(u.logger,"Parsing table schema from SQL: "+s);for(var c=s.substr(s.indexOf("("),s.lastIndexOf(")")).match(/(?:"[^"]*"|[^,])+/g),v=void 0,w,s=[],g=!1,nt=!1,a=0;a<c.length;a++){var k=c[a].match(/\w+|"[^"]+"/g),y=ih(k,function(n){return n.toUpperCase()}),l=ir(k[0],'"'),k=ba(y[1]);-1!=y.indexOf("PRIMARY")&&-1!=y.indexOf("KEY")?(w=k,e(l)&&!gs(l)&&"_ROWID_"!=l&&(tt=l.split(","),v=l,1<tt.length&&(v=tt,w=void 0)),-1!=y.indexOf("AUTOINCREMENT")&&(g=!0)):"_ROWID_"!=l&&("_default_"==l?nt=!0:(it="UNIQUE"==y[2],0==l.lastIndexOf(h.tbl_name+"-",0)&&(l=l.substr(h.tbl_name.length+1)),y=new yr(l,k,it),s.push(y)))}if(0==h.name.lastIndexOf("ydn.db.me:",0))if(d=h.name.split(":"),3<=d.length){var rt=d[1],v=new yr(d[2],k,it,!0),c=iu(s,function(n){return n.getName()==d[2]});0<=c?s[c]=v:s.push(v);c=iu(r,function(n){return n.getName()===rt});0<=c?(a=r[c],r[c]=new er(a.getName(),a.keyPath,g,w,s,void 0,!nt)):r.push(new er(rt,void 0,!1,void 0,[v]));f(u.logger,'multi entry index "'+v.getName()+'" found in '+rt+(-1==c?"*":""))}else b(u.logger,'Invalid multiEntry store name "'+h.name+'"');else a=iu(r,function(n){return n.getName()===h.name}),0<=a?(c=r[a].index(0),s.push(c),r[a]=new er(h.name,v,g,w,s,void 0,!nt)):(s=new er(h.name,v,g,w,s,void 0,!nt),r.push(s))}p=new tr(o,r);n(p)}}var u=this,o=(i=i||this.u)&&i.version?parseFloat(i.version):void 0,o=isNaN(o)?void 0:o,r=[];t?t.executeSql("SELECT * FROM sqlite_master",[],s,h):i.readTransaction(function(t){u.X(n,t,i)},function(n){co(u.logger,"opening tx: "+n.message);throw n;},s)};n.mb=function(){return!!this.u};n.close=function(){this.u=null};n.Xa=function(n,t,i,r){function u(n){f(s.logger,s+": Tx "+i+" request cause error.");r("abort",n)}function e(){r("complete",{type:"complete"})}function o(t){n(t)}var s=this;null===this.u&&(n(null),r("abort",this.Pa));i==et?this.u.readTransaction(o,u,e):i==ha?this.u.changeVersion(this.u.version,this.u.version+1+"",o,u,e):this.u.transaction(o,u,e)};yo.push(function(n,t){var i,r,u;ot(c.openDatabase)&&(!t||"websql"==t)&&(i=new de,r=new ru,o(i.logger,"deleting websql database: "+n),r=i.lb(n,r),u=function(){var t=i.logger;t&&t.log(so,"all tables in "+n+" deleted.",void 0)},r.D(function(){i.Xa(function(t){t.executeSql('SELECT * FROM sqlite_master WHERE type = "table"',[],function(r,u){var e;if(u&&u.rows){for(var c=u.rows.length,h=0,s=0;s<c;s++)e=u.rows.item(s),"__WebKitDatabaseInfoTable__"!=e.name&&"sqlite_sequence"!=e.name&&(h++,f(i.logger,"deleting table: "+e.name),t.executeSql("DROP TABLE "+e.name));o(i.logger,h+' tables deleted from "'+n+'"')}},function(n,t){throw t;})},[],d,u)}),r.sb(function(){b(i.logger,"Connecting "+n+" failed.")}))});de.prototype.eb=function(){};de.prototype.toString=function(){return"WebSql:"+(this.u?":"+this.u.version:"")};kt.prototype.Va=function(n){return"indexeddb"==n&&(!wt||ltt?0:wt)?new ab(this.i,this.t):"sqlite"==n&&c.sqlitePlugin?new de(this.i,"sqlite"):"websql"==n&&ot(c.openDatabase)?new de(this.i):null};ke.prototype.executeSql=ke.prototype.executeSql;cs.prototype.executeSql=cs.prototype.executeSql;u(vb,ke);dt("ydn.db.Storage",vb);pb=new yb;yb.prototype.get=function(){return this.a};wb=rh("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));lf.prototype.ja=!0;lf.prototype.aa=function(){return""};lf.prototype.toString=function(){return"Const{}"};ry={};af.prototype.ja=!0;uy={};af.prototype.aa=function(){return this.a};af.prototype.toString=function(){return"SafeStyle{"+this.a+"}"};db=kb("");gb=/^[-.%_!# a-zA-Z0-9]+$/;n=lc.prototype;n.ja=!0;n.aa=function(){return""};n.cb=!0;n.ia=function(){return 1};n.toString=function(){return"SafeUrl{}"};fy={};n=ac.prototype;n.ja=!0;n.aa=function(){return""};n.cb=!0;n.ia=function(){return 1};n.toString=function(){return"TrustedResourceUrl{}"};ey={};n=ge.prototype;n.cb=!0;n.ia=function(){return this.b};n.ja=!0;n.aa=function(){return this.a};n.toString=function(){return"SafeHtml{"+this.a+"}"};var tk=/^[a-zA-Z0-9-]+$/,ptt=rh("action","cite","data","formaction","href","manifest","poster","src"),wtt=rh("embed","iframe","link","script","style","template");hy={};cy=vs("",0);vf.prototype.c=!0;vf.prototype.a=!0;vf.prototype.b=!1;u(vc,vf);vc.prototype.b=!0;vc.prototype.d=function(n){return n?uk(this,n).aa():""};u(ly,vf);ly.prototype.d=function(n){var t=[];return t.push(this.e," "),this.a&&t.push("[",ik(n),"] "),t.push("[",rk(n,this.f.get()),"s] "),t.push("[",n.c,"] "),t.push(n.d),this.b&&n.b&&t.push("\n",n.a),this.c&&t.push("\n"),t.join("")};fk.prototype.f=function(n){if(!this.d[n.c]){var t=this.a.d(n),i=ek;if(i)switch(n.e){case ea:yc(i,"info",t);break;case sh:yc(i,"error",t);break;case lr:yc(i,"warn",t);break;default:yc(i,"debug",t)}else this.c+=t}};ek=c.console;ok=!ni||ni&&9<=oh;!ue&&!ni||ni&&ni&&9<=oh||ue&&cr("1.9.1");ni&&cr("9");ay={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};pc.prototype.b=function(){var u=this.a,i=arguments,t=i[0],n=i[1],r;return!ok&&n&&(n.name||n.type)&&(t=["<",t],n.name&&t.push(' name="',hu(n.name),'"'),n.type&&(t.push(' type="',hu(n.type),'"'),r={},lp(r,n),delete r.type,n=r),t.push(">"),t=t.join("")),t=u.createElement(t),n&&(e(n)?t.className=n:l(n)?t.className=n.join(" "):btt(t,n)),2<i.length&&ktt(u,t,i),t};pc.prototype.contains=function(n,t){if(n.contains&&1==t.nodeType)return n==t||n.contains(t);if("undefined"!=typeof n.compareDocumentPosition)return n==t||Boolean(n.compareDocumentPosition(t)&16);for(;t&&n!=t;)t=t.parentNode;return t==n};vy.prototype.f=function(n){if(n){var i=100>=this.a.scrollHeight-this.a.scrollTop-this.a.clientHeight,t=this.d.createElement("div");t.className="logmsg";n=uk(this.b,n);t.innerHTML=ls(n);this.a.appendChild(t);i&&(this.a.scrollTop=this.a.scrollHeight)}};vy.prototype.clear=function(){this.a&&(this.a.innerHTML=ls(cy))};yy=!ni||ni&&9<=oh;ck=ni&&!cr("9");fe&&cr("528");ue&&cr("1.9b")||ni&&cr("8")||iw&&cr("9.5")||fe&&cr("528");ue&&!cr("8")||ni&&cr("9");py[" "]=function(){};u(ys,wi);ys.prototype.preventDefault=function(){ys.s.preventDefault.call(this);var n=this.a;if(n.preventDefault)n.preventDefault();else if(n.returnValue=!1,ck)try{(n.ctrlKey||112<=n.keyCode&&123>=n.keyCode)&&(n.keyCode=-1)}catch(t){}};wy=null;wc=null;p("ydn.debug");dt("ydn.debug.log",function(n,t,r){if(n=n||"ydn",ft(t))t=new nr("log",t);else if(e(t)){if(t=t.toUpperCase(),!ho){ho={};for(var f=0,u;u=tn[f];f++)ho[u.value]=u,ho[u.name]=u}t=ho[t]||null}else t=oa;(f=p(n))?f.b=t:window.console.log("logger "+n+" not available.");i(r)?!wc&&(n=wc=new vy(r),1!=n.c&&(r=ch(),t=n.e,r.a||(r.a=[]),r.a.push(t),n.c=!0),n=ch())&&(n.b=lr):!wy&&!wc&&(n=wy=new fk,1!=n.b&&(r=ch(),t=n.e,r.a||(r.a=[]),r.a.push(t),n.b=!0),n=ch())&&(n.b=lr)});u(ou,gr);ou.prototype.a=function(){return{}};ou.prototype.c=function(n){if(v(n))if(ot(n.Wa))n.Wa();else for(var t in n)delete n[t]};ou.prototype.U=function(){ou.s.U.call(this);for(var n=this.b;n.length;)this.c(n.pop());delete this.b};p("goog.debug.Trace");ak.prototype.toString=function(){var n=[];return n.push(this.type," ",this.count," (",Math.round(10*this.time)/10," ms)"),n.join("")};vk.prototype.toString=function(){return null==this.type?this.c:"["+this.type+"] "+this.c};lk.prototype.toString=function(){for(var u,f,n=[],r=-1,i=[],t=0;t<this.a.length;t++)u=this.a[t],1==u.a&&i.pop(),n.push(" ",gtt(u,r,i.join(""))),r=u.b,n.push("\n"),0==u.a&&i.push("|  ");for(0!=this.c.yb()&&(f=ds(),n.push(" Unstopped timers:\n"),gg(this.c,function(t){n.push("  ",t," (",f-t.startTime," ms, started at ",pk(t.startTime),")\n")})),r=this.d.sa(),t=0;t<r.length;t++)i=this.d.get(r[t]),1<i.count&&n.push(" TOTAL ",i,"\n");return n.push("Total tracers created ",0,"\n","Total comments created ",0,"\n","Overhead start: ",0," ms\n","Overhead end: ",0," ms\n","Overhead comment: ",0," ms\n"),n.join("")};new lk;no="closure_listenable_"+(1e6*Math.random()|0);wk=0;kc.prototype.add=function(n,t,i,r,u){var f=n.toString(),e;return n=this.a[f],n||(n=this.a[f]=[],this.b++),e=ky(n,t,r,u),-1<e?(t=n[e],i||(t.Ca=!1)):(t=new nit(t,this.src,f,!!r,u),t.Ca=i,n.push(t)),t};var dy="closure_lm_"+(1e6*Math.random()|0),gy={},bk=0;gc="__closure_events_fn_"+(1e9*Math.random()>>>0);u(pf,gr);pf.prototype[no]=!0;pf.prototype.addEventListener=function(n,t,i,r){np(this,n,t,i,r)};pf.prototype.removeEventListener=function(n,t,i,r){tp(this,n,t,i,r)};pf.prototype.U=function(){var n,u,i,r,t;if(pf.s.U.call(this),this.T){n=this.T;u=0;for(i in n.a){for(r=n.a[i],t=0;t<r.length;t++)++u,bc(r[t]);delete n.a[i];n.b--}}this.a=null};kt.prototype.addEventListener=function(n,i,r,u){var o,e,f;if("ready"==n)dk(tl(this),n,i,r,u);else{if(o="created error fail ready deleted updated versionchange".split(" "),e=function(n){if(!(0<=at(o,n)))throw new t('Invalid event type "'+n+'"');},it(n))for(f=0;f<n.length;f++)e(n[f]);else e(n);np(tl(this),n,i,r,u)}};kt.prototype.removeEventListener=function(n,t,i,r){tp(tl(this),n,t,i,r)};kt.prototype.H=function(n){var f=tl(this),r,t=f.a,i,o,u;if(t)for(r=[];t;t=t.a)r.push(t);if(f=f.b,t=n.type||n,e(n)?n=new wi(n,f):n instanceof wi?n.target=n.target||f:(i=n,n=new wi(t,f),lp(n,i)),i=!0,r)for(u=r.length-1;0<=u;u--)o=n.b=r[u],i=nl(o,t,!0,n)&&i;if(o=n.b=f,i=nl(o,t,!0,n)&&i,i=nl(o,t,!1,n)&&i,r)for(u=0;u<r.length;u++)o=n.b=r[u],i=nl(o,t,!1,n)&&i};kt.prototype.addEventListener=kt.prototype.addEventListener;kt.prototype.removeEventListener=kt.prototype.removeEventListener;ai.prototype.scan=ai.prototype.pc;ai.prototype.map=ai.prototype.map;ai.prototype.reduce=ai.prototype.reduce;ai.prototype.open=ai.prototype.open;vt.prototype.scan=vt.prototype.ob;vt.prototype.map=vt.prototype.map;vt.prototype.reduce=vt.prototype.reduce;vt.prototype.open=vt.prototype.open;ri.prototype.getKey=ri.prototype.qc;ri.prototype.getPrimaryKey=ri.prototype.p;ri.prototype.getValue=ri.prototype.w;ri.prototype.update=ri.prototype.update;ri.prototype.clear=ri.prototype.clear;dt("ydn.db.Iterator",s);dt("ydn.db.KeyIterator",uc);dt("ydn.db.ValueIterator",us);dt("ydn.db.IndexIterator",fc);dt("ydn.db.IndexValueIterator",fs);s.prototype.getState=s.prototype.Yb;s.prototype.getKeyRange=s.prototype.Nb;s.prototype.getIndexName=s.prototype.gc;s.prototype.getStoreName=s.prototype.h;s.prototype.isReversed=s.prototype.Q;s.prototype.isUnique=s.prototype.pa;s.prototype.isKeyIterator=s.prototype.ic;s.prototype.isIndexIterator=s.prototype.Zb;s.prototype.getPrimaryKey=s.prototype.p;s.prototype.getKey=s.prototype.hc;s.prototype.resume=s.prototype.Ob;s.prototype.reset=s.prototype.ib;s.prototype.reverse=s.prototype.reverse;uc.where=function(n,t,i,r,u){return new uc(n,vr(t,i,r,u))};us.where=function(n,t,i,r,u){return new us(n,vr(t,i,r,u))};fc.where=function(n,t,i,r,u,f){return new fc(n,t,vr(i,r,u,f))};fs.where=function(n,t,i,r,u,f){return new fs(n,t,vr(i,r,u,f))};dt("ydn.db.Streamer",br);br.prototype.push=br.prototype.push;br.prototype.collect=br.prototype.nc;br.prototype.setSink=br.prototype.dc;u(il,sr);il.prototype.f=function(){return!1};il.prototype.c=function(n,t){function u(t){i(n[t])?(f=!1,r[t]=!0):(r[t]=!1,0<=t-1&&u(t-1))}var r=[],f=!0;return u(n.length-1),f&&(r=[]),ntt(this,r,t)};u(rl,sr);rl.prototype.c=function(n,t){var e=[],s=t[0],o;if(null==s)return[];for(var f=!0,i=!1,u=s,h=[],r=1;r<n.length;r++)null!=t[r]?(o=ht(s,t[r]),h[r]=o,this.b?-1==o?f=!1:1==o&&(f=!1,i=!0,-1==ht(t[r],u)&&(u=t[r])):1==o?f=!1:-1==o&&(f=!1,i=!0,1==ht(t[r],u)&&(u=t[r]))):(f=!1,i=!0);if(f)for(i=0;i<n.length;i++)null!=t[i]&&(e[i]=!0);else if(i)for(i=0;i<n.length;i++)null!=t[i]&&(this.b?-1==ht(u,t[i])&&(e[i]=u):1==ht(u,t[i])&&(e[i]=u));else for(r=this.b?-1:1,i=1;i<n.length;i++)h[i]===r&&(e[i]=s);return f?(this.e++,this.a&&this.a.push(u),e):{continuePrimary:e}};u(ps,sr);ps.prototype.logger=p("ydn.db.algo.ZigzagMerge");ps.prototype.c=function(n,t){function c(n,t){var i=n.slice(0,n.length-1);return i.push(t),i}function h(n){return n[n.length-1]}var e=[],s,f;if(0==n.length||null==n[0]||null==n[0])return[];for(var i=!0,o=0,u=h(n[o]),l=[],r=1;r<n.length;r++)if(null!=n[r])s=h(n[r]),f=ht(u,s),l[r]=f,this.b?-1==f?i=!1:1==f&&(i=!1,u=s,o=1):1==f?i=!1:-1==f&&(i=!1,u=s,o=1);else return[];if(r=this.b?-1:1,i){for(i=0;i<n.length;i++)null!=n[i]&&(e[i]=!0);return this.a&&(this.d?this.a.push(t[0],u):this.a.push(t[0])),e}if(0==o)for(i=1;i<n.length;i++)l[i]==r&&(e[i]=c(n[i],u));else for(i=0;i<n.length;i++)i!=o&&null!=n[i]&&ht(u,h(n[i]))===r&&(e[i]=c(n[i],u));return{"continue":e}};dt("ydn.db.algo.NestedLoop",il);dt("ydn.db.algo.ZigzagMerge",ps);dt("ydn.db.algo.SortedMerge",rl);rd.prototype.a=function(n){return-1==this.b.indexOf(n)?n:null};ud.prototype.a=function(n){var u,i,t,r,f;return(n=n.toLowerCase(),t=n,3>n.length)?n:(n=n.substr(0,1),"y"==n&&(t=n.toUpperCase()+t.substr(1)),r=/^(.+?)(ss|i)es$/,i=/^(.+?)([^s])s$/,r.test(t)?t=t.replace(r,"$1$2"):i.test(t)&&(t=t.replace(i,"$1$2")),r=/^(.+?)eed$/,i=/^(.+?)(ed|ing)$/,r.test(t)?(i=r.exec(t),r=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,r.test(i[1])&&(r=/.$/,t=t.replace(r,""))):i.test(t)&&(i=i.exec(t),u=i[1],i=/^([^aeiou][^aeiouy]*)?[aeiouy]/,i.test(u)&&(t=u,i=/(at|bl|iz)$/,f=/([^aeiouylsz])\1$/,u=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,i.test(t)?t+="e":f.test(t)?(r=/.$/,t=t.replace(r,"")):u.test(t)&&(t+="e"))),r=/^(.+?)y$/,r.test(t)&&(i=r.exec(t),u=i[1],r=/^([^aeiou][^aeiouy]*)?[aeiouy]/,r.test(u)&&(t=u+"i")),r=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,r.test(t)&&(i=r.exec(t),u=i[1],i=i[2],r=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,r.test(u)&&(t=u+{ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"}[i])),r=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,r.test(t)&&(i=r.exec(t),u=i[1],i=i[2],r=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,r.test(u)&&(t=u+{icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""}[i])),r=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,i=/^(.+?)(s|t)(ion)$/,r.test(t)?(i=r.exec(t),u=i[1],r=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,r.test(u)&&(t=u)):i.test(t)&&(i=i.exec(t),u=i[1]+i[2],i=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,i.test(u)&&(t=u)),r=/^(.+?)e$/,r.test(t)&&(i=r.exec(t),u=i[1],r=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,i=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,f=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,r.test(u)||i.test(u)&&!f.test(u))&&(t=u),r=/ll$/,i=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,r.test(t)&&i.test(t)&&(r=/.$/,t=t.replace(r,"")),"y"==n&&(t=n.toLowerCase()+t.substr(1)),t)};fd.prototype.a=function(n){return n=n.toLowerCase(),n=n.replace(/([^c])\1/g,"$1"),n=function(n){return n.match(/^(kn|gn|pn|ae|wr)/)?n.substr(1,n.length-1):n}(n),n=n.replace(/mb$/,"m"),n=n.replace(/ck/g,"k"),n=function(n){return n=n.replace(/([^s]|^)(c)(h)/g,"$1x$3").trim(),n=n.replace(/cia/g,"xia"),n=n.replace(/c(i|e|y)/g,"s$1"),n.replace(/c/g,"k")}(n),n=function(n){return n=n.replace(/d(ge|gy|gi)/g,"j$1"),n.replace(/d/g,"t")}(n),n=function(n){return n=n.replace(/gh(^$|[^aeiou])/g,"h$1"),n.replace(/g(n|ned)$/g,"$1")}(n),n=function(n){return n=n.replace(/([^g]|^)(g)(i|e|y)/g,"$1j$3"),n=n.replace(/gg/g,"g"),n.replace(/g/g,"k")}(n),n=n.replace(/([aeiou])h([^aeiou])/g,"$1$2"),n=n.replace(/ph/g,"f"),n=n.replace(/q/g,"k"),n=n.replace(/s(h|io|ia)/g,"x$1"),n=function(n){return n=n.replace(/^x/,"s"),n.replace(/x/g,"ks")}(n),n=function(n){return n=n.replace(/t(ia|io)/g,"x$1"),n.replace(/th/,"0")}(n),n=n.replace(/tch/g,"ch"),n=n.replace(/v/g,"f"),n=n.replace(/^wh/,"w"),n=n.replace(/w([^aeiou]|$)/g,"$1"),n=n.replace(/y([^aeiou]|$)/g,"$1"),n=n.replace(/z/,"s"),n=n.charAt(0)+n.substr(1,n.length).replace(/[aeiou]/g,""),n.length>=this.b&&(n=n.substring(0,this.b)),n.toUpperCase()};var rit=new fd(32),uit=new ud,fit=new rd("a a's able about above according accordingly across actually after afterwards again against ain't all allow allows almost alone along already also although always am among amongst an and another any anybody anyhow anyone anything anyway anyways anywhere apart appear appreciate appropriate are aren't around as aside ask asking associated at available away awfully b be became because become becomes becoming been before beforehand behind being believe below beside besides best better between beyond both brief but by c c'mon c's came can can't cannot cant cause causes certain certainly changes clearly co com come comes concerning consequently consider considering contain containing contains corresponding could couldn't course currently d definitely described despite did didn't different do does doesn't doing don't done down downwards during e each edu eg eight either else elsewhere enough entirely especially et etc even ever every everybody everyone everything everywhere ex exactly example except f far few fifth first five followed following follows for former formerly forth four from further furthermore g get gets getting given gives go goes going gone got gotten greetings h had hadn't happens hardly has hasn't have haven't having he he's hello help hence her here here's hereafter hereby herein hereupon hers herself hi him himself his hither hopefully how howbeit however i i'd i'll i'm i've ie if ignored immediate in inasmuch inc indeed indicate indicated indicates inner insofar instead into inward is isn't it it'd it'll it's its itself j just k keep keeps kept know knows known l last lately later latter latterly least less lest let let's like liked likely little look looking looks ltd m mainly many may maybe me mean meanwhile merely might more moreover most mostly much must my myself n name namely nd near nearly necessary need needs neither never nevertheless new next nine no nobody non none noone nor normally not nothing novel now nowhere o obviously of off often oh ok okay old on once one ones only onto or other others otherwise ought our ours ourselves out outside over overall own p particular particularly per perhaps placed please plus possible presumably probably provides q que quite qv r rather rd re really reasonably regarding regardless regards relatively respectively right s said same saw say saying says second secondly see seeing seem seemed seeming seems seen self selves sensible sent serious seriously seven several shall she should shouldn't since six so some somebody somehow someone something sometime sometimes somewhat somewhere soon sorry specified specify specifying still sub such sup sure t t's take taken tell tends th than thank thanks thanx that that's thats the their theirs them themselves then thence there there's thereafter thereby therefore therein theres thereupon these they they'd they'll they're they've think third this thorough thoroughly those though three through throughout thru thus to together too took toward towards tried tries truly try trying twice two u un under unfortunately unless unlikely until unto up upon us use used useful uses using usually uucp v value various very via viz vs w want wants was wasn't way we we'd we'll we're we've welcome well went were weren't what what's whatever when whence whenever where where's whereafter whereas whereby wherein whereupon wherever whether which while whither who who's whoever whole whom whose why will willing wish with within without won't wonder would wouldn't x y yes yet you you'd you'll you're you've your yours yourself yourselves z zero".split(" "));return ed.prototype.next=function(n){for(var i=this.a,t=this.data[i],t=1,r=0;0<=i&&i<this.data.length;){if(t=this.data[i],t instanceof Array)if(n<t[0])t=-1;else if(n>t[1])t=1;else return this.a=i,!0;else{if(t==n)return this.a=i,!0;t=n<t?-1:1}if(0==r)r=t;else if(r!=t)break;if(i+=t,i>this.data.length||0>i)break}return!1},su.prototype.w=function(){return this.value},su.prototype.c=function(){return 1},sd=ctt||htt,su.prototype.qb=function(){return this.value},su.prototype.toString=function(){return"Entry:"+this.value},u(wf,su),n=wf.prototype,n.wa=function(){return{k:this.f,v:this.value.toLowerCase(),id:this.qb(),loc:this.Ma}},n.qb=function(){var n=[this.a,this.e,this.d,this.value];return sd?n:lh(n)},n.h=function(){return this.a},n.p=function(){return this.e},n.toString=function(){return["IndexEntry",this.a,this.e,this.value].join(":")},u(ul,su),ul.prototype.c=function(){return this.a*this.type*this.ub},ul.prototype.qb=function(){return this.value+"|"+this.g},u(to,wf),to.prototype.count=function(){return this.b.length},to.prototype.c=function(){for(var i=0,n=0;n<this.b.length;n++)var t=this.b[n],r=hn(this.i,t.h(),t.d),t=t.c(),i=i+t*r.c;return i},to.prototype.wa=function(){for(var t={value:this.value,primaryKey:this.e,storeName:this.a,score:this.c(),tokens:[]},n=0;n<this.b.length;n++)t.tokens[n]=this.b[n].wa();return t},to.prototype.toString=function(){return["RankEntry",this.a,this.e,this.value].join(":")+"["+this.b.length+"]"},u(ws,wf),ws.prototype.c=function(){var t,n=this.value;t=hd(this.b.value.toLowerCase().replace(/^\s+|\s+$/g,""));for(var n=hd(n.toLowerCase().replace(/^\s+|\s+$/g,"")),r=0,o=t.length+n.length,i,f,e,u=0;u<t.length;u++)for(f=t[u],i=0;i<n.length;i++)if(e=n[i],f==e){r++;delete n[i];break}return t=2*r/o,n=Math.log(this.Ma.length+1),r=this.b.c(),n*t*r},ws.prototype.wa=function(){return{keyPath:this.d,value:this.value,loc:this.Ma.slice()}},ws.prototype.toString=function(){return["ResultEntry",this.a,this.e,this.value].join(":")},fl.prototype.e=function(){for(var r,u,n,f,o,t=[],e=[],i=0;i<this.d.length;i++)r=this.d[i],0==r.b.type?-1==iu(e,function(n){return n.p()==r.p()&&n.h()==r.h()})&&e.push(r):(u=new to(this.a,r),n=iu(t,function(n){return n.p()==u.p()&&n.h()==u.h()}),0<=n&&(f=t[n],gt.splice.call(t,n,1),eit(f,u),u=f),hg(t,u));for(n=0;n<e.length;n++)for(f=e[n],i=t.length-1;0<=i;--i)if(o=t[i],f.p()==o.p()&&f.h()==o.h()){t.splice(n,1);break}return t.map(function(n){return n.wa()})},nt.prototype.tb=function(n,t){var i=this;t.a=new cit(t);sn(n,function(r,u){function o(u){var f=n.getName();va(u)&&du(r,function(n,e,o){if(e)o(n,e);else{lo(r,n);var s=wo(a.bound([f,u],[f,u,"￿"])),h=t.getName();hv(i.a,h,s).ha(function(){o(n,e)})}})}function s(t){var u=n.getName();du(r,function(n,f,e){f?e(n,f):(lo(r,n),t&&(t=wo(a.bound([u,t.lower],[u,t.upper,"￿"]))),hv(i.a,u,t).ha(function(){e(n,f)}))})}function e(u,f){var e=n.getName();du(r,function(n,o,s){var v,c,h,y;if(lo(r,n),o)s(n,o);else for(v=t.getName(),l(n)||(n=[n]),c=0;c<n.length;c++)h=n[c],va(h)&&(f&&(y=wo(a.bound([e,h],[e,h,"￿"])),hv(i.a,v,y)),h=vit(t.a,e,h,u[c]).map(function(n){return n.wa()}),h=wn(i.a,v,h),c==n.length-1&&h.ha(function(){s(n,o)}))})}var f=r.l;"put"==f?e([u[1]],!0):"put:array"==f?e(u[1],!0):"add"==f?e([u[1]],!1):"add:array"==f?e(u[1],!1):"rm:iter"==f||"clear"==f?s(u[1]):"rm"==f&&o(u[1])})},nt.prototype.F=function(n,i){var r=ln(this.c,n);if(!r)throw new t('full text index catalog "'+n+'" not found.');var r=r.a,u=lit(r,i),r=0==u.length?null:new fl(r.a,u);return r?pn(this.a,r):(this.logger.log(pi,'query "'+i+'" contains only noise and search is ignored',void 0),gu("search",null))},nt.prototype.search=nt.prototype.F,fl.prototype.collect=fl.prototype.e,n=bs.prototype,n.h=function(){return this.d.getName()},n.clone=function(){var n=new bs(this.d,this.a,this.f,this.e);return n.c=this.c.slice(),n.b=this.b.slice(),n},n.reverse=function(){var n=this.clone();return n.f=!this.f,n},n.unique=function(n){var t=this.clone();return t.e=!!n,t},n.n=function(n,t,i,r,u){if(i=vr(t,i,r,u),0<this.b.length)if(this.a)if(null!=this.a.lower&&null!=this.a.upper&&0==ht(this.a.lower,this.a.upper))n=l(this.a.lower)?this.a.lower.slice().push(t):[this.a.lower,t],r=null!=r?r:"￿",i=l(this.a.upper)?this.a.upper.slice().push(r):[this.a.upper,r],this.a=vr(t,n,r,i);else if(1==this.b.length&&this.b[0]==n||l(n)&&ro(this.b,n))this.a=this.a.Y(i);else return"cannot use where clause with existing filter";else return"cannot use where clause with existing filter";else this.b=l(n)?n:[n],this.a=this.a?this.a.Y(i):i;return null},u(kf,el),kf.prototype.open=function(){var n={push:function(){}},n=pit(this)?new ps(n):new rl(n);return this.db.ob(n,yit(this),d)},kf.prototype.$a=function(){return this.a.slice()},kf.prototype.select=function(){throw Error("not impl");},kf.prototype.reverse=function(){var n=this.a.map(function(n){return n.reverse()});return new kf(this.db,this.b,this.type,n)},u(tt,el),n=tt.prototype,n.lc=function(){return new tt(this.db,this.b,this.type,this.a.clone())},n.reverse=function(){var n=this.a.reverse();return new tt(this.db,this.b,this.type,n)},n.unique=function(n){if(!si(n))throw new t("unique value must be a boolean, but "+typeof n+" found");return n=this.a.unique(n),new tt(this.db,this.b,this.type,n)},n.L=function(n){var t=e(n)?[n]:n;if(n=this.a.clone(),t=ld(n,t))throw Error(t);return new tt(this.db,this.b,this.type,n)},n.n=function(n,i,r,u,f){if(bf(this.a)&&bf(this.a)!=n){var e=vr(i,r,u,f),e=new bs(h(this.b,this.a.h()),e,this.a.f,this.a.e);return this.Y(new tt(this.db,this.b,this.type,e))}if(!bf(this.a)&&!wr(h(this.b,this.a.h()),n))throw new t('index "'+n+'" not exists in '+this.a.h());if(e=this.a.clone(),n=e.n(n,i,r,u,f))throw new t(n);return new tt(this.db,this.b,this.type,e)},n.select=function(n){var s=h(this.b,this.a.h()),u=e(n)?[n]:n,r=this.type,o,f,c;if(n=this.a.clone(),r=bf(this.a),1==u.length)if(r=u[0],"_ROWID_"==r||r==s.keyPath)r=2;else if(r&&"*"!=r)if(wr(s,r)){if(s=ld(n,u))throw new t(s);r=1}else throw new t('Invalid select "'+r+'", index not found in store "'+s.getName()+'"');else r=4;else if(2==u.length){if(!r)throw new t("Only primary key can be selected for this query.");for(o=0;2>o;o++)if((f="_ROWID_"!=u[o])&&(f=s,c=u[o],f=!(i(f.keyPath)&&(1==f.f.length?f.keyPath===c:it(c)&&ro(f.f,c)))),f&&u[o]!=r)throw new t('select field name must be "'+r+'", but "'+u[o]+'" found.');r=3}else throw new t("Selecting more than 2 field names is not supported, but "+u.length+" fields selected.");return new tt(this.db,this.b,r,n)},n.mc=function(n){n=n||100;var i=4,t=fp(this);return this.c&&this.c[0]&&(t=t.Ob(this.c[0],this.c[1])),(2==this.type||3==this.type||1==this.type)&&(i=this.type),n=ttt(this.db,i,t,n),n.D(function(){"rest"==t.d&&(this.c=[t.g,t.p()])},this),n},n.$a=function(){return[this.a.clone()]},n.ac=function(n,i){var r=fp(this),u;if(r.a&&(r=new s(r.e,r.c,r.b,r.Q(),r.pa(),!1,r.f)),1>arguments.length)throw new t("too few arguments");if(2==arguments.length){if(!e(n)&&l(n)){if(!l(i))throw new t("an array is expected for second argument but, "+oi(i)+" of type "+typeof i+" found");if(n.length!=i.length)throw new t("length of two input arguments must be equal but, "+n.length+" and "+i.length+" found");}}else if(1==arguments.length){if(!v(n))throw new t("an object is expected but, "+oi(n)+" of type "+typeof n+" found");}else throw new t("too many arguments");return u=this.db.open(function(t){var f=t.w(),r;if(e(n))cw(f,n,i);else if(l(n))for(r=0;r<n.length;r++)cw(f,n[r],i[r]);else if(v(n))for(r in n)n.hasOwnProperty(r)&&(f[r]=n[r]);kg(u,t.update(f))},r,d,this)},n.open=function(n,t){return this.db.open(n,fp(this),d,t)},n.count=function(){return up(this.a)?this.a.e?this.db.count(rp(this.a)):this.db.count(this.a.h(),bf(this.a),this.a.a):this.db.count(this.a.h(),this.a.a)},n.clear=function(){return up(this.a)?this.db.clear(this.a.h(),bf(this.a),this.a.a):this.db.clear(this.a.h(),this.a.a)},n.Y=function(n){return n=n.$a().concat(this.$a()),new kf(this.db,this.b,this.type,n)},ai.prototype.K=function(n,r,u,f,o){if(!e(n))throw new TypeError('store name "'+n+'"');if(!ff(this.c,n))throw new t('Store "'+n+'" not found.');var s=null;if(i(r)){if(!i(u))throw new t("boundary value must be defined.");s=vr(r,u,f,o)}else if(i(f))throw new t("second boundary must not be defined.");return n=new bs(h(this.c,n),s),new tt(this.a,this.c,null,n)},vt.prototype.K=function(n,r,u,f,o){if(!e(n))throw new TypeError('store name "'+n+'"');if(!ff(this.b,n))throw new t('Store "'+n+'" not found.');var s=null;if(i(r)){if(!i(u))throw new t("boundary value must be defined.");s=vr(r,u,f,o)}else if(i(f))throw new t("second boundary must not be defined.");return n=new bs(h(this.b,n),s),new tt(this,this.b,null,n)},p("ydn.db.query.ConjunctionCursor"),tt.prototype.copy=tt.prototype.lc,tt.prototype.count=tt.prototype.count,tt.prototype.list=tt.prototype.mc,tt.prototype.order=tt.prototype.L,tt.prototype.patch=tt.prototype.ac,tt.prototype.reverse=tt.prototype.reverse,tt.prototype.unique=tt.prototype.unique,tt.prototype.where=tt.prototype.n,ai.prototype.from=ai.prototype.K,vt.prototype.from=vt.prototype.K,vd=[[48,57],[65,90],[97,122],170,[178,179],181,[185,186],[188,190],[192,214],[216,246],[248,705],[710,721],[736,740],748,750,[880,884],[886,887],[890,893],902,[904,906],908,[910,929],[931,1013],[1015,1153],[1162,1319],[1329,1366],1369,[1377,1415],[1488,1514],[1520,1522],[1568,1610],[1632,1641],[1646,1647],[1649,1747],1749,[1765,1766],[1774,1788],1791,1808,[1810,1839],[1869,1957],1969,[1984,2026],[2036,2037],2042,[2048,2069],2074,2084,2088,[2112,2136],2208,[2210,2220],[2308,2361],2365,2384,[2392,2401],[2406,2415],[2417,2423],[2425,2431],[2437,2444],[2447,2448],[2451,2472],[2474,2480],2482,[2486,2489],2493,2510,[2524,2525],[2527,2529],[2534,2545],[2548,2553],[2565,2570],[2575,2576],[2579,2600],[2602,2608],[2610,2611],[2613,2614],[2616,2617],[2649,2652],2654,[2662,2671],[2674,2676],[2693,2701],[2703,2705],[2707,2728],[2730,2736],[2738,2739],[2741,2745],2749,2768,[2784,2785],[2790,2799],[2821,2828],[2831,2832],[2835,2856],[2858,2864],[2866,2867],[2869,2873],2877,[2908,2909],[2911,2913],[2918,2927],[2929,2935],2947,[2949,2954],[2958,2960],[2962,2965],[2969,2970],2972,[2974,2975],[2979,2980],[2984,2986],[2990,3001],3024,[3046,3058],[3077,3084],[3086,3088],[3090,3112],[3114,3123],[3125,3129],3133,[3160,3161],[3168,3169],[3174,3183],[3192,3198],[3205,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],3261,3294,[3296,3297],[3302,3311],[3313,3314],[3333,3340],[3342,3344],[3346,3386],3389,3406,[3424,3425],[3430,3445],[3450,3455],[3461,3478],[3482,3505],[3507,3515],3517,[3520,3526],[3585,3632],[3634,3635],[3648,3654],[3664,3673],[3713,3714],3716,[3719,3720],3722,3725,[3732,3735],[3737,3743],[3745,3747],3749,3751,[3754,3755],[3757,3760],[3762,3763],3773,[3776,3780],3782,[3792,3801],[3804,3807],3840,[3872,3891],[3904,3911],[3913,3948],[3976,3980],[4096,4138],[4159,4169],[4176,4181],[4186,4189],4193,[4197,4198],[4206,4208],[4213,4225],4238,[4240,4249],[4256,4293],4295,4301,[4304,4346],[4348,4680],[4682,4685],[4688,4694],4696,[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],4800,[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4969,4988],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5870,5872],[5888,5900],[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],6103,6108,[6112,6121],[6128,6137],[6160,6169],[6176,6263],[6272,6312],6314,[6320,6389],[6400,6428],[6470,6509],[6512,6516],[6528,6571],[6593,6599],[6608,6618],[6656,6678],[6688,6740],[6784,6793],[6800,6809],6823,[6917,6963],[6981,6987],[6992,7001],[7043,7072],[7086,7141],[7168,7203],[7232,7241],[7245,7293],[7401,7404],[7406,7409],[7413,7414],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8124],8126,[8130,8132],[8134,8140],[8144,8147],[8150,8155],[8160,8172],[8178,8180],[8182,8188],[8304,8305],[8308,8313],[8319,8329],[8336,8348],8450,8455,[8458,8467],8469,[8473,8477],8484,8486,8488,[8490,8493],[8495,8505],[8508,8511],[8517,8521],8526,[8528,8585],[9312,9371],[9450,9471],[10102,10131],[11264,11310],[11312,11358],[11360,11492],[11499,11502],[11506,11507],11517,[11520,11557],11559,11565,[11568,11623],11631,[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],11823,[12293,12295],[12321,12329],[12337,12341],[12344,12348],[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12690,12693],[12704,12730],[12784,12799],[12832,12841],[12872,12879],[12881,12895],[12928,12937],[12977,12991],13312,19893,19968,40908,[40960,42124],[42192,42237],[42240,42508],[42512,42539],[42560,42606],[42623,42647],[42656,42735],[42775,42783],[42786,42888],[42891,42894],[42896,42899],[42912,42922],[43e3,43009],[43011,43013],[43015,43018],[43020,43042],[43056,43061],[43072,43123],[43138,43187],[43216,43225],[43250,43255],43259,[43264,43301],[43312,43334],[43360,43388],[43396,43442],[43471,43481],[43520,43560],[43584,43586],[43588,43595],[43600,43609],[43616,43638],43642,[43648,43695],43697,[43701,43702],[43705,43709],43712,43714,[43739,43741],[43744,43754],[43762,43764],[43777,43782],[43785,43790],[43793,43798],[43808,43814],[43816,43822],[43968,44002],[44016,44025],44032,55203,[55216,55238],[55243,55291],[63744,64109],[64112,64217],[64256,64262],[64275,64279],64285,[64287,64296],[64298,64310],[64312,64316],64318,[64320,64321],[64323,64324],[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140],[65142,65276],[65296,65305],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500],[65536,65547],[65549,65574],[65576,65594],[65596,65597],[65599,65613],[65616,65629],[65664,65786],[65799,65843],[65856,65912],65930,[66176,66204],[66208,66256],[66304,66334],[66336,66339],[66352,66378],[66432,66461],[66464,66499],[66504,66511],[66513,66517],[66560,66717],[66720,66729],[67584,67589],67592,[67594,67637],[67639,67640],67644,[67647,67669],[67672,67679],[67840,67867],[67872,67897],[67968,68023],[68030,68031],68096,[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68192,68222],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[69216,69246],[69635,69687],[69714,69743],[69763,69807],[69840,69864],[69872,69881],[69891,69926],[69942,69951],[70019,70066],[70081,70084],[70096,70105],[71296,71338],[71360,71369],[73728,74606],[74752,74850],[77824,78894],[92160,92728],[93952,94020],94032,[94099,94111],[110592,110593],[119648,119665],[119808,119892],[119894,119964],[119966,119967],119970,[119973,119974],[119977,119980],[119982,119993],119995,[119997,120003],[120005,120069],[120071,120074],[120077,120084],[120086,120092],[120094,120121],[120123,120126],[120128,120132],120134,[120138,120144],[120146,120485],[120488,120512],[120514,120538],[120540,120570],[120572,120596],[120598,120628],[120630,120654],[120656,120686],[120688,120712],[120714,120744],[120746,120770],[120772,120779],[120782,120831],[126464,126467],[126469,126495],[126497,126498],126500,126503,[126505,126514],[126516,126519],126521,126523,126530,126535,126537,126539,[126541,126543],[126545,126546],126548,126551,126553,126555,126557,126559,[126561,126562],126564,[126567,126570],[126572,126578],[126580,126583],[126585,126588],126590,[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[127232,127242],131072,173782,173824,177972,177984,178205,[194560,195101]],ydn},this||{});